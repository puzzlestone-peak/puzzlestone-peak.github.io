<!DOCTYPE html><html lang="en" class=""><head><meta charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-1LM5FNK1VX"></script><meta name="color-scheme" content="dark light"/><link rel="preload" href="/assets/poppins-400-cpxAROuN.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="/assets/poppins-500-C8OXljZJ.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="/assets/poppins-600-zEkxB9Mr.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="/assets/poppins-700-Qrb0O0WB.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><title>8 Queens - Puzzlestone Peak</title><meta name="description" content="Can you place 8 queens on a chessboard so that no queen can capture any other queen? Recall that a queen can move any number of squares horizontally,..."/><meta property="og:title" content="8 Queens - Puzzlestone Peak"/><meta property="og:description" content="Can you place 8 queens on a chessboard so that no queen can capture any other queen? Recall that a queen can move any number of squares horizontally,..."/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="8 Queens - Puzzlestone Peak"/><meta name="twitter:description" content="Can you place 8 queens on a chessboard so that no queen can capture any other queen? Recall that a queen can move any number of squares horizontally,..."/><meta name="keywords" content="logic, easy, logic puzzle"/><link rel="modulepreload" href="/assets/manifest-85b096c9.js"/><link rel="modulepreload" href="/assets/entry.client-BQEHofJp.js"/><link rel="modulepreload" href="/assets/index-DIth0oIc.js"/><link rel="modulepreload" href="/assets/root-CCbLxRZ8.js"/><link rel="modulepreload" href="/assets/Logo-BRp-LhsU.js"/><link rel="modulepreload" href="/assets/use-dark-mode-mdHJdo6o.js"/><link rel="modulepreload" href="/assets/card-CeispfCi.js"/><link rel="modulepreload" href="/assets/NavHeightContext-BwIQMGhB.js"/><link rel="modulepreload" href="/assets/expeditionIndex-Dy75PiyG.js"/><link rel="modulepreload" href="/assets/puzzleIndex-DyzQ37ey.js"/><link rel="modulepreload" href="/assets/loader-circle-F5-c-Aqt.js"/><link rel="modulepreload" href="/assets/puzzle-detail-CWY6_H4M.js"/><link rel="modulepreload" href="/assets/useBack-BDsmIQAJ.js"/><link rel="modulepreload" href="/assets/ItemCardList-DC-u4o5t.js"/><link rel="modulepreload" href="/assets/ErrorBoundary-Ch767kHG.js"/><link rel="modulepreload" href="/assets/chevron-left-CY6pwb5D.js"/><script>
              (function initTheme() {
                if (localStorage.getItem('darkmode') === '1') {
                  document.documentElement.classList.add('dark');
                }
              })();
            </script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());
              gtag('config', 'G-1LM5FNK1VX');
            </script><link rel="stylesheet" href="/assets/root-DvvwlXDE.css"/><link rel="stylesheet" href="/assets/useBack-CyAuISp2.css"/></head><body><section aria-label="Notifications alt+T" tabindex="-1" aria-live="polite" aria-relevant="additions text" aria-atomic="false"></section><div class="min-h-screen bg-background"><nav class="sticky top-0 z-[1000] border-b border-border bg-card"><div class="container mx-auto px-6"><div class="flex h-16 items-center justify-between"><a class="flex items-center gap-3 text-nav-foreground no-underline" href="/" data-discover="true"><svg class="h-10 w-10 text-nav-foreground" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2211.37 2208.98" aria-label="Puzzlestone Peak Logo"><g><g><path fill="currentColor" d="M1108.28,0c649.77,5.24,1114.13,533.8,1102.89,1120-11.85,618.13-493.23,1100.61-1128,1088.81C450,2197-8.61,1690.25.12,1087.2,8.81,487.59,492.57,4.1,1108.28,0ZM121.13,1114.76c1.14,543.44,432.5,984.51,996.37,978.51,557.06-5.93,978-444.2,971.35-995.6C2082,528.37,1628.73,114,1095.67,118.84,573.44,123.64,121,538.05,121.13,1114.76Z"></path><path fill="currentColor" d="M2021.18,1304.81c-125.17-118.57-243.11-238.8-364.9-359.1-2.56,14.24,1.92,24,3.82,33.95,4.41,23.07,11.61,45.81,13.73,69.05,4,43.53,24.59,76.14,55.56,106,57.17,55,111.85,112.69,167.64,169.19,3.08,3.11,6.78,5.62,13.43,11.07l-29.92-94c24.62,13.75,40.06,32.2,57.87,47.59,20.91,18.06,40.77,37.34,61.77,55.28,8.84,7.54,10.58,14.7,7.36,25.8-20.06,69.13-47.63,135-81.34,198.6-9.36,17.65-14.91,9.53-22.48,0q-90.9-114.8-181.89-229.53-95.47-120.15-191.27-240c-1-1.26-2.64-2-7-5.25,9.72,71.9,28.35,139.3,37.91,208.53-107.81-169.7-206.63-344.59-311.28-516-9.22,3.51-3.87,12.13-10,16-12-7.35-18.72-20.06-27.45-30.66q-45.4-55.15-89.63-111.28c-9.15-11.66-14.16-9.84-23.87.14-12.63,13-13.15,24.45-6.86,40.56,17.11,43.76,35.07,87.25,48.64,132.33,1,3.28,1.72,6.64,3.84,14.9L1022.35,771.4l-2.78,2.64c13.51,22.36,26.89,44.8,40.55,67.06,24.58,40.09,49,80.27,74.21,120,6,9.48,6,15.92-1.51,24.54-28.26,32.31-55.84,65.21-83.61,97.95-15.86,18.69-15.92,18.85,1.06,35.86q114.7,114.87,229.51,229.63c2.84,2.84,5.41,6,11.73,12.92-46.79-8.28-88.16-19-132.09-25.8l298,291.64,3.93-2.17L1430.53,1306c23.59,34.58,44.25,64.91,65,95.22q123.36,180.63,251.43,357.94c1.38,1.9,2.39,4.13,4,5.79,13.32,13.77,9.47,24-4.25,35.81-47.75,41.22-98,78.83-151.9,111.65-8.1,4.94-16.34,5.41-25.27,5.45-104.54.45-203.43-26.94-300.81-61.29-107-37.74-210.39-84.76-315.67-126.92-149.26-59.78-302.65-102.49-463-118.55-55.13-5.53-110.43-4.65-165.7-3.63-9.28.18-16.45-.49-22-10-61.64-105.06-105-216.59-122.31-337.73-1.51-10.61,1.49-17.46,8.71-24.81q184.24-187.54,367.82-375.72c10-10.28,15.36-7.56,23.67,1.12,35.77,37.39,72.31,74.05,108,111.53,8.31,8.73,13.08,10.25,21.86.21Q871.5,787.48,1033.71,603.54c21-23.84,42.59-47.13,63.21-71.27,8.62-10.09,13.52-8.08,21.52,1q195.46,222.81,391.26,445.32c9.78,11.18,14.44,10.28,23.92.32,36.07-37.91,73.29-74.72,109.47-112.54,8.26-8.63,13.09-7.71,20.87.25q175.07,179.21,350.85,357.7c13.23,13.39,20.15,25.9,13.9,44.57C2025.39,1278.84,2024.3,1289.49,2021.18,1304.81ZM564.41,931.41c0,18.05-1.59,31,.28,43.31,7.16,47.25-7.05,85.12-43.68,116.5-15.75,13.5-32.89,30.56-38.74,49.32-11,35.33-14.27,73.08-20.87,110.49,8.29-1,11-6.85,14.51-11.08q84.69-101.51,174.52-198.49c8.71-9.46,11.86-16.15.08-25.48-9.14-7.24-16.56-16.62-24.93-24.86C606.56,972.43,587.42,953.86,564.41,931.41Z"></path><path fill="currentColor" d="M1258,2036.19c-156.22,31.67-307.68,13.84-456-37.14-128-44-242.37-111.53-346.16-205.19,33.78-3.18,62.72.36,91.57,3.41,177.71,18.78,340.49,86.11,502.68,155.25,63.74,27.17,127.88,53.3,193.63,75.29C1248.52,2029.42,1254.05,2029.85,1258,2036.19Z"></path><path fill="currentColor" d="M1461.61,671.32c.48-75.58,59.09-133.3,135-132.91,69.62.35,129.18,61.43,128.77,132.05-.43,74-59.91,132.06-134.66,131.48C1518.42,801.37,1461.15,743.42,1461.61,671.32Z"></path></g></g></svg><span class="text-[1.25rem] font-semibold leading-none">Puzzlestone Peak</span></a><div class="hidden items-center gap-6 md:flex"><ul class="flex items-center gap-8"><li><a class="relative pb-2 text-[1rem] font-medium text-nav-foreground no-underline after:absolute after:bottom-0 after:left-0 after:h-[2px] after:w-0 after:bg-nav-foreground after:transition-all after:duration-200 hover:after:w-full" href="/puzzles" data-discover="true">Puzzles</a></li><li><a class="relative pb-2 text-[1rem] font-medium text-nav-foreground no-underline after:absolute after:bottom-0 after:left-0 after:h-[2px] after:w-0 after:bg-nav-foreground after:transition-all after:duration-200 hover:after:w-full" href="/expeditions" data-discover="true">Expeditions</a></li><li><a class="relative pb-2 text-[1rem] font-medium text-nav-foreground no-underline after:absolute after:bottom-0 after:left-0 after:h-[2px] after:w-0 after:bg-nav-foreground after:transition-all after:duration-200 hover:after:w-full" href="/progress" data-discover="true">Progress</a></li></ul><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 cursor-pointer disabled:cursor-not-allowed disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 h-10 w-10 text-primary hover:bg-primary hover:text-background" aria-label="Light mode enabled. Switch to dark mode" aria-pressed="false"><div><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class=""><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg></div></button></div><button class="flex h-8 w-8 cursor-pointer flex-col justify-around border-none bg-transparent p-1 text-nav-foreground md:hidden" aria-label="Toggle mobile menu" aria-expanded="false" aria-controls="mobile-menu"><span class="block h-[2px] w-full bg-current transition-all duration-300"></span><span class="block h-[2px] w-full bg-current transition-all duration-300"></span><span class="block h-[2px] w-full bg-current transition-all duration-300"></span></button></div></div></nav><div id="mobile-menu" class="fixed left-0 right-0 top-16 z-[999] border-b border-border bg-card shadow-lg transition-all duration-300 md:hidden pointer-events-none -translate-y-full opacity-0"><div class="px-6 pb-6 pt-4"><ul class="flex flex-col gap-3"><li><a class="flex items-center border-l-[3px] px-4 py-3.5 text-base font-medium text-nav-foreground no-underline transition-all duration-200 border-l-transparent hover:border-l-nav-foreground hover:bg-muted" href="/puzzles" data-discover="true">Puzzles</a></li><li><a class="flex items-center border-l-[3px] px-4 py-3.5 text-base font-medium text-nav-foreground no-underline transition-all duration-200 border-l-transparent hover:border-l-nav-foreground hover:bg-muted" href="/expeditions" data-discover="true">Expeditions</a></li><li><a class="flex items-center border-l-[3px] px-4 py-3.5 text-base font-medium text-nav-foreground no-underline transition-all duration-200 border-l-transparent hover:border-l-nav-foreground hover:bg-muted" href="/progress" data-discover="true">Progress</a></li></ul><div class="mt-4 flex justify-center border-t border-border pt-4"><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 cursor-pointer disabled:cursor-not-allowed disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 h-10 w-10 text-primary hover:bg-primary hover:text-background" aria-label="Light mode enabled. Switch to dark mode" aria-pressed="false"><div><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class=""><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg></div></button></div></div></div><main><div class="container mx-auto px-4 py-6 max-w-4xl"><a class="inline-flex items-center gap-1.5 text-link hover:text-link-hover hover:underline mb-6 cursor-pointer" href="/puzzles" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left size-4" aria-hidden="true"><path d="m15 18-6-6 6-6"></path></svg>Back</a><div class="flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-4"><h1 class="text-4xl font-bold text-foreground sm:flex-1">8 Queens</h1><button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 cursor-pointer disabled:cursor-not-allowed disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 border bg-background h-10 px-4 py-2 border-completed text-completed hover:bg-completed/20 gap-2 w-full sm:w-40" aria-label="Mark puzzle as solved">Mark as Solved</button></div><div class="space-y-4 border-b border-divider pb-6 mb-6"><div><span class="px-3 py-1 rounded-full text-sm font-medium bg-difficulty-easy text-difficulty-easy-foreground">Easy</span></div><div class="text-sm text-muted-foreground"><span>Created: <!-- -->February 3, 2026</span></div></div><div class="markdown-content prose max-w-none space-y-4"><p>Can you place 8 queens on a chessboard so that no queen can capture any other queen? Recall that a queen can move any number of squares horizontally, vertically, or diagonally.</p>
<p>You may click on the board below to place and remove queens.</p>
<div class="dynamic-block-container flex justify-center"><iframe class="border-0 block" sandbox="allow-scripts" srcDoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src &#x27;none&#x27;; script-src &#x27;unsafe-inline&#x27;; style-src &#x27;unsafe-inline&#x27;; img-src data:;&quot;&gt;
  &lt;style&gt;
    /* Prevent scrollbars in iframe while allowing content to expand */
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      height: auto;
      min-height: 0;
    }

    body {
      display: flex;
      flex-direction: column;
    }

    #root {
      /* flex: 1; */
      /* min-height: 0; */
    }

    /* Theme CSS variables (light/dark mode) */
    /* Theme overrides and customizations */

:root {
  --width-container: 1000px;
}

/* Text selection styling (applied to both main app and iframes) */
::selection {
  background-color: var(--color-selection);
  color: var(--color-selection-foreground);
}


:root {
  --radius: 0.5rem;

  /* Navy */
  --color-navy-50: oklch(0.97 0.015 220);
  --color-navy-100: oklch(0.94 0.020 220);
  --color-navy-200: oklch(0.88 0.030 220);
  --color-navy-300: oklch(0.80 0.045 220);
  --color-navy-400: oklch(0.68 0.060 220);
  --color-navy-500: oklch(0.55 0.075 220);
  --color-navy-600: oklch(0.45 0.080 220);
  --color-navy-700: oklch(0.35 0.075 220);
  --color-navy-800: oklch(0.27 0.065 220);
  --color-navy-900: oklch(0.20 0.050 220);
  --color-navy-950: oklch(0.15 0.040 220);

  /* Frost */
  --color-frost-50: oklch(0.98 0.010 250);
  --color-frost-100: oklch(0.95 0.015 250);
  --color-frost-200: oklch(0.90 0.025 250);
  --color-frost-300: oklch(0.83 0.035 250);
  --color-frost-400: oklch(0.74 0.045 250);
  --color-frost-500: oklch(0.65 0.055 250);
  --color-frost-600: oklch(0.55 0.060 250);
  --color-frost-700: oklch(0.45 0.055 250);
  --color-frost-800: oklch(0.35 0.045 250);
  --color-frost-900: oklch(0.27 0.035 250);
  --color-frost-950: oklch(0.20 0.025 250);

  /* Lagoon */
  --color-lagoon-50: oklch(0.97 0.015 185);
  --color-lagoon-100: oklch(0.94 0.025 185);
  --color-lagoon-200: oklch(0.88 0.040 185);
  --color-lagoon-300: oklch(0.80 0.055 185);
  --color-lagoon-400: oklch(0.70 0.070 185);
  --color-lagoon-500: oklch(0.60 0.080 185);
  --color-lagoon-600: oklch(0.50 0.085 185);
  --color-lagoon-700: oklch(0.40 0.080 185);
  --color-lagoon-800: oklch(0.32 0.070 185);
  --color-lagoon-900: oklch(0.25 0.055 185);
  --color-lagoon-950: oklch(0.18 0.040 185);

  /* Evergreen */
  --color-evergreen-50: oklch(0.97 0.020 155);
  --color-evergreen-100: oklch(0.93 0.035 155);
  --color-evergreen-200: oklch(0.87 0.055 155);
  --color-evergreen-300: oklch(0.79 0.070 155);
  --color-evergreen-400: oklch(0.69 0.085 155);
  --color-evergreen-500: oklch(0.59 0.095 155);
  --color-evergreen-600: oklch(0.49 0.100 155);
  --color-evergreen-700: oklch(0.41 0.095 155);
  --color-evergreen-800: oklch(0.33 0.080 155);
  --color-evergreen-900: oklch(0.27 0.065 155);
  --color-evergreen-950: oklch(0.21 0.050 155);

  /* Sand */
  --color-sand-50: oklch(0.98 0.012 95);
  --color-sand-100: oklch(0.95 0.020 95);
  --color-sand-200: oklch(0.90 0.035 95);
  --color-sand-300: oklch(0.84 0.050 95);
  --color-sand-400: oklch(0.76 0.065 95);
  --color-sand-500: oklch(0.68 0.080 95);
  --color-sand-600: oklch(0.60 0.090 95);
  --color-sand-700: oklch(0.50 0.085 95);
  --color-sand-800: oklch(0.40 0.070 95);
  --color-sand-900: oklch(0.32 0.055 95);
  --color-sand-950: oklch(0.26 0.040 95);

  /* Error */
  --color-error-50: oklch(0.97 0.020 25);
  --color-error-100: oklch(0.94 0.035 25);
  --color-error-200: oklch(0.88 0.055 25);
  --color-error-300: oklch(0.80 0.075 25);
  --color-error-400: oklch(0.70 0.095 25);
  --color-error-500: oklch(0.60 0.110 25);
  --color-error-600: oklch(0.50 0.115 25);
  --color-error-700: oklch(0.42 0.110 25);
  --color-error-800: oklch(0.34 0.095 25);
  --color-error-900: oklch(0.28 0.075 25);
  --color-error-950: oklch(0.22 0.055 25);

  /* Warning */
  --color-warning-50: oklch(0.97 0.020 75);
  --color-warning-100: oklch(0.94 0.035 75);
  --color-warning-200: oklch(0.89 0.060 75);
  --color-warning-300: oklch(0.82 0.085 75);
  --color-warning-400: oklch(0.73 0.105 75);
  --color-warning-500: oklch(0.65 0.120 75);
  --color-warning-600: oklch(0.56 0.125 75);
  --color-warning-700: oklch(0.47 0.115 75);
  --color-warning-800: oklch(0.38 0.095 75);
  --color-warning-900: oklch(0.30 0.070 75);
  --color-warning-950: oklch(0.24 0.050 75);

  /* Success */
  --color-success-50: oklch(0.97 0.020 165);
  --color-success-100: oklch(0.93 0.035 165);
  --color-success-200: oklch(0.87 0.055 165);
  --color-success-300: oklch(0.79 0.075 165);
  --color-success-400: oklch(0.69 0.095 165);
  --color-success-500: oklch(0.59 0.110 165);
  --color-success-600: oklch(0.49 0.115 165);
  --color-success-700: oklch(0.41 0.105 165);
  --color-success-800: oklch(0.33 0.090 165);
  --color-success-900: oklch(0.27 0.070 165);
  --color-success-950: oklch(0.21 0.050 165);

  /* ======================================================
     Tailwind-like Colour Palette
     Inspired by standard Tailwind CSS v4 colours for
     diagrams and illustrations. For website UI, use the
     mountain theme palette above or semantic colours
     instead.
     ====================================================== */

  /* Red */
  --color-red-50: oklch(0.971 0.008 17.38);
  --color-red-100: oklch(0.936 0.019 17.717);
  --color-red-200: oklch(0.885 0.037 18.334);
  --color-red-300: oklch(0.808 0.068 19.571);
  --color-red-400: oklch(0.704 0.115 22.216);
  --color-red-500: oklch(0.637 0.142 25.331);
  --color-red-600: oklch(0.577 0.147 27.325);
  --color-red-700: oklch(0.505 0.128 27.518);
  --color-red-800: oklch(0.444 0.106 26.899);
  --color-red-900: oklch(0.396 0.085 25.723);
  --color-red-950: oklch(0.258 0.055 26.042);
  --color-red: var(--color-red-400);

  /* Orange */
  --color-orange-50: oklch(0.980 0.010 73.684);
  --color-orange-100: oklch(0.954 0.023 75.164);
  --color-orange-200: oklch(0.901 0.046 70.697);
  --color-orange-300: oklch(0.837 0.077 66.29);
  --color-orange-400: oklch(0.750 0.110 55.934);
  --color-orange-500: oklch(0.705 0.128 47.604);
  --color-orange-600: oklch(0.646 0.133 41.116);
  --color-orange-700: oklch(0.553 0.117 38.402);
  --color-orange-800: oklch(0.470 0.094 37.304);
  --color-orange-900: oklch(0.408 0.074 38.172);
  --color-orange-950: oklch(0.266 0.047 36.259);
  --color-orange: var(--color-orange-400);

  /* Amber */
  --color-amber-50: oklch(0.987 0.013 95.277);
  --color-amber-100: oklch(0.962 0.035 95.617);
  --color-amber-200: oklch(0.924 0.072 95.746);
  --color-amber-300: oklch(0.879 0.101 91.605);
  --color-amber-400: oklch(0.828 0.113 84.429);
  --color-amber-500: oklch(0.769 0.113 70.08);
  --color-amber-600: oklch(0.666 0.107 58.318);
  --color-amber-700: oklch(0.555 0.098 48.998);
  --color-amber-800: oklch(0.473 0.082 46.201);
  --color-amber-900: oklch(0.414 0.067 45.904);
  --color-amber-950: oklch(0.279 0.046 45.635);
  --color-amber: var(--color-amber-400);

  /* Yellow */
  --color-yellow-50: oklch(0.987 0.016 102.212);
  --color-yellow-100: oklch(0.973 0.043 103.193);
  --color-yellow-200: oklch(0.945 0.077 101.54);
  --color-yellow-300: oklch(0.905 0.109 98.111);
  --color-yellow-400: oklch(0.852 0.119 91.936);
  --color-yellow-500: oklch(0.795 0.110 86.047);
  --color-yellow-600: oklch(0.681 0.097 75.834);
  --color-yellow-700: oklch(0.554 0.081 66.442);
  --color-yellow-800: oklch(0.476 0.068 61.907);
  --color-yellow-900: oklch(0.421 0.057 57.708);
  --color-yellow-950: oklch(0.286 0.040 53.813);
  --color-yellow: var(--color-yellow-400);

  /* Lime */
  --color-lime-50: oklch(0.986 0.019 120.757);
  --color-lime-100: oklch(0.967 0.040 122.328);
  --color-lime-200: oklch(0.938 0.076 124.321);
  --color-lime-300: oklch(0.897 0.118 126.665);
  --color-lime-400: oklch(0.841 0.143 128.85);
  --color-lime-500: oklch(0.768 0.140 130.85);
  --color-lime-600: oklch(0.648 0.120 131.684);
  --color-lime-700: oklch(0.532 0.094 131.589);
  --color-lime-800: oklch(0.453 0.074 130.933);
  --color-lime-900: oklch(0.405 0.061 131.063);
  --color-lime-950: oklch(0.274 0.043 132.109);
  --color-lime: var(--color-lime-400);

  /* Green */
  --color-green-50: oklch(0.982 0.011 155.826);
  --color-green-100: oklch(0.962 0.026 156.743);
  --color-green-200: oklch(0.925 0.050 155.995);
  --color-green-300: oklch(0.871 0.090 154.449);
  --color-green-400: oklch(0.792 0.125 151.711);
  --color-green-500: oklch(0.723 0.131 149.579);
  --color-green-600: oklch(0.627 0.116 149.214);
  --color-green-700: oklch(0.527 0.092 150.069);
  --color-green-800: oklch(0.448 0.071 151.328);
  --color-green-900: oklch(0.393 0.057 152.535);
  --color-green-950: oklch(0.266 0.039 152.934);
  --color-green: var(--color-green-400);

  /* Emerald */
  --color-emerald-50: oklch(0.979 0.013 166.113);
  --color-emerald-100: oklch(0.950 0.031 163.051);
  --color-emerald-200: oklch(0.905 0.056 164.15);
  --color-emerald-300: oklch(0.845 0.086 164.978);
  --color-emerald-400: oklch(0.765 0.106 163.223);
  --color-emerald-500: oklch(0.696 0.102 162.48);
  --color-emerald-600: oklch(0.596 0.087 163.225);
  --color-emerald-700: oklch(0.508 0.071 165.612);
  --color-emerald-800: oklch(0.432 0.057 166.913);
  --color-emerald-900: oklch(0.378 0.046 168.94);
  --color-emerald-950: oklch(0.262 0.031 172.552);
  --color-emerald: var(--color-emerald-400);

  /* Teal */
  --color-teal-50: oklch(0.984 0.008 180.72);
  --color-teal-100: oklch(0.953 0.031 180.801);
  --color-teal-200: oklch(0.910 0.058 180.426);
  --color-teal-300: oklch(0.855 0.083 181.071);
  --color-teal-400: oklch(0.777 0.091 181.912);
  --color-teal-500: oklch(0.704 0.084 182.503);
  --color-teal-600: oklch(0.600 0.071 184.704);
  --color-teal-700: oklch(0.511 0.058 186.391);
  --color-teal-800: oklch(0.437 0.047 188.216);
  --color-teal-900: oklch(0.386 0.038 188.416);
  --color-teal-950: oklch(0.277 0.028 192.524);
  --color-teal: var(--color-teal-400);

  /* Cyan */
  --color-cyan-50: oklch(0.984 0.011 200.873);
  --color-cyan-100: oklch(0.956 0.027 203.388);
  --color-cyan-200: oklch(0.917 0.048 205.041);
  --color-cyan-300: oklch(0.865 0.076 207.078);
  --color-cyan-400: oklch(0.789 0.092 211.53);
  --color-cyan-500: oklch(0.715 0.086 215.221);
  --color-cyan-600: oklch(0.609 0.076 221.723);
  --color-cyan-700: oklch(0.520 0.063 223.128);
  --color-cyan-800: oklch(0.450 0.051 224.283);
  --color-cyan-900: oklch(0.398 0.042 227.392);
  --color-cyan-950: oklch(0.302 0.034 229.695);
  --color-cyan: var(--color-cyan-400);

  /* Sky */
  --color-sky-50: oklch(0.977 0.008 236.62);
  --color-sky-100: oklch(0.951 0.016 236.824);
  --color-sky-200: oklch(0.901 0.035 230.902);
  --color-sky-300: oklch(0.828 0.067 230.318);
  --color-sky-400: oklch(0.746 0.096 232.661);
  --color-sky-500: oklch(0.685 0.101 237.323);
  --color-sky-600: oklch(0.588 0.095 241.966);
  --color-sky-700: oklch(0.500 0.080 242.749);
  --color-sky-800: oklch(0.443 0.066 240.79);
  --color-sky-900: oklch(0.391 0.054 240.876);
  --color-sky-950: oklch(0.293 0.040 243.157);
  --color-sky: var(--color-sky-400);

  /* Blue */
  --color-blue-50: oklch(0.970 0.008 254.604);
  --color-blue-100: oklch(0.932 0.019 255.585);
  --color-blue-200: oklch(0.882 0.035 254.128);
  --color-blue-300: oklch(0.809 0.063 251.813);
  --color-blue-400: oklch(0.707 0.099 254.624);
  --color-blue-500: oklch(0.623 0.128 259.815);
  --color-blue-600: oklch(0.546 0.147 262.881);
  --color-blue-700: oklch(0.488 0.146 264.376);
  --color-blue-800: oklch(0.424 0.119 265.638);
  --color-blue-900: oklch(0.379 0.088 265.522);
  --color-blue-950: oklch(0.282 0.055 267.935);
  --color-blue: var(--color-blue-400);

  /* Indigo */
  --color-indigo-50: oklch(0.962 0.011 272.314);
  --color-indigo-100: oklch(0.930 0.020 272.788);
  --color-indigo-200: oklch(0.870 0.039 274.039);
  --color-indigo-300: oklch(0.785 0.069 274.713);
  --color-indigo-400: oklch(0.673 0.109 276.935);
  --color-indigo-500: oklch(0.585 0.140 277.117);
  --color-indigo-600: oklch(0.511 0.157 276.966);
  --color-indigo-700: oklch(0.457 0.144 277.023);
  --color-indigo-800: oklch(0.398 0.117 277.366);
  --color-indigo-900: oklch(0.359 0.086 278.697);
  --color-indigo-950: oklch(0.257 0.054 281.288);
  --color-indigo: var(--color-indigo-400);

  /* Violet */
  --color-violet-50: oklch(0.969 0.010 293.756);
  --color-violet-100: oklch(0.943 0.017 294.588);
  --color-violet-200: oklch(0.894 0.034 293.283);
  --color-violet-300: oklch(0.811 0.067 293.571);
  --color-violet-400: oklch(0.702 0.110 293.541);
  --color-violet-500: oklch(0.606 0.150 292.717);
  --color-violet-600: oklch(0.541 0.169 293.009);
  --color-violet-700: oklch(0.491 0.162 292.581);
  --color-violet-800: oklch(0.432 0.139 292.759);
  --color-violet-900: oklch(0.380 0.113 293.745);
  --color-violet-950: oklch(0.283 0.085 291.089);
  --color-violet: var(--color-violet-400);

  /* Purple */
  --color-purple-50: oklch(0.977 0.008 308.299);
  --color-purple-100: oklch(0.946 0.020 307.174);
  --color-purple-200: oklch(0.902 0.038 306.703);
  --color-purple-300: oklch(0.827 0.071 306.383);
  --color-purple-400: oklch(0.714 0.122 305.504);
  --color-purple-500: oklch(0.627 0.159 303.9);
  --color-purple-600: oklch(0.558 0.173 302.321);
  --color-purple-700: oklch(0.496 0.159 301.924);
  --color-purple-800: oklch(0.438 0.131 303.724);
  --color-purple-900: oklch(0.381 0.106 304.987);
  --color-purple-950: oklch(0.291 0.089 302.717);
  --color-purple: var(--color-purple-400);

  /* Fuchsia */
  --color-fuchsia-50: oklch(0.977 0.010 320.058);
  --color-fuchsia-100: oklch(0.952 0.022 318.852);
  --color-fuchsia-200: oklch(0.903 0.046 319.62);
  --color-fuchsia-300: oklch(0.833 0.087 321.434);
  --color-fuchsia-400: oklch(0.740 0.143 322.16);
  --color-fuchsia-500: oklch(0.667 0.177 322.15);
  --color-fuchsia-600: oklch(0.591 0.176 322.896);
  --color-fuchsia-700: oklch(0.518 0.152 323.949);
  --color-fuchsia-800: oklch(0.452 0.127 324.591);
  --color-fuchsia-900: oklch(0.401 0.102 325.612);
  --color-fuchsia-950: oklch(0.293 0.082 325.661);
  --color-fuchsia: var(--color-fuchsia-400);

  /* Pink */
  --color-pink-50: oklch(0.971 0.008 343.198);
  --color-pink-100: oklch(0.948 0.017 342.258);
  --color-pink-200: oklch(0.899 0.037 343.231);
  --color-pink-300: oklch(0.823 0.072 346.018);
  --color-pink-400: oklch(0.718 0.121 349.761);
  --color-pink-500: oklch(0.656 0.145 354.308);
  --color-pink-600: oklch(0.592 0.149 0.584);
  --color-pink-700: oklch(0.525 0.134 3.958);
  --color-pink-800: oklch(0.459 0.112 3.815);
  --color-pink-900: oklch(0.408 0.092 2.432);
  --color-pink-950: oklch(0.284 0.065 3.907);
  --color-pink: var(--color-pink-400);

  /* Rose */
  --color-rose-50: oklch(0.969 0.009 12.422);
  --color-rose-100: oklch(0.941 0.018 12.58);
  --color-rose-200: oklch(0.892 0.035 10.001);
  --color-rose-300: oklch(0.810 0.070 11.638);
  --color-rose-400: oklch(0.712 0.116 13.428);
  --color-rose-500: oklch(0.645 0.148 16.439);
  --color-rose-600: oklch(0.586 0.152 17.585);
  --color-rose-700: oklch(0.514 0.133 16.935);
  --color-rose-800: oklch(0.455 0.113 13.697);
  --color-rose-900: oklch(0.410 0.095 10.272);
  --color-rose-950: oklch(0.271 0.063 12.094);
  --color-rose: var(--color-rose-400);

  /* Slate */
  --color-slate-50: oklch(0.984 0.002 247.858);
  --color-slate-100: oklch(0.968 0.004 247.896);
  --color-slate-200: oklch(0.929 0.008 255.508);
  --color-slate-300: oklch(0.869 0.013 252.894);
  --color-slate-400: oklch(0.704 0.024 256.788);
  --color-slate-500: oklch(0.554 0.028 257.417);
  --color-slate-600: oklch(0.446 0.026 257.281);
  --color-slate-700: oklch(0.372 0.026 257.287);
  --color-slate-800: oklch(0.279 0.025 260.031);
  --color-slate-900: oklch(0.208 0.025 265.755);
  --color-slate-950: oklch(0.129 0.025 264.695);
  --color-slate: var(--color-slate-400);

  /* Gray */
  --color-gray-50: oklch(0.985 0.001 247.839);
  --color-gray-100: oklch(0.967 0.002 264.542);
  --color-gray-200: oklch(0.928 0.004 264.531);
  --color-gray-300: oklch(0.872 0.006 258.338);
  --color-gray-400: oklch(0.707 0.013 261.325);
  --color-gray-500: oklch(0.551 0.016 264.364);
  --color-gray-600: oklch(0.446 0.018 256.802);
  --color-gray-700: oklch(0.373 0.020 259.733);
  --color-gray-800: oklch(0.278 0.020 256.848);
  --color-gray-900: oklch(0.210 0.020 264.665);
  --color-gray-950: oklch(0.130 0.017 261.692);
  --color-gray: var(--color-gray-400);

  /* Zinc */
  --color-zinc-50: oklch(0.985 0 0);
  --color-zinc-100: oklch(0.967 0.001 286.375);
  --color-zinc-200: oklch(0.920 0.002 286.32);
  --color-zinc-300: oklch(0.871 0.004 286.286);
  --color-zinc-400: oklch(0.705 0.009 286.067);
  --color-zinc-500: oklch(0.552 0.010 285.938);
  --color-zinc-600: oklch(0.442 0.010 285.786);
  --color-zinc-700: oklch(0.370 0.008 285.805);
  --color-zinc-800: oklch(0.274 0.004 286.033);
  --color-zinc-900: oklch(0.210 0.004 285.885);
  --color-zinc-950: oklch(0.141 0.003 285.823);
  --color-zinc: var(--color-zinc-400);

  /* Neutral */
  --color-neutral-50: oklch(0.985 0 0);
  --color-neutral-100: oklch(0.970 0 0);
  --color-neutral-200: oklch(0.922 0 0);
  --color-neutral-300: oklch(0.870 0 0);
  --color-neutral-400: oklch(0.708 0 0);
  --color-neutral-500: oklch(0.556 0 0);
  --color-neutral-600: oklch(0.439 0 0);
  --color-neutral-700: oklch(0.371 0 0);
  --color-neutral-800: oklch(0.269 0 0);
  --color-neutral-900: oklch(0.205 0 0);
  --color-neutral-950: oklch(0.145 0 0);
  --color-neutral: var(--color-neutral-400);

  /* Stone */
  --color-stone-50: oklch(0.985 0.001 106.423);
  --color-stone-100: oklch(0.970 0.001 106.424);
  --color-stone-200: oklch(0.923 0.002 48.717);
  --color-stone-300: oklch(0.869 0.003 56.366);
  --color-stone-400: oklch(0.709 0.006 56.259);
  --color-stone-500: oklch(0.553 0.008 58.071);
  --color-stone-600: oklch(0.444 0.007 73.639);
  --color-stone-700: oklch(0.374 0.006 67.558);
  --color-stone-800: oklch(0.268 0.004 34.298);
  --color-stone-900: oklch(0.216 0.004 56.043);
  --color-stone-950: oklch(0.147 0.002 49.25);
  --color-stone: var(--color-stone-400);

  /* Pure white */
  --color-white: oklch(1 0 0);
}

/* Semantic UI Theme Variables */

:root {
  /* Base colors */
  --color-background: var(--color-frost-50);
  --color-foreground: var(--color-navy-950);

  /* Card */
  --color-card: var(--color-white);
  --color-card-foreground: var(--color-navy-950);

  /* Popover */
  --color-popover: var(--color-white);
  --color-popover-foreground: var(--color-navy-950);

  /* Primary */
  --color-primary: var(--color-navy-600);
  --color-primary-foreground: var(--color-white);

  /* Secondary */
  --color-secondary: var(--color-evergreen-600);
  --color-secondary-foreground: var(--color-white);

  /* Muted */
  --color-muted: var(--color-frost-100);
  --color-muted-foreground: var(--color-navy-600);

  /* Accent */
  --color-accent: var(--color-sand-600);
  --color-accent-foreground: var(--color-white);

  /* Destructive */
  --color-destructive: var(--color-error-600);
  --color-destructive-foreground: var(--color-white);

  /* Success */
  --color-success: var(--color-success-600);
  --color-success-foreground: var(--color-white);

  /* Completed (for puzzle/expedition completion badges) */
  --color-completed: var(--color-evergreen-500);
  --color-completed-foreground: var(--color-white);

  /* Warning */
  --color-warning: var(--color-warning-600);
  --color-warning-foreground: var(--color-white);

  /* Info */
  --color-info: var(--color-navy-500);
  --color-info-foreground: var(--color-white);

  /* Border */
  --color-border: var(--color-frost-600);
  --color-input: var(--color-frost-300);
  --color-ring: var(--color-navy-400);

  /* Additional semantic colors for UI elements */
  --color-divider: var(--color-frost-200);
  --color-surface: var(--color-white);
  --color-text-secondary: var(--color-frost-600);
  --color-text-emphasis: var(--color-navy-600);
  --color-link: var(--color-navy-600);
  --color-link-hover: var(--color-navy-700);

  /* Select component */
  --color-select-hover: var(--color-navy-50);
  --color-select-hover-foreground: var(--color-navy-950);

  /* Checkbox */
  --color-checkbox-checked: var(--color-navy-600);
  --color-checkbox-checked-foreground: var(--color-white);

  /* Navigation */
  --color-nav-foreground: var(--color-navy-600);

  /* Text selection */
  --color-selection: var(--color-navy-200);
  --color-selection-foreground: var(--color-navy-900);

  /* Difficulty levels (puzzles) */
  --color-difficulty-easy: var(--color-success-100);
  --color-difficulty-easy-foreground: var(--color-success-800);
  --color-difficulty-medium: var(--color-navy-100);
  --color-difficulty-medium-foreground: var(--color-navy-800);
  --color-difficulty-hard: var(--color-warning-100);
  --color-difficulty-hard-foreground: var(--color-warning-800);
  --color-difficulty-expert: var(--color-error-100);
  --color-difficulty-expert-foreground: var(--color-error-800);
  --color-difficulty-open: var(--color-frost-200);
  --color-difficulty-open-foreground: var(--color-frost-900);

  /* Gradients */
  --gradient-recommendation-start: var(--color-evergreen-500);
  --gradient-recommendation-end: var(--color-navy-500);
  --gradient-progress-start: var(--color-lagoon-600);
  --gradient-progress-end: var(--color-lagoon-500);
}


.dark {
  /* Base colors */
  --color-background: oklch(0.10 0.035 220); /* darker than navy-950, almost pure black */
  --color-foreground: var(--color-frost-200);

  /* Card */
  --color-card: var(--color-navy-900);
  --color-card-foreground: var(--color-frost-200);

  /* Popover */
  --color-popover: var(--color-navy-900);
  --color-popover-foreground: var(--color-frost-200);

  /* Primary */
  --color-primary: var(--color-navy-400);
  --color-primary-foreground: var(--color-navy-950);

  /* Secondary */
  --color-secondary: var(--color-evergreen-400);
  --color-secondary-foreground: var(--color-navy-950);

  /* Muted */
  --color-muted: var(--color-navy-800);
  --color-muted-foreground: var(--color-frost-400);

  /* Accent */
  --color-accent: var(--color-sand-400);
  --color-accent-foreground: var(--color-navy-950);

  /* Destructive */
  --color-destructive: var(--color-error-400);
  --color-destructive-foreground: var(--color-navy-950);

  /* Success */
  --color-success: var(--color-success-400);
  --color-success-foreground: var(--color-navy-950);

  /* Completed (for puzzle/expedition completion badges) */
  --color-completed: var(--color-evergreen-300);
  --color-completed-foreground: var(--color-navy-950);

  /* Warning */
  --color-warning: var(--color-warning-400);
  --color-warning-foreground: var(--color-navy-950);

  /* Info */
  --color-info: var(--color-navy-300);
  --color-info-foreground: var(--color-navy-950);

  /* Border */
  --color-border: var(--color-navy-700);
  --color-input: var(--color-navy-600);
  --color-ring: var(--color-navy-400);

  /* Additional semantic colors for UI elements */
  --color-divider: var(--color-navy-700);
  --color-surface: var(--color-navy-900);
  --color-text-secondary: var(--color-frost-400);
  --color-text-emphasis: var(--color-frost-50);
  --color-link: var(--color-navy-400);
  --color-link-hover: var(--color-navy-300);

  /* Select component */
  --color-select-hover: var(--color-navy-800);
  --color-select-hover-foreground: var(--color-frost-200);

  /* Checkbox */
  --color-checkbox-checked: var(--color-navy-400);
  --color-checkbox-checked-foreground: var(--color-navy-950);

  /* Navigation */
  --color-nav-foreground: var(--color-frost-200);

  /* Text selection */
  --color-selection: var(--color-navy-700);
  --color-selection-foreground: var(--color-navy-100);

  /* Difficulty levels (puzzles) - dark mode */
  --color-difficulty-easy: var(--color-success-900);
  --color-difficulty-easy-foreground: var(--color-success-200);
  --color-difficulty-medium: var(--color-navy-900);
  --color-difficulty-medium-foreground: var(--color-navy-200);
  --color-difficulty-hard: var(--color-warning-900);
  --color-difficulty-hard-foreground: var(--color-warning-200);
  --color-difficulty-expert: var(--color-error-900);
  --color-difficulty-expert-foreground: var(--color-error-200);
  --color-difficulty-open: var(--color-frost-700);
  --color-difficulty-open-foreground: var(--color-frost-200);

  /* Gradients - dark mode */
  --gradient-recommendation-start: var(--color-evergreen-600);
  --gradient-recommendation-end: var(--color-navy-600);
  --gradient-progress-start: var(--color-lagoon-600);
  --gradient-progress-end: var(--color-lagoon-500);
}


    /* Base Reset */
*, ::before, ::after {
  box-sizing: border-box;
  border-width: 0;
  border-style: solid;
  border-color: var(--color-border);
}

html {
  line-height: 1.5;
  -webkit-text-size-adjust: 100%;
  tab-size: 4;
  font-family: &#x27;Poppins&#x27;, ui-sans-serif, system-ui, -apple-system, sans-serif;
  font-feature-settings: normal;
  font-variation-settings: normal;
}

body {
  margin: 0;
  line-height: inherit;
  color: var(--color-foreground);
  background-color: var(--color-background);
}

/* Reset margins on common elements */
h1, h2, h3, h4, h5, h6, p, blockquote, pre, ul, ol, dl, figure, hr {
  margin: 0;
}

/* Reset list styles */
ul, ol {
  padding: 0;
  list-style: none;
}

/* Reset buttons and inputs */
button, input, optgroup, select, textarea {
  font-family: inherit;
  font-feature-settings: inherit;
  font-variation-settings: inherit;
  font-size: 100%;
  font-weight: inherit;
  line-height: inherit;
  letter-spacing: inherit;
  color: inherit;
  margin: 0;
  padding: 0;
}

button, select {
  text-transform: none;
}

button, input:where([type=&#x27;button&#x27;]), input:where([type=&#x27;reset&#x27;]), input:where([type=&#x27;submit&#x27;]) {
  -webkit-appearance: button;
  background-color: transparent;
  background-image: none;
  cursor: pointer;
}

button:disabled, input:disabled {
  cursor: default;
}

/* Reset form elements */
input::placeholder, textarea::placeholder {
  opacity: 1;
  color: var(--color-muted-foreground);
}

/* Reset tables */
table {
  text-indent: 0;
  border-color: inherit;
  border-collapse: collapse;
}

/* Link styles */
a {
  color: var(--color-link);
  text-decoration: none;
}

a:hover {
  color: var(--color-link-hover);
  text-decoration: underline;
}

/* Reset headings */
h1, h2, h3, h4, h5, h6 {
  font-size: inherit;
  font-weight: inherit;
}

/* Reset images and media */
img, svg, video, canvas, audio, iframe, embed, object {
  display: block;
  vertical-align: middle;
}

img, video {
  max-width: 100%;
  height: auto;
}

/* Sandbox-specific UI styles */
.sandbox-select:invalid {
  color: var(--color-muted-foreground) !important;
}

.sandbox-select option {
  background-color: var(--color-popover) !important;
  color: var(--color-popover-foreground) !important;
  padding: 0.375rem 0.5rem !important;
}

.sandbox-select option:disabled {
  color: var(--color-muted-foreground) !important;
  background-color: var(--color-popover) !important;
}

.sandbox-select option:checked {
  background-color: var(--color-select-hover) !important;
  color: var(--color-select-hover-foreground) !important;
}

.sandbox-select option:hover,
.sandbox-select option:focus,
.sandbox-select option:active {
  background-color: var(--color-select-hover) !important;
  color: var(--color-select-hover-foreground) !important;
}

/* Peer helper class for Radix UI components */
.peer { }
    

    /* Custom CSS from author or inline component */
    .interactive .grid &gt; div:hover {
  opacity: 0.9;
}
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id=&quot;root&quot;&gt;&lt;/div&gt;

  &lt;!-- Runtime and globals script --&gt;
  &lt;script&gt;
    // Component props (available globally)
    window.__COMPONENT_PROPS__ = {&quot;mode&quot;:&quot;interactive&quot;};

    // Canvas accessibility label (for canvas mode blocks)
    window.__CANVAS_ARIA_LABEL__ = null;

    // Injected sandbox runtime
    (() =&gt; {
  function createCSSGenerator() {
    const generatedClasses = /* @__PURE__ */ new Set();
    const styleSheet = new CSSStyleSheet();
    document.adoptedStyleSheets = [...document.adoptedStyleSheets, styleSheet];
    const spacingScale = {
      &quot;0&quot;: &quot;0&quot;,
      &quot;px&quot;: &quot;1px&quot;,
      &quot;0.5&quot;: &quot;0.125rem&quot;,
      &quot;1&quot;: &quot;0.25rem&quot;,
      &quot;1.5&quot;: &quot;0.375rem&quot;,
      &quot;2&quot;: &quot;0.5rem&quot;,
      &quot;2.5&quot;: &quot;0.625rem&quot;,
      &quot;3&quot;: &quot;0.75rem&quot;,
      &quot;3.5&quot;: &quot;0.875rem&quot;,
      &quot;4&quot;: &quot;1rem&quot;,
      &quot;5&quot;: &quot;1.25rem&quot;,
      &quot;6&quot;: &quot;1.5rem&quot;,
      &quot;7&quot;: &quot;1.75rem&quot;,
      &quot;8&quot;: &quot;2rem&quot;,
      &quot;9&quot;: &quot;2.25rem&quot;,
      &quot;10&quot;: &quot;2.5rem&quot;,
      &quot;11&quot;: &quot;2.75rem&quot;,
      &quot;12&quot;: &quot;3rem&quot;,
      &quot;14&quot;: &quot;3.5rem&quot;,
      &quot;16&quot;: &quot;4rem&quot;,
      &quot;20&quot;: &quot;5rem&quot;,
      &quot;24&quot;: &quot;6rem&quot;,
      &quot;28&quot;: &quot;7rem&quot;,
      &quot;32&quot;: &quot;8rem&quot;,
      &quot;36&quot;: &quot;9rem&quot;,
      &quot;40&quot;: &quot;10rem&quot;,
      &quot;44&quot;: &quot;11rem&quot;,
      &quot;48&quot;: &quot;12rem&quot;,
      &quot;52&quot;: &quot;13rem&quot;,
      &quot;56&quot;: &quot;14rem&quot;,
      &quot;60&quot;: &quot;15rem&quot;,
      &quot;64&quot;: &quot;16rem&quot;,
      &quot;72&quot;: &quot;18rem&quot;,
      &quot;80&quot;: &quot;20rem&quot;,
      &quot;96&quot;: &quot;24rem&quot;
    };
    const sizeValues = {
      &quot;auto&quot;: &quot;auto&quot;,
      &quot;full&quot;: &quot;100%&quot;,
      &quot;screen&quot;: &quot;100vw&quot;,
      // for width
      &quot;min&quot;: &quot;min-content&quot;,
      &quot;max&quot;: &quot;max-content&quot;,
      &quot;fit&quot;: &quot;fit-content&quot;
    };
    const parseArbitraryValue = (value) =&gt; {
      const match = value.match(/^\[(.+)\]$/);
      return match ? match[1] : null;
    };
    const parseOpacity = (className) =&gt; {
      const match = className.match(/^(.+?)\/(\d+)$/);
      if (match) {
        return { base: match[1], opacity: (parseInt(match[2]) / 100).toString() };
      }
      return { base: className, opacity: null };
    };
    const findMatchingBracket = (str, startIndex) =&gt; {
      if (str[startIndex] !== &quot;[&quot;) {
        return -1;
      }
      let depth = 0;
      for (let i = startIndex; i &lt; str.length; i++) {
        const char = str[i];
        if (char === &quot;[&quot;) {
          depth++;
        } else if (char === &quot;]&quot;) {
          depth--;
          if (depth === 0) {
            return i;
          }
        }
      }
      return -1;
    };
    const parseArbitrarySelector = (className) =&gt; {
      if (!className.startsWith(&quot;[&quot;)) {
        return null;
      }
      const closingBracketIndex = findMatchingBracket(className, 0);
      if (closingBracketIndex === -1 || className[closingBracketIndex + 1] !== &quot;:&quot;) {
        return null;
      }
      const bracketContent = className.substring(1, closingBracketIndex);
      if (!bracketContent.startsWith(&quot;&amp;&quot;)) {
        return null;
      }
      const selector = bracketContent.substring(1);
      const baseClass = className.substring(closingBracketIndex + 2);
      return { selector, baseClass };
    };
    const generateRule = (className) =&gt; {
      const arbitrarySelector = parseArbitrarySelector(className);
      if (arbitrarySelector) {
        const { selector, baseClass } = arbitrarySelector;
        const baseRule = generateRule(baseClass);
        if (!baseRule) return null;
        const escapedClass = className.replace(/:/g, &quot;\\:&quot;).replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/&amp;/g, &quot;\\&amp;&quot;).replace(/&gt;/g, &quot;\\&gt;&quot;).replace(/\*/g, &quot;\\*&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\+/g, &quot;\\+&quot;).replace(/~/g, &quot;\\~&quot;).replace(/=/g, &quot;\\=&quot;).replace(/\./g, &quot;\\.&quot;);
        const selectorEnd = baseRule.indexOf(&quot;{&quot;);
        const declarations = baseRule.substring(selectorEnd);
        return `.${escapedClass}${selector} ${declarations}`;
      }
      const variantMatch = className.match(/^(hover|focus|active|disabled|dark):(.+)$/);
      if (variantMatch) {
        const [, variant, baseClass] = variantMatch;
        const baseRule = generateRule(baseClass);
        if (!baseRule) return null;
        const escapedClass = className.replace(/:/g, &quot;\\:&quot;).replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;);
        const selectorEnd = baseRule.indexOf(&quot;{&quot;);
        const baseSelector = baseRule.substring(0, selectorEnd).trim();
        const declarations = baseRule.substring(selectorEnd);
        if (variant === &quot;hover&quot;) {
          return `.${escapedClass}:hover ${declarations}`;
        } else if (variant === &quot;focus&quot;) {
          return `.${escapedClass}:focus ${declarations}`;
        } else if (variant === &quot;active&quot;) {
          return `.${escapedClass}:active ${declarations}`;
        } else if (variant === &quot;disabled&quot;) {
          return `.${escapedClass}:disabled ${declarations}`;
        } else if (variant === &quot;dark&quot;) {
          const pseudoMatch = baseSelector.match(/(:(?:hover|focus|active|disabled|focus-visible)(?:\([^)]*\))?)$/);
          const pseudoSelector = pseudoMatch ? pseudoMatch[1] : &quot;&quot;;
          return `.dark .${escapedClass}${pseudoSelector} ${declarations}`;
        }
      }
      const { base, opacity } = parseOpacity(className);
      const spacingMatch = base.match(/^(px|py|pt|pb|pl|pr|mx|my|mt|mb|ml|mr|gap-x|gap-y|space-x|space-y|min-w|min-h|max-w|max-h|inset-x|inset-y|p|m|gap|w|h|top|right|bottom|left|inset)-(.+)$/);
      if (spacingMatch) {
        const [, property, value] = spacingMatch;
        const spacing = spacingScale[value] || sizeValues[value] || parseArbitraryValue(value);
        if (!spacing) return null;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\./g, &quot;\\.&quot;);
        if (property === &quot;space-x&quot;) {
          return `.${escapedClass} &gt; :not(:last-child) { --tw-space-x-reverse: 0; margin-inline-start: calc(${spacing} * var(--tw-space-x-reverse)); margin-inline-end: calc(${spacing} * calc(1 - var(--tw-space-x-reverse))); }`;
        }
        if (property === &quot;space-y&quot;) {
          return `.${escapedClass} &gt; :not(:last-child) { --tw-space-y-reverse: 0; margin-block-start: calc(${spacing} * var(--tw-space-y-reverse)); margin-block-end: calc(${spacing} * calc(1 - var(--tw-space-y-reverse))); }`;
        }
        const propertyMap = {
          &quot;p&quot;: [&quot;padding&quot;],
          &quot;px&quot;: [&quot;padding-left&quot;, &quot;padding-right&quot;],
          &quot;py&quot;: [&quot;padding-top&quot;, &quot;padding-bottom&quot;],
          &quot;pt&quot;: [&quot;padding-top&quot;],
          &quot;pb&quot;: [&quot;padding-bottom&quot;],
          &quot;pl&quot;: [&quot;padding-left&quot;],
          &quot;pr&quot;: [&quot;padding-right&quot;],
          &quot;m&quot;: [&quot;margin&quot;],
          &quot;mx&quot;: [&quot;margin-left&quot;, &quot;margin-right&quot;],
          &quot;my&quot;: [&quot;margin-top&quot;, &quot;margin-bottom&quot;],
          &quot;mt&quot;: [&quot;margin-top&quot;],
          &quot;mb&quot;: [&quot;margin-bottom&quot;],
          &quot;ml&quot;: [&quot;margin-left&quot;],
          &quot;mr&quot;: [&quot;margin-right&quot;],
          &quot;gap&quot;: [&quot;gap&quot;],
          &quot;gap-x&quot;: [&quot;column-gap&quot;],
          &quot;gap-y&quot;: [&quot;row-gap&quot;],
          &quot;w&quot;: [&quot;width&quot;],
          &quot;h&quot;: [&quot;height&quot;],
          &quot;min-w&quot;: [&quot;min-width&quot;],
          &quot;min-h&quot;: [&quot;min-height&quot;],
          &quot;max-w&quot;: [&quot;max-width&quot;],
          &quot;max-h&quot;: [&quot;max-height&quot;],
          &quot;top&quot;: [&quot;top&quot;],
          &quot;right&quot;: [&quot;right&quot;],
          &quot;bottom&quot;: [&quot;bottom&quot;],
          &quot;left&quot;: [&quot;left&quot;],
          &quot;inset&quot;: [&quot;top&quot;, &quot;right&quot;, &quot;bottom&quot;, &quot;left&quot;],
          &quot;inset-x&quot;: [&quot;left&quot;, &quot;right&quot;],
          &quot;inset-y&quot;: [&quot;top&quot;, &quot;bottom&quot;]
        };
        const properties = propertyMap[property];
        if (!properties) return null;
        const declarations = properties.map((prop) =&gt; `${prop}: ${spacing}`).join(&quot;; &quot;);
        return `.${escapedClass} { ${declarations}; }`;
      }
      const textSizeMatch = base.match(/^text-(xs|sm|base|lg|xl|2xl|3xl|4xl|5xl|6xl|7xl|8xl|9xl)$/);
      if (textSizeMatch) {
        const [, size] = textSizeMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;);
        const sizeMap = {
          &quot;xs&quot;: { fontSize: &quot;0.75rem&quot;, lineHeight: &quot;1rem&quot; },
          &quot;sm&quot;: { fontSize: &quot;0.875rem&quot;, lineHeight: &quot;1.25rem&quot; },
          &quot;base&quot;: { fontSize: &quot;1rem&quot;, lineHeight: &quot;1.5rem&quot; },
          &quot;lg&quot;: { fontSize: &quot;1.125rem&quot;, lineHeight: &quot;1.75rem&quot; },
          &quot;xl&quot;: { fontSize: &quot;1.25rem&quot;, lineHeight: &quot;1.75rem&quot; },
          &quot;2xl&quot;: { fontSize: &quot;1.5rem&quot;, lineHeight: &quot;2rem&quot; },
          &quot;3xl&quot;: { fontSize: &quot;1.875rem&quot;, lineHeight: &quot;2.25rem&quot; },
          &quot;4xl&quot;: { fontSize: &quot;2.25rem&quot;, lineHeight: &quot;2.5rem&quot; },
          &quot;5xl&quot;: { fontSize: &quot;3rem&quot;, lineHeight: &quot;1&quot; },
          &quot;6xl&quot;: { fontSize: &quot;3.75rem&quot;, lineHeight: &quot;1&quot; },
          &quot;7xl&quot;: { fontSize: &quot;4.5rem&quot;, lineHeight: &quot;1&quot; },
          &quot;8xl&quot;: { fontSize: &quot;6rem&quot;, lineHeight: &quot;1&quot; },
          &quot;9xl&quot;: { fontSize: &quot;8rem&quot;, lineHeight: &quot;1&quot; }
        };
        const { fontSize, lineHeight } = sizeMap[size];
        return `.${escapedClass} { font-size: ${fontSize}; line-height: ${lineHeight}; }`;
      }
      const fontWeightMatch = base.match(/^font-(thin|extralight|light|normal|medium|semibold|bold|extrabold|black)$/);
      if (fontWeightMatch) {
        const [, weight] = fontWeightMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;);
        const weightMap = {
          &quot;thin&quot;: &quot;100&quot;,
          &quot;extralight&quot;: &quot;200&quot;,
          &quot;light&quot;: &quot;300&quot;,
          &quot;normal&quot;: &quot;400&quot;,
          &quot;medium&quot;: &quot;500&quot;,
          &quot;semibold&quot;: &quot;600&quot;,
          &quot;bold&quot;: &quot;700&quot;,
          &quot;extrabold&quot;: &quot;800&quot;,
          &quot;black&quot;: &quot;900&quot;
        };
        return `.${escapedClass} { font-weight: ${weightMap[weight]}; }`;
      }
      const fontFamilyMatch = base.match(/^font-(sans|serif|mono)$/);
      if (fontFamilyMatch) {
        const [, family] = fontFamilyMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;);
        const familyMap = {
          &quot;sans&quot;: &quot;&#x27;Poppins&#x27;, ui-sans-serif, system-ui, -apple-system, sans-serif&quot;,
          &quot;serif&quot;: &quot;ui-serif, Georgia, Cambria, &#x27;Times New Roman&#x27;, Times, serif&quot;,
          &quot;mono&quot;: &quot;&#x27;Space Mono&#x27;, ui-monospace, &#x27;Cascadia Code&#x27;, monospace&quot;
        };
        return `.${escapedClass} { font-family: ${familyMap[family]}; }`;
      }
      const lineHeightMatch = base.match(/^leading-(.+)$/);
      if (lineHeightMatch) {
        const [, value] = lineHeightMatch;
        const heightMap = {
          &quot;none&quot;: &quot;1&quot;,
          &quot;tight&quot;: &quot;1.25&quot;,
          &quot;snug&quot;: &quot;1.375&quot;,
          &quot;normal&quot;: &quot;1.5&quot;,
          &quot;relaxed&quot;: &quot;1.625&quot;,
          &quot;loose&quot;: &quot;2&quot;
        };
        const lineHeight = heightMap[value] || parseArbitraryValue(value);
        if (!lineHeight) return null;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\./g, &quot;\\.&quot;);
        return `.${escapedClass} { line-height: ${lineHeight}; }`;
      }
      const flexMatch = base.match(/^flex-(.+)$/);
      if (flexMatch) {
        const [, value] = flexMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
        const arbitraryValue = parseArbitraryValue(value);
        if (arbitraryValue) {
          const flexValue = arbitraryValue.replace(/_/g, &quot; &quot;);
          return `.${escapedClass} { flex: ${flexValue}; }`;
        }
        const customPropMatch = value.match(/^\((.+)\)$/);
        if (customPropMatch) {
          const customProp = customPropMatch[1];
          return `.${escapedClass} { flex: var(${customProp}); }`;
        }
        const fractionMatch = value.match(/^(\d+)\/(\d+)$/);
        if (fractionMatch) {
          const [, numerator, denominator] = fractionMatch;
          return `.${escapedClass} { flex: calc(${numerator} / ${denominator} * 100%); }`;
        }
        const numericMatch = value.match(/^(\d+)$/);
        if (numericMatch) {
          const number = numericMatch[1];
          return `.${escapedClass} { flex: ${number}; }`;
        }
      }
      const gridColsMatch = base.match(/^grid-cols-(.+)$/);
      if (gridColsMatch) {
        const [, value] = gridColsMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
        if (value === &quot;none&quot;) {
          return `.${escapedClass} { grid-template-columns: none; }`;
        }
        if (value === &quot;subgrid&quot;) {
          return `.${escapedClass} { grid-template-columns: subgrid; }`;
        }
        const arbitraryValue = parseArbitraryValue(value);
        if (arbitraryValue) {
          const colsValue = arbitraryValue.replace(/_/g, &quot; &quot;);
          return `.${escapedClass} { grid-template-columns: ${colsValue}; }`;
        }
        const customPropMatch = value.match(/^\((.+)\)$/);
        if (customPropMatch) {
          const customProp = customPropMatch[1];
          return `.${escapedClass} { grid-template-columns: var(${customProp}); }`;
        }
        const numericMatch = value.match(/^(\d+)$/);
        if (numericMatch) {
          const number = numericMatch[1];
          return `.${escapedClass} { grid-template-columns: repeat(${number}, minmax(0, 1fr)); }`;
        }
      }
      const gridRowsMatch = base.match(/^grid-rows-(.+)$/);
      if (gridRowsMatch) {
        const [, value] = gridRowsMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
        if (value === &quot;none&quot;) {
          return `.${escapedClass} { grid-template-rows: none; }`;
        }
        if (value === &quot;subgrid&quot;) {
          return `.${escapedClass} { grid-template-rows: subgrid; }`;
        }
        const arbitraryValue = parseArbitraryValue(value);
        if (arbitraryValue) {
          const rowsValue = arbitraryValue.replace(/_/g, &quot; &quot;);
          return `.${escapedClass} { grid-template-rows: ${rowsValue}; }`;
        }
        const customPropMatch = value.match(/^\((.+)\)$/);
        if (customPropMatch) {
          const customProp = customPropMatch[1];
          return `.${escapedClass} { grid-template-rows: var(${customProp}); }`;
        }
        const numericMatch = value.match(/^(\d+)$/);
        if (numericMatch) {
          const number = numericMatch[1];
          return `.${escapedClass} { grid-template-rows: repeat(${number}, minmax(0, 1fr)); }`;
        }
      }
      const colStartMatch = base.match(/^col-start-(.+)$/);
      if (colStartMatch) {
        const [, value] = colStartMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
        if (value === &quot;auto&quot;) {
          return `.${escapedClass} { grid-column-start: auto; }`;
        }
        const arbitraryValue = parseArbitraryValue(value);
        if (arbitraryValue) {
          return `.${escapedClass} { grid-column-start: ${arbitraryValue}; }`;
        }
        const customPropMatch = value.match(/^\((.+)\)$/);
        if (customPropMatch) {
          const customProp = customPropMatch[1];
          return `.${escapedClass} { grid-column-start: var(${customProp}); }`;
        }
        const numericMatch = value.match(/^(\d+)$/);
        if (numericMatch) {
          const number = numericMatch[1];
          return `.${escapedClass} { grid-column-start: ${number}; }`;
        }
      }
      const colEndMatch = base.match(/^col-end-(.+)$/);
      if (colEndMatch) {
        const [, value] = colEndMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
        if (value === &quot;auto&quot;) {
          return `.${escapedClass} { grid-column-end: auto; }`;
        }
        const arbitraryValue = parseArbitraryValue(value);
        if (arbitraryValue) {
          return `.${escapedClass} { grid-column-end: ${arbitraryValue}; }`;
        }
        const customPropMatch = value.match(/^\((.+)\)$/);
        if (customPropMatch) {
          const customProp = customPropMatch[1];
          return `.${escapedClass} { grid-column-end: var(${customProp}); }`;
        }
        const numericMatch = value.match(/^(\d+)$/);
        if (numericMatch) {
          const number = numericMatch[1];
          return `.${escapedClass} { grid-column-end: ${number}; }`;
        }
      }
      const colSpanMatch = base.match(/^col-span-(.+)$/);
      if (colSpanMatch) {
        const [, value] = colSpanMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
        if (value === &quot;full&quot;) {
          return `.${escapedClass} { grid-column: 1 / -1; }`;
        }
        const arbitraryValue = parseArbitraryValue(value);
        if (arbitraryValue) {
          return `.${escapedClass} { grid-column: ${arbitraryValue}; }`;
        }
        const customPropMatch = value.match(/^\((.+)\)$/);
        if (customPropMatch) {
          const customProp = customPropMatch[1];
          return `.${escapedClass} { grid-column: var(${customProp}); }`;
        }
        const numericMatch = value.match(/^(\d+)$/);
        if (numericMatch) {
          const number = numericMatch[1];
          return `.${escapedClass} { grid-column: span ${number} / span ${number}; }`;
        }
      }
      const colMatch = base.match(/^col-(.+)$/);
      if (colMatch) {
        const [, value] = colMatch;
        if (value.startsWith(&quot;start-&quot;) || value.startsWith(&quot;end-&quot;) || value.startsWith(&quot;span-&quot;)) {
        } else {
          const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
          if (value === &quot;auto&quot;) {
            return `.${escapedClass} { grid-column: auto; }`;
          }
          const arbitraryValue = parseArbitraryValue(value);
          if (arbitraryValue) {
            return `.${escapedClass} { grid-column: ${arbitraryValue}; }`;
          }
          const customPropMatch = value.match(/^\((.+)\)$/);
          if (customPropMatch) {
            const customProp = customPropMatch[1];
            return `.${escapedClass} { grid-column: var(${customProp}); }`;
          }
        }
      }
      const rowStartMatch = base.match(/^row-start-(.+)$/);
      if (rowStartMatch) {
        const [, value] = rowStartMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
        if (value === &quot;auto&quot;) {
          return `.${escapedClass} { grid-row-start: auto; }`;
        }
        const arbitraryValue = parseArbitraryValue(value);
        if (arbitraryValue) {
          return `.${escapedClass} { grid-row-start: ${arbitraryValue}; }`;
        }
        const customPropMatch = value.match(/^\((.+)\)$/);
        if (customPropMatch) {
          const customProp = customPropMatch[1];
          return `.${escapedClass} { grid-row-start: var(${customProp}); }`;
        }
        const numericMatch = value.match(/^(\d+)$/);
        if (numericMatch) {
          const number = numericMatch[1];
          return `.${escapedClass} { grid-row-start: ${number}; }`;
        }
      }
      const rowEndMatch = base.match(/^row-end-(.+)$/);
      if (rowEndMatch) {
        const [, value] = rowEndMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
        if (value === &quot;auto&quot;) {
          return `.${escapedClass} { grid-row-end: auto; }`;
        }
        const arbitraryValue = parseArbitraryValue(value);
        if (arbitraryValue) {
          return `.${escapedClass} { grid-row-end: ${arbitraryValue}; }`;
        }
        const customPropMatch = value.match(/^\((.+)\)$/);
        if (customPropMatch) {
          const customProp = customPropMatch[1];
          return `.${escapedClass} { grid-row-end: var(${customProp}); }`;
        }
        const numericMatch = value.match(/^(\d+)$/);
        if (numericMatch) {
          const number = numericMatch[1];
          return `.${escapedClass} { grid-row-end: ${number}; }`;
        }
      }
      const rowSpanMatch = base.match(/^row-span-(.+)$/);
      if (rowSpanMatch) {
        const [, value] = rowSpanMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
        if (value === &quot;full&quot;) {
          return `.${escapedClass} { grid-row: 1 / -1; }`;
        }
        const arbitraryValue = parseArbitraryValue(value);
        if (arbitraryValue) {
          return `.${escapedClass} { grid-row: ${arbitraryValue}; }`;
        }
        const customPropMatch = value.match(/^\((.+)\)$/);
        if (customPropMatch) {
          const customProp = customPropMatch[1];
          return `.${escapedClass} { grid-row: var(${customProp}); }`;
        }
        const numericMatch = value.match(/^(\d+)$/);
        if (numericMatch) {
          const number = numericMatch[1];
          return `.${escapedClass} { grid-row: span ${number} / span ${number}; }`;
        }
      }
      const rowMatch = base.match(/^row-(.+)$/);
      if (rowMatch) {
        const [, value] = rowMatch;
        if (value.startsWith(&quot;start-&quot;) || value.startsWith(&quot;end-&quot;) || value.startsWith(&quot;span-&quot;)) {
        } else {
          const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
          if (value === &quot;auto&quot;) {
            return `.${escapedClass} { grid-row: auto; }`;
          }
          const arbitraryValue = parseArbitraryValue(value);
          if (arbitraryValue) {
            return `.${escapedClass} { grid-row: ${arbitraryValue}; }`;
          }
          const customPropMatch = value.match(/^\((.+)\)$/);
          if (customPropMatch) {
            const customProp = customPropMatch[1];
            return `.${escapedClass} { grid-row: var(${customProp}); }`;
          }
        }
      }
      const autoColsMatch = base.match(/^auto-cols-(.+)$/);
      if (autoColsMatch) {
        const [, value] = autoColsMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
        if (value === &quot;auto&quot;) {
          return `.${escapedClass} { grid-auto-columns: auto; }`;
        }
        if (value === &quot;min&quot;) {
          return `.${escapedClass} { grid-auto-columns: min-content; }`;
        }
        if (value === &quot;max&quot;) {
          return `.${escapedClass} { grid-auto-columns: max-content; }`;
        }
        if (value === &quot;fr&quot;) {
          return `.${escapedClass} { grid-auto-columns: minmax(0, 1fr); }`;
        }
        const arbitraryValue = parseArbitraryValue(value);
        if (arbitraryValue) {
          return `.${escapedClass} { grid-auto-columns: ${arbitraryValue}; }`;
        }
        const customPropMatch = value.match(/^\((.+)\)$/);
        if (customPropMatch) {
          const customProp = customPropMatch[1];
          return `.${escapedClass} { grid-auto-columns: var(${customProp}); }`;
        }
      }
      const autoRowsMatch = base.match(/^auto-rows-(.+)$/);
      if (autoRowsMatch) {
        const [, value] = autoRowsMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
        if (value === &quot;auto&quot;) {
          return `.${escapedClass} { grid-auto-rows: auto; }`;
        }
        if (value === &quot;min&quot;) {
          return `.${escapedClass} { grid-auto-rows: min-content; }`;
        }
        if (value === &quot;max&quot;) {
          return `.${escapedClass} { grid-auto-rows: max-content; }`;
        }
        if (value === &quot;fr&quot;) {
          return `.${escapedClass} { grid-auto-rows: minmax(0, 1fr); }`;
        }
        const arbitraryValue = parseArbitraryValue(value);
        if (arbitraryValue) {
          return `.${escapedClass} { grid-auto-rows: ${arbitraryValue}; }`;
        }
        const customPropMatch = value.match(/^\((.+)\)$/);
        if (customPropMatch) {
          const customProp = customPropMatch[1];
          return `.${escapedClass} { grid-auto-rows: var(${customProp}); }`;
        }
      }
      const gridFlowMatch = base.match(/^grid-flow-(.+)$/);
      if (gridFlowMatch) {
        const [, value] = gridFlowMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;);
        if (value === &quot;row&quot;) {
          return `.${escapedClass} { grid-auto-flow: row; }`;
        }
        if (value === &quot;col&quot;) {
          return `.${escapedClass} { grid-auto-flow: column; }`;
        }
        if (value === &quot;dense&quot;) {
          return `.${escapedClass} { grid-auto-flow: dense; }`;
        }
        if (value === &quot;row-dense&quot;) {
          return `.${escapedClass} { grid-auto-flow: row dense; }`;
        }
        if (value === &quot;col-dense&quot;) {
          return `.${escapedClass} { grid-auto-flow: column dense; }`;
        }
      }
      const layoutUtilities = {
        // Display
        &quot;flex&quot;: &quot;display: flex&quot;,
        &quot;inline-flex&quot;: &quot;display: inline-flex&quot;,
        &quot;grid&quot;: &quot;display: grid&quot;,
        &quot;inline-grid&quot;: &quot;display: inline-grid&quot;,
        &quot;block&quot;: &quot;display: block&quot;,
        &quot;inline-block&quot;: &quot;display: inline-block&quot;,
        &quot;inline&quot;: &quot;display: inline&quot;,
        &quot;hidden&quot;: &quot;display: none&quot;,
        // Flex direction
        &quot;flex-row&quot;: &quot;flex-direction: row&quot;,
        &quot;flex-row-reverse&quot;: &quot;flex-direction: row-reverse&quot;,
        &quot;flex-col&quot;: &quot;flex-direction: column&quot;,
        &quot;flex-col-reverse&quot;: &quot;flex-direction: column-reverse&quot;,
        // Flex wrap
        &quot;flex-wrap&quot;: &quot;flex-wrap: wrap&quot;,
        &quot;flex-wrap-reverse&quot;: &quot;flex-wrap: wrap-reverse&quot;,
        &quot;flex-nowrap&quot;: &quot;flex-wrap: nowrap&quot;,
        // Flex shrink/grow
        &quot;shrink-0&quot;: &quot;flex-shrink: 0&quot;,
        &quot;shrink&quot;: &quot;flex-shrink: 1&quot;,
        &quot;grow-0&quot;: &quot;flex-grow: 0&quot;,
        &quot;grow&quot;: &quot;flex-grow: 1&quot;,
        // Flex sizing (common static values)
        &quot;flex-1&quot;: &quot;flex: 1 1 0%&quot;,
        &quot;flex-auto&quot;: &quot;flex: 1 1 auto&quot;,
        &quot;flex-initial&quot;: &quot;flex: 0 1 auto&quot;,
        &quot;flex-none&quot;: &quot;flex: none&quot;,
        // Flex/Grid alignment
        &quot;items-start&quot;: &quot;align-items: flex-start&quot;,
        &quot;items-end&quot;: &quot;align-items: flex-end&quot;,
        &quot;items-center&quot;: &quot;align-items: center&quot;,
        &quot;items-baseline&quot;: &quot;align-items: baseline&quot;,
        &quot;items-stretch&quot;: &quot;align-items: stretch&quot;,
        &quot;justify-start&quot;: &quot;justify-content: flex-start&quot;,
        &quot;justify-end&quot;: &quot;justify-content: flex-end&quot;,
        &quot;justify-center&quot;: &quot;justify-content: center&quot;,
        &quot;justify-between&quot;: &quot;justify-content: space-between&quot;,
        &quot;justify-around&quot;: &quot;justify-content: space-around&quot;,
        &quot;justify-evenly&quot;: &quot;justify-content: space-evenly&quot;,
        &quot;place-content-center&quot;: &quot;place-content: center&quot;,
        &quot;place-content-start&quot;: &quot;place-content: start&quot;,
        &quot;place-content-end&quot;: &quot;place-content: end&quot;,
        // Position
        &quot;relative&quot;: &quot;position: relative&quot;,
        &quot;absolute&quot;: &quot;position: absolute&quot;,
        &quot;fixed&quot;: &quot;position: fixed&quot;,
        &quot;sticky&quot;: &quot;position: sticky&quot;,
        // Overflow
        &quot;overflow-hidden&quot;: &quot;overflow: hidden&quot;,
        &quot;overflow-auto&quot;: &quot;overflow: auto&quot;,
        &quot;overflow-scroll&quot;: &quot;overflow: scroll&quot;,
        &quot;overflow-x-hidden&quot;: &quot;overflow-x: hidden&quot;,
        &quot;overflow-y-hidden&quot;: &quot;overflow-y: hidden&quot;,
        &quot;overflow-x-auto&quot;: &quot;overflow-x: auto&quot;,
        &quot;overflow-y-auto&quot;: &quot;overflow-y: auto&quot;,
        // Cursor
        &quot;cursor-pointer&quot;: &quot;cursor: pointer&quot;,
        &quot;cursor-default&quot;: &quot;cursor: default&quot;,
        &quot;cursor-not-allowed&quot;: &quot;cursor: not-allowed&quot;,
        // Text align
        &quot;text-left&quot;: &quot;text-align: left&quot;,
        &quot;text-center&quot;: &quot;text-align: center&quot;,
        &quot;text-right&quot;: &quot;text-align: right&quot;,
        // Text decoration
        &quot;underline&quot;: &quot;text-decoration: underline&quot;,
        &quot;overline&quot;: &quot;text-decoration: overline&quot;,
        &quot;line-through&quot;: &quot;text-decoration: line-through&quot;,
        &quot;no-underline&quot;: &quot;text-decoration: none&quot;,
        // Pointer events
        &quot;pointer-events-none&quot;: &quot;pointer-events: none&quot;,
        &quot;pointer-events-auto&quot;: &quot;pointer-events: auto&quot;,
        // Aspect ratio
        &quot;aspect-square&quot;: &quot;aspect-ratio: 1 / 1&quot;,
        &quot;aspect-video&quot;: &quot;aspect-ratio: 16 / 9&quot;,
        // Shadow
        &quot;shadow&quot;: &quot;box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)&quot;,
        &quot;shadow-sm&quot;: &quot;box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05)&quot;,
        &quot;shadow-md&quot;: &quot;box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)&quot;,
        &quot;shadow-lg&quot;: &quot;box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)&quot;,
        &quot;shadow-none&quot;: &quot;box-shadow: none&quot;,
        // Outline
        &quot;outline-none&quot;: &quot;outline: 2px solid transparent; outline-offset: 2px&quot;,
        // Opacity (common values)
        &quot;opacity-0&quot;: &quot;opacity: 0&quot;,
        &quot;opacity-50&quot;: &quot;opacity: 0.5&quot;,
        &quot;opacity-100&quot;: &quot;opacity: 1&quot;,
        // Appearance
        &quot;appearance-none&quot;: &quot;appearance: none; -webkit-appearance: none; -moz-appearance: none&quot;,
        // Border
        &quot;border&quot;: &quot;border-width: 1px; border-style: solid&quot;,
        // Peer
        &quot;peer&quot;: &quot;&quot;
      };
      if (layoutUtilities[className]) {
        return `.${className} { ${layoutUtilities[className]}; }`;
      }
      const opacityMatch = base.match(/^opacity-(\d+)$/);
      if (opacityMatch) {
        const [, value] = opacityMatch;
        const opacityValue = parseInt(value) / 100;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\./g, &quot;\\.&quot;);
        return `.${escapedClass} { opacity: ${opacityValue}; }`;
      }
      const colorMatch = base.match(/^(bg|text|border|ring|outline|fill)-(.+)$/);
      if (colorMatch) {
        const [, property, colorName] = colorMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\./g, &quot;\\.&quot;);
        const propertyMap = {
          &quot;bg&quot;: &quot;background-color&quot;,
          &quot;text&quot;: &quot;color&quot;,
          &quot;border&quot;: &quot;border-color&quot;,
          &quot;ring&quot;: &quot;--tw-ring-color&quot;,
          &quot;outline&quot;: &quot;outline-color&quot;,
          &quot;fill&quot;: &quot;fill&quot;
        };
        const cssProp = propertyMap[property];
        if (!cssProp) return null;
        if (opacity) {
          return `.${escapedClass} { ${cssProp}: oklch(from var(--color-${colorName}) l c h / ${opacity}); }`;
        } else {
          return `.${escapedClass} { ${cssProp}: var(--color-${colorName}); }`;
        }
      }
      if (className === &quot;transition-colors&quot;) {
        return `.transition-colors { transition-property: color, background-color, border-color, text-decoration-color, fill, stroke; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 150ms; }`;
      }
      if (className === &quot;transition&quot;) {
        return `.transition { transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 150ms; }`;
      }
      if (className === &quot;transition-opacity&quot;) {
        return `.transition-opacity { transition-property: opacity; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 150ms; }`;
      }
      const borderWidthMatch = base.match(/^border(-[trbl])?-(\d+)$/);
      if (borderWidthMatch) {
        const [, side, width] = borderWidthMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\./g, &quot;\\.&quot;);
        if (side) {
          const sideMap = {
            &quot;-t&quot;: &quot;border-top-width&quot;,
            &quot;-r&quot;: &quot;border-right-width&quot;,
            &quot;-b&quot;: &quot;border-bottom-width&quot;,
            &quot;-l&quot;: &quot;border-left-width&quot;
          };
          return `.${escapedClass} { ${sideMap[side]}: ${width}px; }`;
        } else {
          return `.${escapedClass} { border-width: ${width}px; }`;
        }
      }
      const roundedMatch = base.match(/^rounded(-[trblxy])?(-(.+))?$/);
      if (roundedMatch) {
        const [, corner, , value] = roundedMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\./g, &quot;\\.&quot;);
        const roundedValues = {
          &quot;none&quot;: &quot;0&quot;,
          &quot;sm&quot;: &quot;calc(var(--radius) - 4px)&quot;,
          &quot;md&quot;: &quot;calc(var(--radius) - 2px)&quot;,
          &quot;lg&quot;: &quot;var(--radius)&quot;,
          &quot;xl&quot;: &quot;0.75rem&quot;,
          &quot;2xl&quot;: &quot;1rem&quot;,
          &quot;3xl&quot;: &quot;1.5rem&quot;,
          &quot;full&quot;: &quot;9999px&quot;
        };
        const radiusValue = value ? roundedValues[value] || spacingScale[value] || parseArbitraryValue(value) : &quot;0.25rem&quot;;
        if (!radiusValue) return null;
        const cornerMap = {
          &quot;-t&quot;: [&quot;border-top-left-radius&quot;, &quot;border-top-right-radius&quot;],
          &quot;-r&quot;: [&quot;border-top-right-radius&quot;, &quot;border-bottom-right-radius&quot;],
          &quot;-b&quot;: [&quot;border-bottom-left-radius&quot;, &quot;border-bottom-right-radius&quot;],
          &quot;-l&quot;: [&quot;border-top-left-radius&quot;, &quot;border-bottom-left-radius&quot;],
          &quot;-tl&quot;: [&quot;border-top-left-radius&quot;],
          &quot;-tr&quot;: [&quot;border-top-right-radius&quot;],
          &quot;-bl&quot;: [&quot;border-bottom-left-radius&quot;],
          &quot;-br&quot;: [&quot;border-bottom-right-radius&quot;]
        };
        if (corner &amp;&amp; cornerMap[corner]) {
          const declarations = cornerMap[corner].map((prop) =&gt; `${prop}: ${radiusValue}`).join(&quot;; &quot;);
          return `.${escapedClass} { ${declarations}; }`;
        } else {
          return `.${escapedClass} { border-radius: ${radiusValue}; }`;
        }
      }
      const ringMatch = className.match(/^ring(-offset)?(-(\d+))?$/);
      if (ringMatch) {
        const [, offset, , width] = ringMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\./g, &quot;\\.&quot;);
        if (offset) {
          const ringWidth = width || &quot;2&quot;;
          return `.${escapedClass} { --tw-ring-offset-width: ${ringWidth}px; }`;
        } else {
          const ringWidth = width || &quot;3&quot;;
          return `.${escapedClass} { --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color); --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(${ringWidth}px + var(--tw-ring-offset-width)) var(--tw-ring-color); box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000); }`;
        }
      }
      if (className === &quot;ring-offset-background&quot;) {
        return `.ring-offset-background { --tw-ring-offset-color: var(--color-background); }`;
      }
      const focusVisibleMatch = className.match(/^focus-visible:(.+)$/);
      if (focusVisibleMatch) {
        const [, baseClass] = focusVisibleMatch;
        const baseRule = generateRule(baseClass);
        if (!baseRule) return null;
        const escapedClass = className.replace(/:/g, &quot;\\:&quot;).replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\./g, &quot;\\.&quot;);
        return `.${escapedClass}:focus-visible ${baseRule.substring(baseRule.indexOf(&quot;{&quot;))}`;
      }
      const dataMatch = className.match(/^data-\[(.+?)\]:(.+)$/);
      if (dataMatch) {
        const [, dataAttr, baseClass] = dataMatch;
        const baseRule = generateRule(baseClass);
        if (!baseRule) return null;
        const escapedClass = className.replace(/:/g, &quot;\\:&quot;).replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/=/g, &quot;\\=&quot;).replace(/\./g, &quot;\\.&quot;);
        return `.${escapedClass}[data-${dataAttr}] ${baseRule.substring(baseRule.indexOf(&quot;{&quot;))}`;
      }
      return null;
    };
    const css = (classNames) =&gt; {
      const classes = classNames.trim().split(/\s+/).filter(Boolean);
      for (const className of classes) {
        if (generatedClasses.has(className)) continue;
        const rule = generateRule(className);
        if (rule) {
          try {
            styleSheet.insertRule(rule, styleSheet.cssRules.length);
            generatedClasses.add(className);
          } catch (error) {
            console.error(`[DynamicBlock Error] Failed to generate CSS for class: ${className}`, error);
          }
        }
      }
      return classNames;
    };
    return css;
  }
  function createUIHelpers(cssGenerator) {
    const isSelector = (arg) =&gt; typeof arg === &quot;string&quot;;
    const applyClasses = (element, baseClasses, customClassName) =&gt; {
      const allClasses = customClassName ? `${baseClasses} ${customClassName}`.replace(/\s+/g, &quot; &quot;).trim() : baseClasses;
      cssGenerator(allClasses);
      if (element instanceof SVGElement) {
        element.setAttribute(&quot;class&quot;, allClasses);
      } else {
        element.className = allClasses;
      }
    };
    const applyStyles = (element, styles) =&gt; {
      if (!styles) return;
      Object.entries(styles).forEach(([property, value]) =&gt; {
        if (element instanceof HTMLElement) {
          element.style.setProperty(property, value);
        } else {
          const currentStyle = element.getAttribute(&quot;style&quot;) || &quot;&quot;;
          const newStyle = `${currentStyle}${currentStyle ? &quot;; &quot; : &quot;&quot;}${property}: ${value}`;
          element.setAttribute(&quot;style&quot;, newStyle);
        }
      });
    };
    return {
      /**
       * Button helper - creates or enhances button elements
       */
      button(selectorOrOptions, options) {
        const baseClasses = &quot;inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 cursor-pointer disabled:cursor-not-allowed disabled:pointer-events-none disabled:opacity-50&quot;;
        const getVariantClasses = (variant2 = &quot;contained&quot;, color2 = &quot;primary&quot;, size2 = &quot;md&quot;) =&gt; {
          const variantBaseMap = {
            contained: &quot;&quot;,
            outlined: &quot;border bg-background&quot;,
            text: &quot;&quot;,
            ghost: &quot;&quot;
          };
          const variantColorMap = {
            contained: `bg-${color2} text-${color2}-foreground hover:bg-${color2}/80`,
            outlined: `border-${color2} text-${color2} hover:bg-${color2}/20`,
            text: `text-${color2} hover:bg-${color2}/20`,
            ghost: `text-${color2} hover:bg-${color2} hover:text-background`
          };
          const sizeMap = {
            sm: &quot;h-9 rounded-md px-3 text-sm&quot;,
            md: &quot;h-10 px-4 py-2&quot;,
            lg: &quot;h-12 rounded-md px-6 text-base&quot;,
            xl: &quot;h-14 rounded-md px-8 text-lg&quot;,
            icon: &quot;h-10 w-10&quot;
          };
          const variantBase = variantBaseMap[variant2] || variantBaseMap.contained;
          const variantColor = variantColorMap[variant2] || variantColorMap.contained;
          const sizeClasses = sizeMap[size2] || sizeMap.md;
          return `${baseClasses} ${variantBase} ${variantColor} ${sizeClasses}`.replace(/\s+/g, &quot; &quot;).trim();
        };
        if (isSelector(selectorOrOptions)) {
          const elements = document.querySelectorAll(selectorOrOptions);
          elements.forEach((btn2) =&gt; {
            const { variant: variant2, color: color2, size: size2, disabled: disabled2, onClick: onClick2, className: className2, style: style2 } = options || {};
            applyClasses(btn2, getVariantClasses(variant2, color2, size2), className2);
            applyStyles(btn2, style2);
            if (disabled2 !== void 0) btn2.disabled = disabled2;
            if (onClick2) btn2.addEventListener(&quot;click&quot;, onClick2);
          });
          return elements;
        }
        const { label, variant, color, size, disabled, onClick, className, style } = selectorOrOptions;
        const btn = document.createElement(&quot;button&quot;);
        btn.type = &quot;button&quot;;
        if (label) btn.textContent = label;
        applyClasses(btn, getVariantClasses(variant, color, size), className);
        applyStyles(btn, style);
        if (disabled) btn.disabled = disabled;
        if (onClick) btn.addEventListener(&quot;click&quot;, onClick);
        return btn;
      },
      /**
       * Input helper - creates or enhances input elements
       */
      input(selectorOrOptions, options) {
        const baseClasses = &quot;flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50&quot;;
        if (isSelector(selectorOrOptions)) {
          const elements = document.querySelectorAll(selectorOrOptions);
          elements.forEach((input2) =&gt; {
            const { type: type2, placeholder: placeholder2, disabled: disabled2, value: value2, onInput: onInput2, onChange: onChange2, className: className2, style: style2 } = options || {};
            applyClasses(input2, baseClasses, className2);
            applyStyles(input2, style2);
            if (type2) input2.type = type2;
            if (placeholder2) input2.placeholder = placeholder2;
            if (disabled2 !== void 0) input2.disabled = disabled2;
            if (value2 !== void 0) input2.value = value2;
            if (onInput2) input2.addEventListener(&quot;input&quot;, onInput2);
            if (onChange2) input2.addEventListener(&quot;change&quot;, onChange2);
          });
          return elements;
        }
        const { type, placeholder, disabled, value, onInput, onChange, className, style } = selectorOrOptions;
        const input = document.createElement(&quot;input&quot;);
        input.type = type || &quot;text&quot;;
        applyClasses(input, baseClasses, className);
        applyStyles(input, style);
        if (placeholder) input.placeholder = placeholder;
        if (disabled) input.disabled = disabled;
        if (value !== void 0) input.value = value;
        if (onInput) input.addEventListener(&quot;input&quot;, onInput);
        if (onChange) input.addEventListener(&quot;change&quot;, onChange);
        return input;
      },
      /**
       * Textarea helper - creates or enhances textarea elements
       */
      textarea(selectorOrOptions, options) {
        const baseClasses = &quot;flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50&quot;;
        if (isSelector(selectorOrOptions)) {
          const elements = document.querySelectorAll(selectorOrOptions);
          elements.forEach((textarea2) =&gt; {
            const { placeholder: placeholder2, rows: rows2, disabled: disabled2, value: value2, onInput: onInput2, onChange: onChange2, className: className2, style: style2 } = options || {};
            applyClasses(textarea2, baseClasses, className2);
            applyStyles(textarea2, style2);
            if (placeholder2) textarea2.placeholder = placeholder2;
            if (rows2) textarea2.rows = rows2;
            if (disabled2 !== void 0) textarea2.disabled = disabled2;
            if (value2 !== void 0) textarea2.value = value2;
            if (onInput2) textarea2.addEventListener(&quot;input&quot;, onInput2);
            if (onChange2) textarea2.addEventListener(&quot;change&quot;, onChange2);
          });
          return elements;
        }
        const { placeholder, rows, disabled, value, onInput, onChange, className, style } = selectorOrOptions;
        const textarea = document.createElement(&quot;textarea&quot;);
        applyClasses(textarea, baseClasses, className);
        applyStyles(textarea, style);
        if (placeholder) textarea.placeholder = placeholder;
        if (rows) textarea.rows = rows;
        if (disabled) textarea.disabled = disabled;
        if (value !== void 0) textarea.value = value;
        if (onInput) textarea.addEventListener(&quot;input&quot;, onInput);
        if (onChange) textarea.addEventListener(&quot;change&quot;, onChange);
        return textarea;
      },
      /**
       * Select helper - creates or enhances select elements
       * Uses native HTML select with chevron icon styling to match shadcn
       */
      select(selectorOrOptions, options) {
        const createSelectWrapper = (items2, value2, placeholder2, disabled2, onChange2, className2, style2) =&gt; {
          const wrapper = document.createElement(&quot;div&quot;);
          applyClasses(wrapper, &quot;relative w-full&quot;, className2);
          applyStyles(wrapper, style2);
          const select = document.createElement(&quot;select&quot;);
          const selectClasses = &quot;sandbox-select flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 appearance-none cursor-pointer&quot;;
          applyClasses(select, selectClasses);
          if (placeholder2) {
            const placeholderOption = document.createElement(&quot;option&quot;);
            placeholderOption.value = &quot;&quot;;
            placeholderOption.textContent = placeholder2;
            placeholderOption.disabled = true;
            placeholderOption.selected = true;
            select.appendChild(placeholderOption);
            select.required = true;
          }
          if (items2) {
            items2.forEach((item) =&gt; {
              const option = document.createElement(&quot;option&quot;);
              option.value = item.value;
              option.textContent = item.label;
              select.appendChild(option);
            });
          }
          if (value2) {
            select.value = value2;
            if (placeholder2) select.required = false;
          }
          if (disabled2) select.disabled = disabled2;
          if (onChange2) {
            select.addEventListener(&quot;change&quot;, (e) =&gt; {
              const newValue = e.target.value;
              if (placeholder2) {
                select.required = newValue === &quot;&quot;;
              }
              onChange2(newValue);
            });
          }
          const chevron = document.createElementNS(&quot;http://www.w3.org/2000/svg&quot;, &quot;svg&quot;);
          applyClasses(chevron, &quot;h-4 w-4 opacity-50 pointer-events-none&quot;);
          chevron.style.position = &quot;absolute&quot;;
          chevron.style.right = &quot;0.75rem&quot;;
          chevron.style.top = &quot;50%&quot;;
          chevron.style.transform = &quot;translateY(-50%)&quot;;
          chevron.setAttribute(&quot;xmlns&quot;, &quot;http://www.w3.org/2000/svg&quot;);
          chevron.setAttribute(&quot;width&quot;, &quot;24&quot;);
          chevron.setAttribute(&quot;height&quot;, &quot;24&quot;);
          chevron.setAttribute(&quot;viewBox&quot;, &quot;0 0 24 24&quot;);
          chevron.setAttribute(&quot;fill&quot;, &quot;none&quot;);
          chevron.setAttribute(&quot;stroke&quot;, &quot;currentColor&quot;);
          chevron.setAttribute(&quot;stroke-width&quot;, &quot;2&quot;);
          chevron.setAttribute(&quot;stroke-linecap&quot;, &quot;round&quot;);
          chevron.setAttribute(&quot;stroke-linejoin&quot;, &quot;round&quot;);
          const polyline = document.createElementNS(&quot;http://www.w3.org/2000/svg&quot;, &quot;polyline&quot;);
          polyline.setAttribute(&quot;points&quot;, &quot;6 9 12 15 18 9&quot;);
          chevron.appendChild(polyline);
          select.style.paddingRight = &quot;2.5rem&quot;;
          wrapper.appendChild(select);
          wrapper.appendChild(chevron);
          return wrapper;
        };
        if (isSelector(selectorOrOptions)) {
          const elements = document.querySelectorAll(selectorOrOptions);
          const wrappers = [];
          elements.forEach((select) =&gt; {
            const { items: items2, value: value2, placeholder: placeholder2, disabled: disabled2, onChange: onChange2, className: className2, style: style2 } = options || {};
            const wrapper = createSelectWrapper(items2, value2, placeholder2, disabled2, onChange2, className2, style2);
            select.replaceWith(wrapper);
            wrappers.push(wrapper);
          });
          return document.querySelectorAll(&quot;.relative:has(select)&quot;);
        }
        const { items, value, placeholder, disabled, onChange, className, style } = selectorOrOptions;
        return createSelectWrapper(items, value, placeholder, disabled, onChange, className, style);
      },
      /**
       * Checkbox helper - creates checkbox elements matching shadcn Radix UI styling
       * Uses custom div-based checkbox with check icon for visual parity
       */
      checkbox(selectorOrOptions, options) {
        const createCheckbox = (checked2, label2, disabled2, onChange2, className2, style2) =&gt; {
          const wrapper = document.createElement(&quot;div&quot;);
          applyClasses(wrapper, &quot;flex items-center gap-2&quot;, className2);
          applyStyles(wrapper, style2);
          const checkboxContainer = document.createElement(&quot;button&quot;);
          checkboxContainer.type = &quot;button&quot;;
          checkboxContainer.role = &quot;checkbox&quot;;
          checkboxContainer.setAttribute(&quot;aria-checked&quot;, checked2 ? &quot;true&quot; : &quot;false&quot;);
          const checkboxClasses = &quot;grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer&quot;;
          applyClasses(checkboxContainer, checkboxClasses);
          const updateCheckboxStyles = (isChecked2) =&gt; {
            if (isChecked2) {
              checkboxContainer.style.backgroundColor = &quot;var(--color-checkbox-checked)&quot;;
              checkboxContainer.style.color = &quot;var(--color-checkbox-checked-foreground)&quot;;
            } else {
              checkboxContainer.style.backgroundColor = &quot;&quot;;
              checkboxContainer.style.color = &quot;&quot;;
            }
          };
          updateCheckboxStyles(!!checked2);
          if (disabled2) {
            checkboxContainer.disabled = true;
          }
          const checkIcon = document.createElementNS(&quot;http://www.w3.org/2000/svg&quot;, &quot;svg&quot;);
          applyClasses(checkIcon, &quot;h-4 w-4&quot;);
          checkIcon.setAttribute(&quot;xmlns&quot;, &quot;http://www.w3.org/2000/svg&quot;);
          checkIcon.setAttribute(&quot;width&quot;, &quot;24&quot;);
          checkIcon.setAttribute(&quot;height&quot;, &quot;24&quot;);
          checkIcon.setAttribute(&quot;viewBox&quot;, &quot;0 0 24 24&quot;);
          checkIcon.setAttribute(&quot;fill&quot;, &quot;none&quot;);
          checkIcon.setAttribute(&quot;stroke&quot;, &quot;currentColor&quot;);
          checkIcon.setAttribute(&quot;stroke-width&quot;, &quot;2&quot;);
          checkIcon.setAttribute(&quot;stroke-linecap&quot;, &quot;round&quot;);
          checkIcon.setAttribute(&quot;stroke-linejoin&quot;, &quot;round&quot;);
          const polyline = document.createElementNS(&quot;http://www.w3.org/2000/svg&quot;, &quot;polyline&quot;);
          polyline.setAttribute(&quot;points&quot;, &quot;20 6 9 17 4 12&quot;);
          checkIcon.appendChild(polyline);
          if (checked2) {
            checkboxContainer.appendChild(checkIcon);
          }
          let isChecked = !!checked2;
          checkboxContainer.addEventListener(&quot;click&quot;, (e) =&gt; {
            if (disabled2) return;
            e.preventDefault();
            isChecked = !isChecked;
            checkboxContainer.setAttribute(&quot;aria-checked&quot;, isChecked ? &quot;true&quot; : &quot;false&quot;);
            updateCheckboxStyles(isChecked);
            if (isChecked) {
              checkboxContainer.appendChild(checkIcon);
            } else {
              if (checkIcon.parentNode === checkboxContainer) {
                checkboxContainer.removeChild(checkIcon);
              }
            }
            if (onChange2) onChange2(isChecked);
          });
          wrapper.appendChild(checkboxContainer);
          if (label2) {
            const labelEl = document.createElement(&quot;label&quot;);
            applyClasses(labelEl, &quot;text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer&quot;);
            labelEl.textContent = label2;
            labelEl.addEventListener(&quot;click&quot;, () =&gt; {
              if (!disabled2) checkboxContainer.click();
            });
            wrapper.appendChild(labelEl);
          }
          return wrapper;
        };
        if (isSelector(selectorOrOptions)) {
          const elements = document.querySelectorAll(selectorOrOptions);
          elements.forEach((el) =&gt; {
            const { checked: checked2, label: label2, disabled: disabled2, onChange: onChange2, className: className2, style: style2 } = options || {};
            const checkboxWrapper = createCheckbox(checked2, label2, disabled2, onChange2, className2, style2);
            el.replaceWith(checkboxWrapper);
          });
          return document.querySelectorAll(selectorOrOptions);
        }
        const { checked, label, disabled, onChange, className, style } = selectorOrOptions;
        return createCheckbox(checked, label, disabled, onChange, className, style);
      },
      /**
       * Radio helper - creates radio button elements matching shadcn Radix UI styling
       * Uses custom button-based radio with circle fill indicator for visual parity
       */
      radio(selectorOrOptions, options) {
        const createRadio = (name2, value2, checked2, label2, disabled2, onChange2, className2, style2) =&gt; {
          const wrapper = document.createElement(&quot;div&quot;);
          applyClasses(wrapper, &quot;flex items-center gap-2&quot;, className2);
          applyStyles(wrapper, style2);
          const radioContainer = document.createElement(&quot;button&quot;);
          radioContainer.type = &quot;button&quot;;
          radioContainer.role = &quot;radio&quot;;
          radioContainer.setAttribute(&quot;aria-checked&quot;, checked2 ? &quot;true&quot; : &quot;false&quot;);
          radioContainer.setAttribute(&quot;data-name&quot;, name2);
          radioContainer.setAttribute(&quot;data-value&quot;, value2);
          const radioClasses = &quot;aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer flex items-center justify-center&quot;;
          applyClasses(radioContainer, radioClasses);
          if (disabled2) {
            radioContainer.disabled = true;
          }
          const circleIndicator = document.createElementNS(&quot;http://www.w3.org/2000/svg&quot;, &quot;svg&quot;);
          circleIndicator.setAttribute(&quot;xmlns&quot;, &quot;http://www.w3.org/2000/svg&quot;);
          circleIndicator.setAttribute(&quot;width&quot;, &quot;24&quot;);
          circleIndicator.setAttribute(&quot;height&quot;, &quot;24&quot;);
          circleIndicator.setAttribute(&quot;viewBox&quot;, &quot;0 0 24 24&quot;);
          circleIndicator.setAttribute(&quot;fill&quot;, &quot;none&quot;);
          circleIndicator.setAttribute(&quot;stroke&quot;, &quot;currentColor&quot;);
          circleIndicator.setAttribute(&quot;stroke-width&quot;, &quot;2&quot;);
          circleIndicator.setAttribute(&quot;stroke-linecap&quot;, &quot;round&quot;);
          circleIndicator.setAttribute(&quot;stroke-linejoin&quot;, &quot;round&quot;);
          applyClasses(circleIndicator, &quot;h-3.5 w-3.5 fill-primary&quot;);
          const circle = document.createElementNS(&quot;http://www.w3.org/2000/svg&quot;, &quot;circle&quot;);
          circle.setAttribute(&quot;cx&quot;, &quot;12&quot;);
          circle.setAttribute(&quot;cy&quot;, &quot;12&quot;);
          circle.setAttribute(&quot;r&quot;, &quot;10&quot;);
          circleIndicator.appendChild(circle);
          if (checked2) {
            radioContainer.appendChild(circleIndicator);
          }
          radioContainer.addEventListener(&quot;click&quot;, (e) =&gt; {
            if (disabled2) return;
            e.preventDefault();
            const allRadiosInGroup = document.querySelectorAll(`[role=&quot;radio&quot;][data-name=&quot;${name2}&quot;]`);
            allRadiosInGroup.forEach((radio) =&gt; {
              radio.setAttribute(&quot;aria-checked&quot;, &quot;false&quot;);
              while (radio.firstChild) {
                radio.removeChild(radio.firstChild);
              }
            });
            radioContainer.setAttribute(&quot;aria-checked&quot;, &quot;true&quot;);
            radioContainer.appendChild(circleIndicator);
            if (onChange2) onChange2(value2);
          });
          wrapper.appendChild(radioContainer);
          if (label2) {
            const labelEl = document.createElement(&quot;label&quot;);
            applyClasses(labelEl, &quot;text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer&quot;);
            labelEl.textContent = label2;
            labelEl.addEventListener(&quot;click&quot;, () =&gt; {
              if (!disabled2) radioContainer.click();
            });
            wrapper.appendChild(labelEl);
          }
          return wrapper;
        };
        if (isSelector(selectorOrOptions)) {
          const elements = document.querySelectorAll(selectorOrOptions);
          elements.forEach((el) =&gt; {
            const { name: name2, value: value2, checked: checked2, label: label2, disabled: disabled2, onChange: onChange2, className: className2, style: style2 } = options || {};
            const radioWrapper = createRadio(name2, value2, checked2, label2, disabled2, onChange2, className2, style2);
            el.replaceWith(radioWrapper);
          });
          return document.querySelectorAll(selectorOrOptions);
        }
        const { name, value, checked, label, disabled, onChange, className, style } = selectorOrOptions;
        return createRadio(name, value, checked, label, disabled, onChange, className, style);
      }
    };
  }
  function scanAndGenerateClasses(api) {
    const classNames = /* @__PURE__ */ new Set();
    const elements = document.querySelectorAll(&quot;[class]&quot;);
    elements.forEach((element) =&gt; {
      const classList = element.className;
      if (typeof classList === &quot;string&quot;) {
        classList.split(/\s+/).forEach((cls) =&gt; {
          if (cls) classNames.add(cls);
        });
      }
    });
    const scripts = document.querySelectorAll(&quot;script&quot;);
    scripts.forEach((script) =&gt; {
      const content = script.textContent || &quot;&quot;;
      const stringMatches = content.matchAll(/(?:className|class)\s*[=:]\s*[&quot;&#x27;`]([^&quot;&#x27;`]+)[&quot;&#x27;`]/g);
      for (const match of stringMatches) {
        const classes = match[1];
        classes.split(/\s+/).forEach((cls) =&gt; {
          if (cls) classNames.add(cls);
        });
      }
      const templateMatches = content.matchAll(/`([^`]*(?:p-|m-|bg-|text-|border-|rounded|flex|grid|grid-cols-|grid-rows-|grid-flow-|auto-cols-|auto-rows-|col-|row-|w-|h-|gap-)[^`]*)`/g);
      for (const match of templateMatches) {
        const classes = match[1];
        const tailwindMatches = classes.matchAll(/\b((?:p|px|py|pt|pb|pl|pr|m|mx|my|mt|mb|ml|mr|gap|gap-x|gap-y|w|h|min-w|min-h|max-w|max-h|bg|text|border|rounded|flex|grid|grid-cols|grid-rows|grid-flow|auto-cols|auto-rows|col|row|inline|block|hidden|top|right|bottom|left|inset)(?:-[\w[\]/:.%-]+)?)\b/g);
        for (const tailwindMatch of tailwindMatches) {
          if (tailwindMatch[1]) classNames.add(tailwindMatch[1]);
        }
      }
    });
    if (classNames.size &gt; 0) {
      const allClasses = Array.from(classNames).join(&quot; &quot;);
      api.css(allClasses);
    }
  }
  function setupMutationObserver(api) {
    const sandboxWindow2 = window;
    const config = sandboxWindow2.$CONFIG || {};
    const autoDetectClasses = config.autoDetectClasses !== false;
    if (!autoDetectClasses) {
      return;
    }
    const observer = new MutationObserver((mutations) =&gt; {
      const classNames = /* @__PURE__ */ new Set();
      for (const mutation of mutations) {
        mutation.addedNodes.forEach((node) =&gt; {
          if (node.nodeType === Node.ELEMENT_NODE) {
            const element = node;
            if (element.className &amp;&amp; typeof element.className === &quot;string&quot;) {
              element.className.split(/\s+/).forEach((cls) =&gt; {
                if (cls) classNames.add(cls);
              });
            }
            element.querySelectorAll(&quot;[class]&quot;).forEach((child) =&gt; {
              if (typeof child.className === &quot;string&quot;) {
                child.className.split(/\s+/).forEach((cls) =&gt; {
                  if (cls) classNames.add(cls);
                });
              }
            });
          }
        });
        if (mutation.type === &quot;attributes&quot; &amp;&amp; mutation.attributeName === &quot;class&quot;) {
          const element = mutation.target;
          if (element.className &amp;&amp; typeof element.className === &quot;string&quot;) {
            element.className.split(/\s+/).forEach((cls) =&gt; {
              if (cls) classNames.add(cls);
            });
          }
        }
      }
      if (classNames.size &gt; 0) {
        const allClasses = Array.from(classNames).join(&quot; &quot;);
        api.css(allClasses);
      }
    });
    observer.observe(document.body, {
      childList: true,
      subtree: true,
      attributes: true,
      attributeFilter: [&quot;class&quot;]
    });
  }
  const clamp = (v, min, max) =&gt; Math.min(Math.max(v, min), max);
  function parseColor(input) {
    const cssVar = getComputedStyle(document.documentElement).getPropertyValue(`--color-${input}`).trim();
    const colorStr = cssVar || input;
    const oklchMatch = colorStr.match(/oklch\(([^)]+)\)/);
    if (oklchMatch) {
      const parts = oklchMatch[1].split(&quot;/&quot;);
      const channels = parts[0].trim().split(/\s+/);
      if (channels.length === 3) {
        const parseVal = (s, pctScale) =&gt; s.endsWith(&quot;%&quot;) ? parseFloat(s) / 100 * pctScale : parseFloat(s);
        const l = parseVal(channels[0], 1);
        const c = parseVal(channels[1], 1);
        const h = parseVal(channels[2], 360);
        let a2 = 1;
        if (parts[1] != null) {
          const alphaStr = parts[1].trim();
          a2 = alphaStr.endsWith(&quot;%&quot;) ? parseFloat(alphaStr) / 100 : parseFloat(alphaStr);
        }
        if (!isNaN(l) &amp;&amp; !isNaN(c) &amp;&amp; !isNaN(h) &amp;&amp; !isNaN(a2)) {
          return oklchToRgb({ l, c, h, a: a2 });
        }
      }
    }
    const canvas = document.createElement(&quot;canvas&quot;);
    canvas.width = 1;
    canvas.height = 1;
    const ctx = canvas.getContext(&quot;2d&quot;);
    ctx.fillStyle = colorStr;
    ctx.fillRect(0, 0, 1, 1);
    const [r, g, b, a] = ctx.getImageData(0, 0, 1, 1).data;
    return { r: r / 255, g: g / 255, b: b / 255, a: a / 255 };
  }
  function srgbToLinear(c) {
    return c &lt;= 0.04045 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);
  }
  function linearToSrgb(c) {
    return c &lt;= 31308e-7 ? c * 12.92 : 1.055 * Math.pow(c, 1 / 2.4) - 0.055;
  }
  function rgbToOklab(rgb) {
    const r = srgbToLinear(rgb.r);
    const g = srgbToLinear(rgb.g);
    const b = srgbToLinear(rgb.b);
    const l_ = 0.4122214708 * r + 0.5363325363 * g + 0.0514459929 * b;
    const m_ = 0.2119034982 * r + 0.6806995451 * g + 0.1073969566 * b;
    const s_ = 0.0883024619 * r + 0.2817188376 * g + 0.6299787005 * b;
    const l = Math.cbrt(l_);
    const m = Math.cbrt(m_);
    const s = Math.cbrt(s_);
    return {
      L: 0.2104542553 * l + 0.793617785 * m - 0.0040720468 * s,
      a: 1.9779984951 * l - 2.428592205 * m + 0.4505937099 * s,
      b: 0.0259040371 * l + 0.7827717662 * m - 0.808675766 * s,
      alpha: rgb.a
    };
  }
  function oklabToRgb(lab) {
    const l = lab.L + 0.3963377774 * lab.a + 0.2158037573 * lab.b;
    const m = lab.L - 0.1055613458 * lab.a - 0.0638541728 * lab.b;
    const s = lab.L - 0.0894841775 * lab.a - 1.291485548 * lab.b;
    const l3 = l * l * l;
    const m3 = m * m * m;
    const s3 = s * s * s;
    return {
      r: clamp(linearToSrgb(4.0767416621 * l3 - 3.3077115913 * m3 + 0.2309699292 * s3), 0, 1),
      g: clamp(linearToSrgb(-1.2684380046 * l3 + 2.6097574011 * m3 - 0.3413193965 * s3), 0, 1),
      b: clamp(linearToSrgb(-0.0041960863 * l3 - 0.7034186147 * m3 + 1.707614701 * s3), 0, 1),
      a: lab.alpha
    };
  }
  function oklabToOklch(lab) {
    const c = Math.sqrt(lab.a * lab.a + lab.b * lab.b);
    let h = Math.atan2(lab.b, lab.a) * 180 / Math.PI;
    if (h &lt; 0) h += 360;
    return { l: lab.L, c, h, a: lab.alpha };
  }
  function oklchToOklab(oklch) {
    const hRad = oklch.h * Math.PI / 180;
    return {
      L: oklch.l,
      a: oklch.c * Math.cos(hRad),
      b: oklch.c * Math.sin(hRad),
      alpha: oklch.a
    };
  }
  function rgbToOklch(rgb) {
    return oklabToOklch(rgbToOklab(rgb));
  }
  function oklchToRgb(oklch) {
    return oklabToRgb(oklchToOklab(oklch));
  }
  function rgbToHsl(rgb) {
    const { r, g, b } = rgb;
    const max = Math.max(r, g, b);
    const min = Math.min(r, g, b);
    const d = max - min;
    const l = (max + min) / 2;
    if (d === 0) return { h: 0, s: 0, l: l * 100, a: rgb.a };
    const s = l &gt; 0.5 ? d / (2 - max - min) : d / (max + min);
    let h = 0;
    if (max === r) h = ((g - b) / d + (g &lt; b ? 6 : 0)) / 6;
    else if (max === g) h = ((b - r) / d + 2) / 6;
    else h = ((r - g) / d + 4) / 6;
    return { h: h * 360, s: s * 100, l: l * 100, a: rgb.a };
  }
  function hslToRgb(hsl) {
    const h = hsl.h / 360;
    const s = hsl.s / 100;
    const l = hsl.l / 100;
    if (s === 0) return { r: l, g: l, b: l, a: hsl.a };
    const hue2rgb = (p2, q2, t) =&gt; {
      if (t &lt; 0) t += 1;
      if (t &gt; 1) t -= 1;
      if (t &lt; 1 / 6) return p2 + (q2 - p2) * 6 * t;
      if (t &lt; 1 / 2) return q2;
      if (t &lt; 2 / 3) return p2 + (q2 - p2) * (2 / 3 - t) * 6;
      return p2;
    };
    const q = l &lt; 0.5 ? l * (1 + s) : l + s - l * s;
    const p = 2 * l - q;
    return {
      r: hue2rgb(p, q, h + 1 / 3),
      g: hue2rgb(p, q, h),
      b: hue2rgb(p, q, h - 1 / 3),
      a: hsl.a
    };
  }
  function formatOklch(oklch) {
    const l = Math.round(oklch.l * 1e3) / 1e3;
    const c = Math.round(oklch.c * 1e3) / 1e3;
    const h = Math.round(oklch.h * 100) / 100;
    if (oklch.a &lt; 1) {
      const a = Math.round(oklch.a * 1e3) / 1e3;
      return `oklch(${l} ${c} ${h} / ${a})`;
    }
    return `oklch(${l} ${c} ${h})`;
  }
  function determineAdjustSpace(opts) {
    if (opts.space) return opts.space;
    const hasOklch = opts.lightness != null || opts.chroma != null || opts.hue != null;
    const hasHsl = opts.saturation != null;
    const hasRgb = opts.red != null || opts.green != null || opts.blue != null;
    if (hasHsl &amp;&amp; !hasOklch &amp;&amp; !hasRgb) return &quot;hsl&quot;;
    if (hasRgb &amp;&amp; !hasOklch &amp;&amp; !hasHsl) return &quot;rgb&quot;;
    if (hasOklch &amp;&amp; !hasHsl &amp;&amp; !hasRgb) return &quot;oklch&quot;;
    if (!hasOklch &amp;&amp; !hasHsl &amp;&amp; !hasRgb) return &quot;oklch&quot;;
    throw new Error(
      &quot;[getColor] Cannot mix channels from different color spaces. Use the space parameter to disambiguate, or only use channels from one space.&quot;
    );
  }
  function adjustColor(input, opts) {
    const rgba = parseColor(input);
    const space = determineAdjustSpace(opts);
    const alphaAdj = opts.alpha ?? 0;
    if (space === &quot;oklch&quot;) {
      const oklch = rgbToOklch(rgba);
      oklch.l = clamp(oklch.l + (opts.lightness ?? 0), 0, 1);
      oklch.c = Math.max(0, oklch.c + (opts.chroma ?? 0));
      oklch.h = ((oklch.h + (opts.hue ?? 0)) % 360 + 360) % 360;
      oklch.a = clamp(oklch.a + alphaAdj, 0, 1);
      return formatOklch(oklch);
    }
    if (space === &quot;hsl&quot;) {
      const hsl = rgbToHsl(rgba);
      hsl.h = ((hsl.h + (opts.hue ?? 0)) % 360 + 360) % 360;
      hsl.s = clamp(hsl.s + (opts.saturation ?? 0), 0, 100);
      hsl.l = clamp(hsl.l + (opts.lightness ?? 0), 0, 100);
      hsl.a = clamp(hsl.a + alphaAdj, 0, 1);
      const rgb = hslToRgb(hsl);
      return formatOklch(rgbToOklch(rgb));
    }
    const r = clamp(rgba.r + (opts.red ?? 0) / 255, 0, 1);
    const g = clamp(rgba.g + (opts.green ?? 0) / 255, 0, 1);
    const b = clamp(rgba.b + (opts.blue ?? 0) / 255, 0, 1);
    const a = clamp(rgba.a + alphaAdj, 0, 1);
    return formatOklch(rgbToOklch({ r, g, b, a }));
  }
  function initializeSandbox() {
    const themeChangeCallbacks = [];
    const resizeCallbacks = [];
    let currentTheme = document.documentElement.classList.contains(&quot;dark&quot;) ? &quot;dark&quot; : &quot;light&quot;;
    const cssGenerator = createCSSGenerator();
    const api = {
      get theme() {
        return currentTheme;
      },
      size: {
        get width() {
          return window.innerWidth;
        }
      },
      onResize: (callback) =&gt; {
        resizeCallbacks.push(callback);
        callback(window.innerWidth);
      },
      onThemeChange: (callback) =&gt; {
        themeChangeCallbacks.push(callback);
        callback(currentTheme);
      },
      requestResize: (height) =&gt; {
        window.parent.postMessage(
          {
            event: &quot;resize-request&quot;,
            data: { height }
          },
          &quot;*&quot;
        );
      },
      getColor: (color, adjust) =&gt; {
        if (adjust) {
          return adjustColor(color, adjust);
        }
        const cssVar = getComputedStyle(document.documentElement).getPropertyValue(`--color-${color}`).trim();
        if (cssVar) return cssVar;
        return formatOklch(rgbToOklch(parseColor(color)));
      },
      getFont: (name) =&gt; {
        if (name === &quot;default&quot;) {
          const value = getComputedStyle(document.body).fontFamily;
          return value.trim();
        } else if (name === &quot;mono&quot;) {
          return &#x27;&quot;Space Mono&quot;, ui-monospace, &quot;Cascadia Code&quot;, monospace&#x27;;
        }
        return &quot;&quot;;
      },
      css: cssGenerator,
      ui: createUIHelpers(cssGenerator),
      emit: (event, data) =&gt; {
        void event;
        void data;
      }
    };
    window.addEventListener(&quot;message&quot;, (event) =&gt; {
      if (event.data?.event === &quot;theme-change&quot;) {
        const newTheme = event.data.data.theme;
        if (newTheme === &quot;dark&quot;) {
          document.documentElement.classList.add(&quot;dark&quot;);
        } else {
          document.documentElement.classList.remove(&quot;dark&quot;);
        }
        currentTheme = newTheme;
        themeChangeCallbacks.forEach((callback) =&gt; {
          try {
            callback(newTheme);
          } catch (error) {
            console.error(&quot;[DynamicBlock Error] Error in onThemeChange callback:&quot;, error);
            console.error(&quot;Stack trace:&quot;, error.stack);
          }
        });
      }
    });
    let resizeTimeout;
    window.addEventListener(&quot;resize&quot;, () =&gt; {
      clearTimeout(resizeTimeout);
      resizeTimeout = window.setTimeout(() =&gt; {
        const newWidth = window.innerWidth;
        resizeCallbacks.forEach((callback) =&gt; {
          try {
            callback(newWidth);
          } catch (error) {
            console.error(&quot;[DynamicBlock Error] Error in onResize callback:&quot;, error);
            console.error(&quot;Stack trace:&quot;, error.stack);
          }
        });
      }, 150);
    });
    const sandboxWindow2 = window;
    sandboxWindow2.sandboxContext = api;
    setupAutoResize(api);
    scanAndGenerateClasses(api);
    setupMutationObserver(api);
  }
  function setupAutoResize(api) {
    let lastHeight = 0;
    const updateHeight = () =&gt; {
      const root2 = document.getElementById(&quot;root&quot;);
      if (!root2) return;
      const currentHeight = root2.scrollHeight;
      if (currentHeight !== lastHeight) {
        lastHeight = currentHeight;
        api.requestResize(currentHeight);
      }
    };
    const resizeObserver = new ResizeObserver(() =&gt; {
      updateHeight();
    });
    const root = document.getElementById(&quot;root&quot;);
    if (root) {
      resizeObserver.observe(root);
    }
    setTimeout(updateHeight, 0);
  }
  initializeSandbox();
  function executeMountIfExists(props = {}) {
    try {
      const sandboxWindow2 = window;
      const api = sandboxWindow2.sandboxContext;
      const root = document.getElementById(&quot;root&quot;);
      if (!root) {
        console.error(&quot;[DynamicBlock Error] Root element not found - cannot execute mount()&quot;);
        return;
      }
      if (typeof sandboxWindow2.mount === &quot;function&quot;) {
        try {
          sandboxWindow2.mount({ root, api, props });
        } catch (error) {
          console.error(&quot;[DynamicBlock Error] Error in mount() function:&quot;, error);
          console.error(&quot;Stack trace:&quot;, error.stack);
        }
      }
    } catch (error) {
      console.error(&quot;[DynamicBlock Error] Fatal error in executeMountIfExists():&quot;, error);
      console.error(&quot;Stack trace:&quot;, error.stack);
    }
  }
  function executeDrawIfExists(props = {}) {
    try {
      const sandboxWindow2 = window;
      const api = sandboxWindow2.sandboxContext;
      const drawFn = sandboxWindow2.draw;
      if (!api) {
        console.error(&quot;[DynamicBlock Error] Sandbox context not initialized&quot;);
        return;
      }
      if (typeof drawFn !== &quot;function&quot;) {
        return;
      }
      let canvas = document.querySelector(&quot;canvas&quot;);
      if (!canvas) {
        const root = document.getElementById(&quot;root&quot;);
        if (!root) {
          console.error(&quot;[DynamicBlock Error] Root element not found - cannot create canvas&quot;);
          return;
        }
        root.innerHTML = &quot;&quot;;
        canvas = document.createElement(&quot;canvas&quot;);
        canvas.className = api.css(&quot;[&amp;:not([width])]:w-full [&amp;[width]]:mx-auto&quot;);
        root.appendChild(canvas);
      }
      const ariaLabel = sandboxWindow2.__CANVAS_ARIA_LABEL__;
      if (ariaLabel &amp;&amp; typeof ariaLabel === &quot;string&quot;) {
        canvas.setAttribute(&quot;aria-label&quot;, ariaLabel);
      }
      const autoRedrawConfig = sandboxWindow2.autoRedraw || {
        onThemeChange: true,
        onResize: true
      };
      const themeChangeConfig = autoRedrawConfig.onThemeChange === false ? false : autoRedrawConfig.onThemeChange || 0;
      const resizeConfig = autoRedrawConfig.onResize === false ? false : autoRedrawConfig.onResize === true ? 150 : autoRedrawConfig.onResize;
      let resizeTimeout;
      const executeDraw = () =&gt; {
        try {
          const theme = api.theme;
          const width = window.innerWidth;
          drawFn({ canvas, api, theme, width, props });
          requestAnimationFrame(() =&gt; {
            const root = document.getElementById(&quot;root&quot;);
            if (root) {
              const height = root.scrollHeight;
              if (height &gt; 0) {
                api.requestResize(height);
              }
            }
          });
        } catch (error) {
          console.error(&quot;[DynamicBlock Error] Error in draw() function:&quot;, error);
          console.error(&quot;Stack trace:&quot;, error.stack);
        }
      };
      executeDraw();
      if (themeChangeConfig !== false) {
        api.onThemeChange(() =&gt; {
          const debounce = typeof themeChangeConfig === &quot;number&quot; ? themeChangeConfig : 0;
          if (debounce === 0) {
            executeDraw();
          } else {
            setTimeout(executeDraw, debounce);
          }
        });
      }
      if (resizeConfig !== false) {
        api.onResize(() =&gt; {
          clearTimeout(resizeTimeout);
          const debounce = typeof resizeConfig === &quot;number&quot; ? resizeConfig : 150;
          resizeTimeout = window.setTimeout(executeDraw, debounce);
        });
      }
    } catch (error) {
      console.error(&quot;[DynamicBlock Error] Fatal error setting up draw():&quot;, error);
      console.error(&quot;Stack trace:&quot;, error.stack);
    }
  }
  const sandboxWindow = window;
  sandboxWindow.executeMountIfExists = executeMountIfExists;
  sandboxWindow.executeDrawIfExists = executeDrawIfExists;
})();

  &lt;/script&gt;

  &lt;!-- User code script with source mapping --&gt;
  &lt;script&gt;//# sourceURL=content/puzzles/logic/8-queens.md














































function mount(options) {
  const { root, api, props } = options;
  const {
    mode = &#x27;interactive&#x27;,
    queens: initialQueens = []
  } = props;

  const BOARD_SIZE = 8;

  // State: Set of position strings &quot;row,col&quot;
  let queens = new Set();
  initialQueens.forEach((col, row) =&gt; {
    if (row &lt; BOARD_SIZE &amp;&amp; col &gt;= 0 &amp;&amp; col &lt; BOARD_SIZE) {
      queens.add(`${row},${col}`);
    }
  });

  // Create main container
  const container = document.createElement(&#x27;div&#x27;);
  container.className = &#x27;flex flex-col items-center gap-4&#x27;;
  if (mode === &#x27;interactive&#x27;) {
    container.classList.add(&#x27;interactive&#x27;);
  }
  root.appendChild(container);

  // Create board container with fixed aspect ratio
  const boardContainer = document.createElement(&#x27;div&#x27;);
  boardContainer.className = &#x27;relative&#x27;;
  boardContainer.style.width = &#x27;100%&#x27;;
  boardContainer.style.maxWidth = &#x27;400px&#x27;;
  boardContainer.style.aspectRatio = &#x27;1&#x27;;
  container.appendChild(boardContainer);

  // Create the board grid
  const board = document.createElement(&#x27;div&#x27;);
  board.className = &#x27;grid&#x27;;
  board.style.gridTemplateColumns = `repeat(${BOARD_SIZE}, 1fr)`;
  board.style.width = &#x27;100%&#x27;;
  board.style.height = &#x27;100%&#x27;;
  boardContainer.appendChild(board);

  // Color getter functions (called fresh each render for theme changes)
  const getColors = () =&gt; ({
    lightSquare: api.getColor(&#x27;sand-100&#x27;),
    darkSquare: api.getColor(&#x27;sand-300&#x27;),
    threatLightSquare: api.getColor(&#x27;error-200&#x27;),
    threatDarkSquare: api.getColor(&#x27;error-300&#x27;),
    queenColor: api.getColor(&#x27;frost-800&#x27;),
  });

  // Track cells for updates
  const cells = [];

  // Create cells
  for (let row = 0; row &lt; BOARD_SIZE; row++) {
    for (let col = 0; col &lt; BOARD_SIZE; col++) {
      const cell = document.createElement(&#x27;div&#x27;);
      const isLight = (row + col) % 2 === 0;
      const colors = getColors();
      cell.style.backgroundColor = isLight ? colors.lightSquare : colors.darkSquare;
      cell.style.position = &#x27;relative&#x27;;
      cell.style.display = &#x27;flex&#x27;;
      cell.style.alignItems = &#x27;center&#x27;;
      cell.style.justifyContent = &#x27;center&#x27;;
      cell.style.cursor = mode === &#x27;interactive&#x27; ? &#x27;pointer&#x27; : &#x27;default&#x27;;
      // Fix: Ensure consistent cell sizing with aspect ratio
      cell.style.aspectRatio = &#x27;1&#x27;;

      cell.dataset.row = row;
      cell.dataset.col = col;

      // Create queen container (always present, visibility toggled)
      const queenContainer = document.createElement(&#x27;div&#x27;);
      queenContainer.className = &#x27;queen-container&#x27;;
      queenContainer.style.width = &#x27;70%&#x27;;
      queenContainer.style.height = &#x27;70%&#x27;;
      queenContainer.style.position = &#x27;absolute&#x27;;
      queenContainer.style.display = &#x27;none&#x27;;
      cell.appendChild(queenContainer);

      if (mode === &#x27;interactive&#x27;) {
        cell.addEventListener(&#x27;click&#x27;, () =&gt; handleCellClick(row, col));
      }

      board.appendChild(cell);
      cells.push({ element: cell, row, col, isLight, queenContainer });
    }
  }

  // Status message for interactive mode
  let statusEl = null;
  if (mode === &#x27;interactive&#x27;) {
    statusEl = document.createElement(&#x27;div&#x27;);
    statusEl.className = &#x27;text-sm text-muted-foreground text-center&#x27;;
    container.appendChild(statusEl);

    // Reset button
    const resetBtn = api.ui.button({
      label: &#x27;Clear Board&#x27;,
      variant: &#x27;outlined&#x27;,
      color: &#x27;secondary&#x27;,
      size: &#x27;sm&#x27;,
      onClick: () =&gt; {
        queens.clear();
        render();
      }
    });
    container.appendChild(resetBtn);
  }

  function handleCellClick(row, col) {
    if (mode !== &#x27;interactive&#x27;) return;

    const pos = `${row},${col}`;
    // Toggle queen at this position
    if (queens.has(pos)) {
      queens.delete(pos);
    } else {
      queens.add(pos);
    }
    render();
  }

  function getThreatenedSquares() {
    const threatened = new Set();

    queens.forEach((pos) =&gt; {
      const [row, col] = pos.split(&#x27;,&#x27;).map(Number);

      // Mark entire row
      for (let c = 0; c &lt; BOARD_SIZE; c++) {
        if (c !== col) threatened.add(`${row},${c}`);
      }

      // Mark entire column
      for (let r = 0; r &lt; BOARD_SIZE; r++) {
        if (r !== row) threatened.add(`${r},${col}`);
      }

      // Mark diagonals
      for (let i = 1; i &lt; BOARD_SIZE; i++) {
        // Up-left
        if (row - i &gt;= 0 &amp;&amp; col - i &gt;= 0) threatened.add(`${row - i},${col - i}`);
        // Up-right
        if (row - i &gt;= 0 &amp;&amp; col + i &lt; BOARD_SIZE) threatened.add(`${row - i},${col + i}`);
        // Down-left
        if (row + i &lt; BOARD_SIZE &amp;&amp; col - i &gt;= 0) threatened.add(`${row + i},${col - i}`);
        // Down-right
        if (row + i &lt; BOARD_SIZE &amp;&amp; col + i &lt; BOARD_SIZE) threatened.add(`${row + i},${col + i}`);
      }
    });

    return threatened;
  }

  function getConflictingQueens() {
    const conflicts = new Set();
    const queenPositions = Array.from(queens).map((pos) =&gt; {
      const [row, col] = pos.split(&#x27;,&#x27;).map(Number);
      return { row, col };
    });

    for (let i = 0; i &lt; queenPositions.length; i++) {
      for (let j = i + 1; j &lt; queenPositions.length; j++) {
        const q1 = queenPositions[i];
        const q2 = queenPositions[j];

        // Same row (shouldn&#x27;t happen with our data structure, but check anyway)
        if (q1.row === q2.row) {
          conflicts.add(`${q1.row},${q1.col}`);
          conflicts.add(`${q2.row},${q2.col}`);
        }
        // Same column
        if (q1.col === q2.col) {
          conflicts.add(`${q1.row},${q1.col}`);
          conflicts.add(`${q2.row},${q2.col}`);
        }
        // Same diagonal
        if (Math.abs(q1.row - q2.row) === Math.abs(q1.col - q2.col)) {
          conflicts.add(`${q1.row},${q1.col}`);
          conflicts.add(`${q2.row},${q2.col}`);
        }
      }
    }

    return conflicts;
  }

  // Queen SVG path (reused for all queens)
  const queenSvgPath = &#x27;M46.3,20.37c0-2.05,1.66-3.7,3.7-3.7s3.7,1.66,3.7,3.7-1.66,3.7-3.7,3.7-3.7-1.66-3.7-3.7Zm8.62,9.97c3.67-1.81,6.2-5.6,6.2-9.97,0-6.14-4.97-11.11-11.11-11.11s-11.11,4.97-11.11,11.11c0,4.37,2.52,8.15,6.2,9.97l-8.02,21.4-12.74-8.49c2.13-2.02,3.46-4.89,3.46-8.06,0-6.14-4.97-11.11-11.11-11.11s-11.11,4.97-11.11,11.11c0,5.1,3.44,9.4,8.12,10.7l6.58,26.33-2.33,9.31c-1.17,4.68,2.37,9.2,7.19,9.2h49.77c4.82,0,8.36-4.53,7.19-9.2l-2.33-9.31,6.58-26.33c4.68-1.31,8.12-5.6,8.12-10.7,0-6.14-4.97-11.11-11.11-11.11s-11.11,4.97-11.11,11.11c0,3.17,1.33,6.03,3.46,8.06l-12.74,8.49-8.02-21.4Zm28.42,8.55h0c2.05,0,3.7-1.66,3.7-3.7s-1.66-3.7-3.7-3.7-3.7,1.66-3.7,3.7,1.66,3.7,3.7,3.7Zm-62.96-3.7c0,2.04-1.66,3.7-3.7,3.7h0c-2.05,0-3.7-1.66-3.7-3.7s1.66-3.7,3.7-3.7,3.7,1.66,3.7,3.7Zm4.74,48.15l1.85-7.41h46.07l1.85,7.41H25.11Zm52.3-32.35l-4.38,17.53H26.97l-4.38-17.53,14.25,9.5c.94,.63,2.12,.79,3.19,.44,1.08-.35,1.93-1.17,2.33-2.22l7.64-20.38,7.64,20.38c.4,1.06,1.26,1.88,2.33,2.22,1.08,.35,2.25,.18,3.19-.44l14.25-9.5Z&#x27;;

  function render() {
    const colors = getColors();
    const threatened = mode === &#x27;interactive&#x27; ? getThreatenedSquares() : new Set();
    const conflicts = mode === &#x27;interactive&#x27; ? getConflictingQueens() : new Set();
    const queenCount = queens.size;

    cells.forEach(({ element, row, col, isLight, queenContainer }) =&gt; {
      const baseColor = isLight ? colors.lightSquare : colors.darkSquare;
      const hasQueen = queens.has(`${row},${col}`);
      const isThreatened = threatened.has(`${row},${col}`);
      const isConflicting = conflicts.has(`${row},${col}`);

      // Set background (threat tinting respects light/dark checkerboard pattern)
      if (mode === &#x27;interactive&#x27; &amp;&amp; isThreatened &amp;&amp; !hasQueen) {
        element.style.backgroundColor = isLight ? colors.threatLightSquare : colors.threatDarkSquare;
      } else {
        element.style.backgroundColor = baseColor;
      }

      // Update queen visibility and color (don&#x27;t recreate DOM)
      if (hasQueen) {
        const fillColor = isConflicting ? colors.conflictColor : colors.queenColor;
        queenContainer.innerHTML = `&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; viewBox=&quot;0 0 100 100&quot; style=&quot;width:100%;height:100%;fill:${fillColor}&quot;&gt;&lt;path d=&quot;${queenSvgPath}&quot; fill-rule=&quot;evenodd&quot;/&gt;&lt;/svg&gt;`;
        queenContainer.style.display = &#x27;block&#x27;;
      } else {
        queenContainer.style.display = &#x27;none&#x27;;
      }
    });

    // Update status
    if (statusEl) {
      if (conflicts.size &gt; 0) {
        statusEl.textContent = `${queenCount} queen${queenCount !== 1 ? &#x27;s&#x27; : &#x27;&#x27;} placed  conflict detected!`;
      } else if (queenCount === BOARD_SIZE) {
        statusEl.textContent = &#x27;Congratulations! All 8 queens placed with no conflicts!&#x27;;
      } else {
        statusEl.textContent = `${queenCount} of ${BOARD_SIZE} queens placed`;
      }
    }
  }

  // Theme change handler
  api.onThemeChange(() =&gt; {
    // Just re-render, which will use the current theme colors
    render();
  });

  render();
}&lt;/script&gt;

  &lt;!-- Execution script --&gt;
  &lt;script&gt;
    // Execute mount() if defined, passing props
    if (typeof executeMountIfExists === &#x27;function&#x27;) {
      executeMountIfExists(window.__COMPONENT_PROPS__);
    }

    // Execute draw() if defined, passing props
    if (typeof executeDrawIfExists === &#x27;function&#x27;) {
      executeDrawIfExists(window.__COMPONENT_PROPS__);
    }
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;" style="width:100%;height:300px" title="Interactive content 0"></iframe></div>
<details class="content-block solution-block" data-type="solution"><summary class="solution-label">Solution</summary><div class="solution-content markdown-content prose max-w-none px-4 py-4 space-y-4"><p>Heres one possible solution:</p><div class="dynamic-block-container flex justify-center"><iframe class="border-0 block" sandbox="allow-scripts" srcDoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src &#x27;none&#x27;; script-src &#x27;unsafe-inline&#x27;; style-src &#x27;unsafe-inline&#x27;; img-src data:;&quot;&gt;
  &lt;style&gt;
    /* Prevent scrollbars in iframe while allowing content to expand */
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      height: auto;
      min-height: 0;
    }

    body {
      display: flex;
      flex-direction: column;
    }

    #root {
      /* flex: 1; */
      /* min-height: 0; */
    }

    /* Theme CSS variables (light/dark mode) */
    /* Theme overrides and customizations */

:root {
  --width-container: 1000px;
}

/* Text selection styling (applied to both main app and iframes) */
::selection {
  background-color: var(--color-selection);
  color: var(--color-selection-foreground);
}


:root {
  --radius: 0.5rem;

  /* Navy */
  --color-navy-50: oklch(0.97 0.015 220);
  --color-navy-100: oklch(0.94 0.020 220);
  --color-navy-200: oklch(0.88 0.030 220);
  --color-navy-300: oklch(0.80 0.045 220);
  --color-navy-400: oklch(0.68 0.060 220);
  --color-navy-500: oklch(0.55 0.075 220);
  --color-navy-600: oklch(0.45 0.080 220);
  --color-navy-700: oklch(0.35 0.075 220);
  --color-navy-800: oklch(0.27 0.065 220);
  --color-navy-900: oklch(0.20 0.050 220);
  --color-navy-950: oklch(0.15 0.040 220);

  /* Frost */
  --color-frost-50: oklch(0.98 0.010 250);
  --color-frost-100: oklch(0.95 0.015 250);
  --color-frost-200: oklch(0.90 0.025 250);
  --color-frost-300: oklch(0.83 0.035 250);
  --color-frost-400: oklch(0.74 0.045 250);
  --color-frost-500: oklch(0.65 0.055 250);
  --color-frost-600: oklch(0.55 0.060 250);
  --color-frost-700: oklch(0.45 0.055 250);
  --color-frost-800: oklch(0.35 0.045 250);
  --color-frost-900: oklch(0.27 0.035 250);
  --color-frost-950: oklch(0.20 0.025 250);

  /* Lagoon */
  --color-lagoon-50: oklch(0.97 0.015 185);
  --color-lagoon-100: oklch(0.94 0.025 185);
  --color-lagoon-200: oklch(0.88 0.040 185);
  --color-lagoon-300: oklch(0.80 0.055 185);
  --color-lagoon-400: oklch(0.70 0.070 185);
  --color-lagoon-500: oklch(0.60 0.080 185);
  --color-lagoon-600: oklch(0.50 0.085 185);
  --color-lagoon-700: oklch(0.40 0.080 185);
  --color-lagoon-800: oklch(0.32 0.070 185);
  --color-lagoon-900: oklch(0.25 0.055 185);
  --color-lagoon-950: oklch(0.18 0.040 185);

  /* Evergreen */
  --color-evergreen-50: oklch(0.97 0.020 155);
  --color-evergreen-100: oklch(0.93 0.035 155);
  --color-evergreen-200: oklch(0.87 0.055 155);
  --color-evergreen-300: oklch(0.79 0.070 155);
  --color-evergreen-400: oklch(0.69 0.085 155);
  --color-evergreen-500: oklch(0.59 0.095 155);
  --color-evergreen-600: oklch(0.49 0.100 155);
  --color-evergreen-700: oklch(0.41 0.095 155);
  --color-evergreen-800: oklch(0.33 0.080 155);
  --color-evergreen-900: oklch(0.27 0.065 155);
  --color-evergreen-950: oklch(0.21 0.050 155);

  /* Sand */
  --color-sand-50: oklch(0.98 0.012 95);
  --color-sand-100: oklch(0.95 0.020 95);
  --color-sand-200: oklch(0.90 0.035 95);
  --color-sand-300: oklch(0.84 0.050 95);
  --color-sand-400: oklch(0.76 0.065 95);
  --color-sand-500: oklch(0.68 0.080 95);
  --color-sand-600: oklch(0.60 0.090 95);
  --color-sand-700: oklch(0.50 0.085 95);
  --color-sand-800: oklch(0.40 0.070 95);
  --color-sand-900: oklch(0.32 0.055 95);
  --color-sand-950: oklch(0.26 0.040 95);

  /* Error */
  --color-error-50: oklch(0.97 0.020 25);
  --color-error-100: oklch(0.94 0.035 25);
  --color-error-200: oklch(0.88 0.055 25);
  --color-error-300: oklch(0.80 0.075 25);
  --color-error-400: oklch(0.70 0.095 25);
  --color-error-500: oklch(0.60 0.110 25);
  --color-error-600: oklch(0.50 0.115 25);
  --color-error-700: oklch(0.42 0.110 25);
  --color-error-800: oklch(0.34 0.095 25);
  --color-error-900: oklch(0.28 0.075 25);
  --color-error-950: oklch(0.22 0.055 25);

  /* Warning */
  --color-warning-50: oklch(0.97 0.020 75);
  --color-warning-100: oklch(0.94 0.035 75);
  --color-warning-200: oklch(0.89 0.060 75);
  --color-warning-300: oklch(0.82 0.085 75);
  --color-warning-400: oklch(0.73 0.105 75);
  --color-warning-500: oklch(0.65 0.120 75);
  --color-warning-600: oklch(0.56 0.125 75);
  --color-warning-700: oklch(0.47 0.115 75);
  --color-warning-800: oklch(0.38 0.095 75);
  --color-warning-900: oklch(0.30 0.070 75);
  --color-warning-950: oklch(0.24 0.050 75);

  /* Success */
  --color-success-50: oklch(0.97 0.020 165);
  --color-success-100: oklch(0.93 0.035 165);
  --color-success-200: oklch(0.87 0.055 165);
  --color-success-300: oklch(0.79 0.075 165);
  --color-success-400: oklch(0.69 0.095 165);
  --color-success-500: oklch(0.59 0.110 165);
  --color-success-600: oklch(0.49 0.115 165);
  --color-success-700: oklch(0.41 0.105 165);
  --color-success-800: oklch(0.33 0.090 165);
  --color-success-900: oklch(0.27 0.070 165);
  --color-success-950: oklch(0.21 0.050 165);

  /* ======================================================
     Tailwind-like Colour Palette
     Inspired by standard Tailwind CSS v4 colours for
     diagrams and illustrations. For website UI, use the
     mountain theme palette above or semantic colours
     instead.
     ====================================================== */

  /* Red */
  --color-red-50: oklch(0.971 0.008 17.38);
  --color-red-100: oklch(0.936 0.019 17.717);
  --color-red-200: oklch(0.885 0.037 18.334);
  --color-red-300: oklch(0.808 0.068 19.571);
  --color-red-400: oklch(0.704 0.115 22.216);
  --color-red-500: oklch(0.637 0.142 25.331);
  --color-red-600: oklch(0.577 0.147 27.325);
  --color-red-700: oklch(0.505 0.128 27.518);
  --color-red-800: oklch(0.444 0.106 26.899);
  --color-red-900: oklch(0.396 0.085 25.723);
  --color-red-950: oklch(0.258 0.055 26.042);
  --color-red: var(--color-red-400);

  /* Orange */
  --color-orange-50: oklch(0.980 0.010 73.684);
  --color-orange-100: oklch(0.954 0.023 75.164);
  --color-orange-200: oklch(0.901 0.046 70.697);
  --color-orange-300: oklch(0.837 0.077 66.29);
  --color-orange-400: oklch(0.750 0.110 55.934);
  --color-orange-500: oklch(0.705 0.128 47.604);
  --color-orange-600: oklch(0.646 0.133 41.116);
  --color-orange-700: oklch(0.553 0.117 38.402);
  --color-orange-800: oklch(0.470 0.094 37.304);
  --color-orange-900: oklch(0.408 0.074 38.172);
  --color-orange-950: oklch(0.266 0.047 36.259);
  --color-orange: var(--color-orange-400);

  /* Amber */
  --color-amber-50: oklch(0.987 0.013 95.277);
  --color-amber-100: oklch(0.962 0.035 95.617);
  --color-amber-200: oklch(0.924 0.072 95.746);
  --color-amber-300: oklch(0.879 0.101 91.605);
  --color-amber-400: oklch(0.828 0.113 84.429);
  --color-amber-500: oklch(0.769 0.113 70.08);
  --color-amber-600: oklch(0.666 0.107 58.318);
  --color-amber-700: oklch(0.555 0.098 48.998);
  --color-amber-800: oklch(0.473 0.082 46.201);
  --color-amber-900: oklch(0.414 0.067 45.904);
  --color-amber-950: oklch(0.279 0.046 45.635);
  --color-amber: var(--color-amber-400);

  /* Yellow */
  --color-yellow-50: oklch(0.987 0.016 102.212);
  --color-yellow-100: oklch(0.973 0.043 103.193);
  --color-yellow-200: oklch(0.945 0.077 101.54);
  --color-yellow-300: oklch(0.905 0.109 98.111);
  --color-yellow-400: oklch(0.852 0.119 91.936);
  --color-yellow-500: oklch(0.795 0.110 86.047);
  --color-yellow-600: oklch(0.681 0.097 75.834);
  --color-yellow-700: oklch(0.554 0.081 66.442);
  --color-yellow-800: oklch(0.476 0.068 61.907);
  --color-yellow-900: oklch(0.421 0.057 57.708);
  --color-yellow-950: oklch(0.286 0.040 53.813);
  --color-yellow: var(--color-yellow-400);

  /* Lime */
  --color-lime-50: oklch(0.986 0.019 120.757);
  --color-lime-100: oklch(0.967 0.040 122.328);
  --color-lime-200: oklch(0.938 0.076 124.321);
  --color-lime-300: oklch(0.897 0.118 126.665);
  --color-lime-400: oklch(0.841 0.143 128.85);
  --color-lime-500: oklch(0.768 0.140 130.85);
  --color-lime-600: oklch(0.648 0.120 131.684);
  --color-lime-700: oklch(0.532 0.094 131.589);
  --color-lime-800: oklch(0.453 0.074 130.933);
  --color-lime-900: oklch(0.405 0.061 131.063);
  --color-lime-950: oklch(0.274 0.043 132.109);
  --color-lime: var(--color-lime-400);

  /* Green */
  --color-green-50: oklch(0.982 0.011 155.826);
  --color-green-100: oklch(0.962 0.026 156.743);
  --color-green-200: oklch(0.925 0.050 155.995);
  --color-green-300: oklch(0.871 0.090 154.449);
  --color-green-400: oklch(0.792 0.125 151.711);
  --color-green-500: oklch(0.723 0.131 149.579);
  --color-green-600: oklch(0.627 0.116 149.214);
  --color-green-700: oklch(0.527 0.092 150.069);
  --color-green-800: oklch(0.448 0.071 151.328);
  --color-green-900: oklch(0.393 0.057 152.535);
  --color-green-950: oklch(0.266 0.039 152.934);
  --color-green: var(--color-green-400);

  /* Emerald */
  --color-emerald-50: oklch(0.979 0.013 166.113);
  --color-emerald-100: oklch(0.950 0.031 163.051);
  --color-emerald-200: oklch(0.905 0.056 164.15);
  --color-emerald-300: oklch(0.845 0.086 164.978);
  --color-emerald-400: oklch(0.765 0.106 163.223);
  --color-emerald-500: oklch(0.696 0.102 162.48);
  --color-emerald-600: oklch(0.596 0.087 163.225);
  --color-emerald-700: oklch(0.508 0.071 165.612);
  --color-emerald-800: oklch(0.432 0.057 166.913);
  --color-emerald-900: oklch(0.378 0.046 168.94);
  --color-emerald-950: oklch(0.262 0.031 172.552);
  --color-emerald: var(--color-emerald-400);

  /* Teal */
  --color-teal-50: oklch(0.984 0.008 180.72);
  --color-teal-100: oklch(0.953 0.031 180.801);
  --color-teal-200: oklch(0.910 0.058 180.426);
  --color-teal-300: oklch(0.855 0.083 181.071);
  --color-teal-400: oklch(0.777 0.091 181.912);
  --color-teal-500: oklch(0.704 0.084 182.503);
  --color-teal-600: oklch(0.600 0.071 184.704);
  --color-teal-700: oklch(0.511 0.058 186.391);
  --color-teal-800: oklch(0.437 0.047 188.216);
  --color-teal-900: oklch(0.386 0.038 188.416);
  --color-teal-950: oklch(0.277 0.028 192.524);
  --color-teal: var(--color-teal-400);

  /* Cyan */
  --color-cyan-50: oklch(0.984 0.011 200.873);
  --color-cyan-100: oklch(0.956 0.027 203.388);
  --color-cyan-200: oklch(0.917 0.048 205.041);
  --color-cyan-300: oklch(0.865 0.076 207.078);
  --color-cyan-400: oklch(0.789 0.092 211.53);
  --color-cyan-500: oklch(0.715 0.086 215.221);
  --color-cyan-600: oklch(0.609 0.076 221.723);
  --color-cyan-700: oklch(0.520 0.063 223.128);
  --color-cyan-800: oklch(0.450 0.051 224.283);
  --color-cyan-900: oklch(0.398 0.042 227.392);
  --color-cyan-950: oklch(0.302 0.034 229.695);
  --color-cyan: var(--color-cyan-400);

  /* Sky */
  --color-sky-50: oklch(0.977 0.008 236.62);
  --color-sky-100: oklch(0.951 0.016 236.824);
  --color-sky-200: oklch(0.901 0.035 230.902);
  --color-sky-300: oklch(0.828 0.067 230.318);
  --color-sky-400: oklch(0.746 0.096 232.661);
  --color-sky-500: oklch(0.685 0.101 237.323);
  --color-sky-600: oklch(0.588 0.095 241.966);
  --color-sky-700: oklch(0.500 0.080 242.749);
  --color-sky-800: oklch(0.443 0.066 240.79);
  --color-sky-900: oklch(0.391 0.054 240.876);
  --color-sky-950: oklch(0.293 0.040 243.157);
  --color-sky: var(--color-sky-400);

  /* Blue */
  --color-blue-50: oklch(0.970 0.008 254.604);
  --color-blue-100: oklch(0.932 0.019 255.585);
  --color-blue-200: oklch(0.882 0.035 254.128);
  --color-blue-300: oklch(0.809 0.063 251.813);
  --color-blue-400: oklch(0.707 0.099 254.624);
  --color-blue-500: oklch(0.623 0.128 259.815);
  --color-blue-600: oklch(0.546 0.147 262.881);
  --color-blue-700: oklch(0.488 0.146 264.376);
  --color-blue-800: oklch(0.424 0.119 265.638);
  --color-blue-900: oklch(0.379 0.088 265.522);
  --color-blue-950: oklch(0.282 0.055 267.935);
  --color-blue: var(--color-blue-400);

  /* Indigo */
  --color-indigo-50: oklch(0.962 0.011 272.314);
  --color-indigo-100: oklch(0.930 0.020 272.788);
  --color-indigo-200: oklch(0.870 0.039 274.039);
  --color-indigo-300: oklch(0.785 0.069 274.713);
  --color-indigo-400: oklch(0.673 0.109 276.935);
  --color-indigo-500: oklch(0.585 0.140 277.117);
  --color-indigo-600: oklch(0.511 0.157 276.966);
  --color-indigo-700: oklch(0.457 0.144 277.023);
  --color-indigo-800: oklch(0.398 0.117 277.366);
  --color-indigo-900: oklch(0.359 0.086 278.697);
  --color-indigo-950: oklch(0.257 0.054 281.288);
  --color-indigo: var(--color-indigo-400);

  /* Violet */
  --color-violet-50: oklch(0.969 0.010 293.756);
  --color-violet-100: oklch(0.943 0.017 294.588);
  --color-violet-200: oklch(0.894 0.034 293.283);
  --color-violet-300: oklch(0.811 0.067 293.571);
  --color-violet-400: oklch(0.702 0.110 293.541);
  --color-violet-500: oklch(0.606 0.150 292.717);
  --color-violet-600: oklch(0.541 0.169 293.009);
  --color-violet-700: oklch(0.491 0.162 292.581);
  --color-violet-800: oklch(0.432 0.139 292.759);
  --color-violet-900: oklch(0.380 0.113 293.745);
  --color-violet-950: oklch(0.283 0.085 291.089);
  --color-violet: var(--color-violet-400);

  /* Purple */
  --color-purple-50: oklch(0.977 0.008 308.299);
  --color-purple-100: oklch(0.946 0.020 307.174);
  --color-purple-200: oklch(0.902 0.038 306.703);
  --color-purple-300: oklch(0.827 0.071 306.383);
  --color-purple-400: oklch(0.714 0.122 305.504);
  --color-purple-500: oklch(0.627 0.159 303.9);
  --color-purple-600: oklch(0.558 0.173 302.321);
  --color-purple-700: oklch(0.496 0.159 301.924);
  --color-purple-800: oklch(0.438 0.131 303.724);
  --color-purple-900: oklch(0.381 0.106 304.987);
  --color-purple-950: oklch(0.291 0.089 302.717);
  --color-purple: var(--color-purple-400);

  /* Fuchsia */
  --color-fuchsia-50: oklch(0.977 0.010 320.058);
  --color-fuchsia-100: oklch(0.952 0.022 318.852);
  --color-fuchsia-200: oklch(0.903 0.046 319.62);
  --color-fuchsia-300: oklch(0.833 0.087 321.434);
  --color-fuchsia-400: oklch(0.740 0.143 322.16);
  --color-fuchsia-500: oklch(0.667 0.177 322.15);
  --color-fuchsia-600: oklch(0.591 0.176 322.896);
  --color-fuchsia-700: oklch(0.518 0.152 323.949);
  --color-fuchsia-800: oklch(0.452 0.127 324.591);
  --color-fuchsia-900: oklch(0.401 0.102 325.612);
  --color-fuchsia-950: oklch(0.293 0.082 325.661);
  --color-fuchsia: var(--color-fuchsia-400);

  /* Pink */
  --color-pink-50: oklch(0.971 0.008 343.198);
  --color-pink-100: oklch(0.948 0.017 342.258);
  --color-pink-200: oklch(0.899 0.037 343.231);
  --color-pink-300: oklch(0.823 0.072 346.018);
  --color-pink-400: oklch(0.718 0.121 349.761);
  --color-pink-500: oklch(0.656 0.145 354.308);
  --color-pink-600: oklch(0.592 0.149 0.584);
  --color-pink-700: oklch(0.525 0.134 3.958);
  --color-pink-800: oklch(0.459 0.112 3.815);
  --color-pink-900: oklch(0.408 0.092 2.432);
  --color-pink-950: oklch(0.284 0.065 3.907);
  --color-pink: var(--color-pink-400);

  /* Rose */
  --color-rose-50: oklch(0.969 0.009 12.422);
  --color-rose-100: oklch(0.941 0.018 12.58);
  --color-rose-200: oklch(0.892 0.035 10.001);
  --color-rose-300: oklch(0.810 0.070 11.638);
  --color-rose-400: oklch(0.712 0.116 13.428);
  --color-rose-500: oklch(0.645 0.148 16.439);
  --color-rose-600: oklch(0.586 0.152 17.585);
  --color-rose-700: oklch(0.514 0.133 16.935);
  --color-rose-800: oklch(0.455 0.113 13.697);
  --color-rose-900: oklch(0.410 0.095 10.272);
  --color-rose-950: oklch(0.271 0.063 12.094);
  --color-rose: var(--color-rose-400);

  /* Slate */
  --color-slate-50: oklch(0.984 0.002 247.858);
  --color-slate-100: oklch(0.968 0.004 247.896);
  --color-slate-200: oklch(0.929 0.008 255.508);
  --color-slate-300: oklch(0.869 0.013 252.894);
  --color-slate-400: oklch(0.704 0.024 256.788);
  --color-slate-500: oklch(0.554 0.028 257.417);
  --color-slate-600: oklch(0.446 0.026 257.281);
  --color-slate-700: oklch(0.372 0.026 257.287);
  --color-slate-800: oklch(0.279 0.025 260.031);
  --color-slate-900: oklch(0.208 0.025 265.755);
  --color-slate-950: oklch(0.129 0.025 264.695);
  --color-slate: var(--color-slate-400);

  /* Gray */
  --color-gray-50: oklch(0.985 0.001 247.839);
  --color-gray-100: oklch(0.967 0.002 264.542);
  --color-gray-200: oklch(0.928 0.004 264.531);
  --color-gray-300: oklch(0.872 0.006 258.338);
  --color-gray-400: oklch(0.707 0.013 261.325);
  --color-gray-500: oklch(0.551 0.016 264.364);
  --color-gray-600: oklch(0.446 0.018 256.802);
  --color-gray-700: oklch(0.373 0.020 259.733);
  --color-gray-800: oklch(0.278 0.020 256.848);
  --color-gray-900: oklch(0.210 0.020 264.665);
  --color-gray-950: oklch(0.130 0.017 261.692);
  --color-gray: var(--color-gray-400);

  /* Zinc */
  --color-zinc-50: oklch(0.985 0 0);
  --color-zinc-100: oklch(0.967 0.001 286.375);
  --color-zinc-200: oklch(0.920 0.002 286.32);
  --color-zinc-300: oklch(0.871 0.004 286.286);
  --color-zinc-400: oklch(0.705 0.009 286.067);
  --color-zinc-500: oklch(0.552 0.010 285.938);
  --color-zinc-600: oklch(0.442 0.010 285.786);
  --color-zinc-700: oklch(0.370 0.008 285.805);
  --color-zinc-800: oklch(0.274 0.004 286.033);
  --color-zinc-900: oklch(0.210 0.004 285.885);
  --color-zinc-950: oklch(0.141 0.003 285.823);
  --color-zinc: var(--color-zinc-400);

  /* Neutral */
  --color-neutral-50: oklch(0.985 0 0);
  --color-neutral-100: oklch(0.970 0 0);
  --color-neutral-200: oklch(0.922 0 0);
  --color-neutral-300: oklch(0.870 0 0);
  --color-neutral-400: oklch(0.708 0 0);
  --color-neutral-500: oklch(0.556 0 0);
  --color-neutral-600: oklch(0.439 0 0);
  --color-neutral-700: oklch(0.371 0 0);
  --color-neutral-800: oklch(0.269 0 0);
  --color-neutral-900: oklch(0.205 0 0);
  --color-neutral-950: oklch(0.145 0 0);
  --color-neutral: var(--color-neutral-400);

  /* Stone */
  --color-stone-50: oklch(0.985 0.001 106.423);
  --color-stone-100: oklch(0.970 0.001 106.424);
  --color-stone-200: oklch(0.923 0.002 48.717);
  --color-stone-300: oklch(0.869 0.003 56.366);
  --color-stone-400: oklch(0.709 0.006 56.259);
  --color-stone-500: oklch(0.553 0.008 58.071);
  --color-stone-600: oklch(0.444 0.007 73.639);
  --color-stone-700: oklch(0.374 0.006 67.558);
  --color-stone-800: oklch(0.268 0.004 34.298);
  --color-stone-900: oklch(0.216 0.004 56.043);
  --color-stone-950: oklch(0.147 0.002 49.25);
  --color-stone: var(--color-stone-400);

  /* Pure white */
  --color-white: oklch(1 0 0);
}

/* Semantic UI Theme Variables */

:root {
  /* Base colors */
  --color-background: var(--color-frost-50);
  --color-foreground: var(--color-navy-950);

  /* Card */
  --color-card: var(--color-white);
  --color-card-foreground: var(--color-navy-950);

  /* Popover */
  --color-popover: var(--color-white);
  --color-popover-foreground: var(--color-navy-950);

  /* Primary */
  --color-primary: var(--color-navy-600);
  --color-primary-foreground: var(--color-white);

  /* Secondary */
  --color-secondary: var(--color-evergreen-600);
  --color-secondary-foreground: var(--color-white);

  /* Muted */
  --color-muted: var(--color-frost-100);
  --color-muted-foreground: var(--color-navy-600);

  /* Accent */
  --color-accent: var(--color-sand-600);
  --color-accent-foreground: var(--color-white);

  /* Destructive */
  --color-destructive: var(--color-error-600);
  --color-destructive-foreground: var(--color-white);

  /* Success */
  --color-success: var(--color-success-600);
  --color-success-foreground: var(--color-white);

  /* Completed (for puzzle/expedition completion badges) */
  --color-completed: var(--color-evergreen-500);
  --color-completed-foreground: var(--color-white);

  /* Warning */
  --color-warning: var(--color-warning-600);
  --color-warning-foreground: var(--color-white);

  /* Info */
  --color-info: var(--color-navy-500);
  --color-info-foreground: var(--color-white);

  /* Border */
  --color-border: var(--color-frost-600);
  --color-input: var(--color-frost-300);
  --color-ring: var(--color-navy-400);

  /* Additional semantic colors for UI elements */
  --color-divider: var(--color-frost-200);
  --color-surface: var(--color-white);
  --color-text-secondary: var(--color-frost-600);
  --color-text-emphasis: var(--color-navy-600);
  --color-link: var(--color-navy-600);
  --color-link-hover: var(--color-navy-700);

  /* Select component */
  --color-select-hover: var(--color-navy-50);
  --color-select-hover-foreground: var(--color-navy-950);

  /* Checkbox */
  --color-checkbox-checked: var(--color-navy-600);
  --color-checkbox-checked-foreground: var(--color-white);

  /* Navigation */
  --color-nav-foreground: var(--color-navy-600);

  /* Text selection */
  --color-selection: var(--color-navy-200);
  --color-selection-foreground: var(--color-navy-900);

  /* Difficulty levels (puzzles) */
  --color-difficulty-easy: var(--color-success-100);
  --color-difficulty-easy-foreground: var(--color-success-800);
  --color-difficulty-medium: var(--color-navy-100);
  --color-difficulty-medium-foreground: var(--color-navy-800);
  --color-difficulty-hard: var(--color-warning-100);
  --color-difficulty-hard-foreground: var(--color-warning-800);
  --color-difficulty-expert: var(--color-error-100);
  --color-difficulty-expert-foreground: var(--color-error-800);
  --color-difficulty-open: var(--color-frost-200);
  --color-difficulty-open-foreground: var(--color-frost-900);

  /* Gradients */
  --gradient-recommendation-start: var(--color-evergreen-500);
  --gradient-recommendation-end: var(--color-navy-500);
  --gradient-progress-start: var(--color-lagoon-600);
  --gradient-progress-end: var(--color-lagoon-500);
}


.dark {
  /* Base colors */
  --color-background: oklch(0.10 0.035 220); /* darker than navy-950, almost pure black */
  --color-foreground: var(--color-frost-200);

  /* Card */
  --color-card: var(--color-navy-900);
  --color-card-foreground: var(--color-frost-200);

  /* Popover */
  --color-popover: var(--color-navy-900);
  --color-popover-foreground: var(--color-frost-200);

  /* Primary */
  --color-primary: var(--color-navy-400);
  --color-primary-foreground: var(--color-navy-950);

  /* Secondary */
  --color-secondary: var(--color-evergreen-400);
  --color-secondary-foreground: var(--color-navy-950);

  /* Muted */
  --color-muted: var(--color-navy-800);
  --color-muted-foreground: var(--color-frost-400);

  /* Accent */
  --color-accent: var(--color-sand-400);
  --color-accent-foreground: var(--color-navy-950);

  /* Destructive */
  --color-destructive: var(--color-error-400);
  --color-destructive-foreground: var(--color-navy-950);

  /* Success */
  --color-success: var(--color-success-400);
  --color-success-foreground: var(--color-navy-950);

  /* Completed (for puzzle/expedition completion badges) */
  --color-completed: var(--color-evergreen-300);
  --color-completed-foreground: var(--color-navy-950);

  /* Warning */
  --color-warning: var(--color-warning-400);
  --color-warning-foreground: var(--color-navy-950);

  /* Info */
  --color-info: var(--color-navy-300);
  --color-info-foreground: var(--color-navy-950);

  /* Border */
  --color-border: var(--color-navy-700);
  --color-input: var(--color-navy-600);
  --color-ring: var(--color-navy-400);

  /* Additional semantic colors for UI elements */
  --color-divider: var(--color-navy-700);
  --color-surface: var(--color-navy-900);
  --color-text-secondary: var(--color-frost-400);
  --color-text-emphasis: var(--color-frost-50);
  --color-link: var(--color-navy-400);
  --color-link-hover: var(--color-navy-300);

  /* Select component */
  --color-select-hover: var(--color-navy-800);
  --color-select-hover-foreground: var(--color-frost-200);

  /* Checkbox */
  --color-checkbox-checked: var(--color-navy-400);
  --color-checkbox-checked-foreground: var(--color-navy-950);

  /* Navigation */
  --color-nav-foreground: var(--color-frost-200);

  /* Text selection */
  --color-selection: var(--color-navy-700);
  --color-selection-foreground: var(--color-navy-100);

  /* Difficulty levels (puzzles) - dark mode */
  --color-difficulty-easy: var(--color-success-900);
  --color-difficulty-easy-foreground: var(--color-success-200);
  --color-difficulty-medium: var(--color-navy-900);
  --color-difficulty-medium-foreground: var(--color-navy-200);
  --color-difficulty-hard: var(--color-warning-900);
  --color-difficulty-hard-foreground: var(--color-warning-200);
  --color-difficulty-expert: var(--color-error-900);
  --color-difficulty-expert-foreground: var(--color-error-200);
  --color-difficulty-open: var(--color-frost-700);
  --color-difficulty-open-foreground: var(--color-frost-200);

  /* Gradients - dark mode */
  --gradient-recommendation-start: var(--color-evergreen-600);
  --gradient-recommendation-end: var(--color-navy-600);
  --gradient-progress-start: var(--color-lagoon-600);
  --gradient-progress-end: var(--color-lagoon-500);
}


    /* Base Reset */
*, ::before, ::after {
  box-sizing: border-box;
  border-width: 0;
  border-style: solid;
  border-color: var(--color-border);
}

html {
  line-height: 1.5;
  -webkit-text-size-adjust: 100%;
  tab-size: 4;
  font-family: &#x27;Poppins&#x27;, ui-sans-serif, system-ui, -apple-system, sans-serif;
  font-feature-settings: normal;
  font-variation-settings: normal;
}

body {
  margin: 0;
  line-height: inherit;
  color: var(--color-foreground);
  background-color: var(--color-background);
}

/* Reset margins on common elements */
h1, h2, h3, h4, h5, h6, p, blockquote, pre, ul, ol, dl, figure, hr {
  margin: 0;
}

/* Reset list styles */
ul, ol {
  padding: 0;
  list-style: none;
}

/* Reset buttons and inputs */
button, input, optgroup, select, textarea {
  font-family: inherit;
  font-feature-settings: inherit;
  font-variation-settings: inherit;
  font-size: 100%;
  font-weight: inherit;
  line-height: inherit;
  letter-spacing: inherit;
  color: inherit;
  margin: 0;
  padding: 0;
}

button, select {
  text-transform: none;
}

button, input:where([type=&#x27;button&#x27;]), input:where([type=&#x27;reset&#x27;]), input:where([type=&#x27;submit&#x27;]) {
  -webkit-appearance: button;
  background-color: transparent;
  background-image: none;
  cursor: pointer;
}

button:disabled, input:disabled {
  cursor: default;
}

/* Reset form elements */
input::placeholder, textarea::placeholder {
  opacity: 1;
  color: var(--color-muted-foreground);
}

/* Reset tables */
table {
  text-indent: 0;
  border-color: inherit;
  border-collapse: collapse;
}

/* Link styles */
a {
  color: var(--color-link);
  text-decoration: none;
}

a:hover {
  color: var(--color-link-hover);
  text-decoration: underline;
}

/* Reset headings */
h1, h2, h3, h4, h5, h6 {
  font-size: inherit;
  font-weight: inherit;
}

/* Reset images and media */
img, svg, video, canvas, audio, iframe, embed, object {
  display: block;
  vertical-align: middle;
}

img, video {
  max-width: 100%;
  height: auto;
}

/* Sandbox-specific UI styles */
.sandbox-select:invalid {
  color: var(--color-muted-foreground) !important;
}

.sandbox-select option {
  background-color: var(--color-popover) !important;
  color: var(--color-popover-foreground) !important;
  padding: 0.375rem 0.5rem !important;
}

.sandbox-select option:disabled {
  color: var(--color-muted-foreground) !important;
  background-color: var(--color-popover) !important;
}

.sandbox-select option:checked {
  background-color: var(--color-select-hover) !important;
  color: var(--color-select-hover-foreground) !important;
}

.sandbox-select option:hover,
.sandbox-select option:focus,
.sandbox-select option:active {
  background-color: var(--color-select-hover) !important;
  color: var(--color-select-hover-foreground) !important;
}

/* Peer helper class for Radix UI components */
.peer { }
    

    /* Custom CSS from author or inline component */
    .interactive .grid &gt; div:hover {
  opacity: 0.9;
}
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id=&quot;root&quot;&gt;&lt;/div&gt;

  &lt;!-- Runtime and globals script --&gt;
  &lt;script&gt;
    // Component props (available globally)
    window.__COMPONENT_PROPS__ = {&quot;mode&quot;:&quot;solution&quot;,&quot;queens&quot;:[5,3,6,0,7,1,4,2]};

    // Canvas accessibility label (for canvas mode blocks)
    window.__CANVAS_ARIA_LABEL__ = null;

    // Injected sandbox runtime
    (() =&gt; {
  function createCSSGenerator() {
    const generatedClasses = /* @__PURE__ */ new Set();
    const styleSheet = new CSSStyleSheet();
    document.adoptedStyleSheets = [...document.adoptedStyleSheets, styleSheet];
    const spacingScale = {
      &quot;0&quot;: &quot;0&quot;,
      &quot;px&quot;: &quot;1px&quot;,
      &quot;0.5&quot;: &quot;0.125rem&quot;,
      &quot;1&quot;: &quot;0.25rem&quot;,
      &quot;1.5&quot;: &quot;0.375rem&quot;,
      &quot;2&quot;: &quot;0.5rem&quot;,
      &quot;2.5&quot;: &quot;0.625rem&quot;,
      &quot;3&quot;: &quot;0.75rem&quot;,
      &quot;3.5&quot;: &quot;0.875rem&quot;,
      &quot;4&quot;: &quot;1rem&quot;,
      &quot;5&quot;: &quot;1.25rem&quot;,
      &quot;6&quot;: &quot;1.5rem&quot;,
      &quot;7&quot;: &quot;1.75rem&quot;,
      &quot;8&quot;: &quot;2rem&quot;,
      &quot;9&quot;: &quot;2.25rem&quot;,
      &quot;10&quot;: &quot;2.5rem&quot;,
      &quot;11&quot;: &quot;2.75rem&quot;,
      &quot;12&quot;: &quot;3rem&quot;,
      &quot;14&quot;: &quot;3.5rem&quot;,
      &quot;16&quot;: &quot;4rem&quot;,
      &quot;20&quot;: &quot;5rem&quot;,
      &quot;24&quot;: &quot;6rem&quot;,
      &quot;28&quot;: &quot;7rem&quot;,
      &quot;32&quot;: &quot;8rem&quot;,
      &quot;36&quot;: &quot;9rem&quot;,
      &quot;40&quot;: &quot;10rem&quot;,
      &quot;44&quot;: &quot;11rem&quot;,
      &quot;48&quot;: &quot;12rem&quot;,
      &quot;52&quot;: &quot;13rem&quot;,
      &quot;56&quot;: &quot;14rem&quot;,
      &quot;60&quot;: &quot;15rem&quot;,
      &quot;64&quot;: &quot;16rem&quot;,
      &quot;72&quot;: &quot;18rem&quot;,
      &quot;80&quot;: &quot;20rem&quot;,
      &quot;96&quot;: &quot;24rem&quot;
    };
    const sizeValues = {
      &quot;auto&quot;: &quot;auto&quot;,
      &quot;full&quot;: &quot;100%&quot;,
      &quot;screen&quot;: &quot;100vw&quot;,
      // for width
      &quot;min&quot;: &quot;min-content&quot;,
      &quot;max&quot;: &quot;max-content&quot;,
      &quot;fit&quot;: &quot;fit-content&quot;
    };
    const parseArbitraryValue = (value) =&gt; {
      const match = value.match(/^\[(.+)\]$/);
      return match ? match[1] : null;
    };
    const parseOpacity = (className) =&gt; {
      const match = className.match(/^(.+?)\/(\d+)$/);
      if (match) {
        return { base: match[1], opacity: (parseInt(match[2]) / 100).toString() };
      }
      return { base: className, opacity: null };
    };
    const findMatchingBracket = (str, startIndex) =&gt; {
      if (str[startIndex] !== &quot;[&quot;) {
        return -1;
      }
      let depth = 0;
      for (let i = startIndex; i &lt; str.length; i++) {
        const char = str[i];
        if (char === &quot;[&quot;) {
          depth++;
        } else if (char === &quot;]&quot;) {
          depth--;
          if (depth === 0) {
            return i;
          }
        }
      }
      return -1;
    };
    const parseArbitrarySelector = (className) =&gt; {
      if (!className.startsWith(&quot;[&quot;)) {
        return null;
      }
      const closingBracketIndex = findMatchingBracket(className, 0);
      if (closingBracketIndex === -1 || className[closingBracketIndex + 1] !== &quot;:&quot;) {
        return null;
      }
      const bracketContent = className.substring(1, closingBracketIndex);
      if (!bracketContent.startsWith(&quot;&amp;&quot;)) {
        return null;
      }
      const selector = bracketContent.substring(1);
      const baseClass = className.substring(closingBracketIndex + 2);
      return { selector, baseClass };
    };
    const generateRule = (className) =&gt; {
      const arbitrarySelector = parseArbitrarySelector(className);
      if (arbitrarySelector) {
        const { selector, baseClass } = arbitrarySelector;
        const baseRule = generateRule(baseClass);
        if (!baseRule) return null;
        const escapedClass = className.replace(/:/g, &quot;\\:&quot;).replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/&amp;/g, &quot;\\&amp;&quot;).replace(/&gt;/g, &quot;\\&gt;&quot;).replace(/\*/g, &quot;\\*&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\+/g, &quot;\\+&quot;).replace(/~/g, &quot;\\~&quot;).replace(/=/g, &quot;\\=&quot;).replace(/\./g, &quot;\\.&quot;);
        const selectorEnd = baseRule.indexOf(&quot;{&quot;);
        const declarations = baseRule.substring(selectorEnd);
        return `.${escapedClass}${selector} ${declarations}`;
      }
      const variantMatch = className.match(/^(hover|focus|active|disabled|dark):(.+)$/);
      if (variantMatch) {
        const [, variant, baseClass] = variantMatch;
        const baseRule = generateRule(baseClass);
        if (!baseRule) return null;
        const escapedClass = className.replace(/:/g, &quot;\\:&quot;).replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;);
        const selectorEnd = baseRule.indexOf(&quot;{&quot;);
        const baseSelector = baseRule.substring(0, selectorEnd).trim();
        const declarations = baseRule.substring(selectorEnd);
        if (variant === &quot;hover&quot;) {
          return `.${escapedClass}:hover ${declarations}`;
        } else if (variant === &quot;focus&quot;) {
          return `.${escapedClass}:focus ${declarations}`;
        } else if (variant === &quot;active&quot;) {
          return `.${escapedClass}:active ${declarations}`;
        } else if (variant === &quot;disabled&quot;) {
          return `.${escapedClass}:disabled ${declarations}`;
        } else if (variant === &quot;dark&quot;) {
          const pseudoMatch = baseSelector.match(/(:(?:hover|focus|active|disabled|focus-visible)(?:\([^)]*\))?)$/);
          const pseudoSelector = pseudoMatch ? pseudoMatch[1] : &quot;&quot;;
          return `.dark .${escapedClass}${pseudoSelector} ${declarations}`;
        }
      }
      const { base, opacity } = parseOpacity(className);
      const spacingMatch = base.match(/^(px|py|pt|pb|pl|pr|mx|my|mt|mb|ml|mr|gap-x|gap-y|space-x|space-y|min-w|min-h|max-w|max-h|inset-x|inset-y|p|m|gap|w|h|top|right|bottom|left|inset)-(.+)$/);
      if (spacingMatch) {
        const [, property, value] = spacingMatch;
        const spacing = spacingScale[value] || sizeValues[value] || parseArbitraryValue(value);
        if (!spacing) return null;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\./g, &quot;\\.&quot;);
        if (property === &quot;space-x&quot;) {
          return `.${escapedClass} &gt; :not(:last-child) { --tw-space-x-reverse: 0; margin-inline-start: calc(${spacing} * var(--tw-space-x-reverse)); margin-inline-end: calc(${spacing} * calc(1 - var(--tw-space-x-reverse))); }`;
        }
        if (property === &quot;space-y&quot;) {
          return `.${escapedClass} &gt; :not(:last-child) { --tw-space-y-reverse: 0; margin-block-start: calc(${spacing} * var(--tw-space-y-reverse)); margin-block-end: calc(${spacing} * calc(1 - var(--tw-space-y-reverse))); }`;
        }
        const propertyMap = {
          &quot;p&quot;: [&quot;padding&quot;],
          &quot;px&quot;: [&quot;padding-left&quot;, &quot;padding-right&quot;],
          &quot;py&quot;: [&quot;padding-top&quot;, &quot;padding-bottom&quot;],
          &quot;pt&quot;: [&quot;padding-top&quot;],
          &quot;pb&quot;: [&quot;padding-bottom&quot;],
          &quot;pl&quot;: [&quot;padding-left&quot;],
          &quot;pr&quot;: [&quot;padding-right&quot;],
          &quot;m&quot;: [&quot;margin&quot;],
          &quot;mx&quot;: [&quot;margin-left&quot;, &quot;margin-right&quot;],
          &quot;my&quot;: [&quot;margin-top&quot;, &quot;margin-bottom&quot;],
          &quot;mt&quot;: [&quot;margin-top&quot;],
          &quot;mb&quot;: [&quot;margin-bottom&quot;],
          &quot;ml&quot;: [&quot;margin-left&quot;],
          &quot;mr&quot;: [&quot;margin-right&quot;],
          &quot;gap&quot;: [&quot;gap&quot;],
          &quot;gap-x&quot;: [&quot;column-gap&quot;],
          &quot;gap-y&quot;: [&quot;row-gap&quot;],
          &quot;w&quot;: [&quot;width&quot;],
          &quot;h&quot;: [&quot;height&quot;],
          &quot;min-w&quot;: [&quot;min-width&quot;],
          &quot;min-h&quot;: [&quot;min-height&quot;],
          &quot;max-w&quot;: [&quot;max-width&quot;],
          &quot;max-h&quot;: [&quot;max-height&quot;],
          &quot;top&quot;: [&quot;top&quot;],
          &quot;right&quot;: [&quot;right&quot;],
          &quot;bottom&quot;: [&quot;bottom&quot;],
          &quot;left&quot;: [&quot;left&quot;],
          &quot;inset&quot;: [&quot;top&quot;, &quot;right&quot;, &quot;bottom&quot;, &quot;left&quot;],
          &quot;inset-x&quot;: [&quot;left&quot;, &quot;right&quot;],
          &quot;inset-y&quot;: [&quot;top&quot;, &quot;bottom&quot;]
        };
        const properties = propertyMap[property];
        if (!properties) return null;
        const declarations = properties.map((prop) =&gt; `${prop}: ${spacing}`).join(&quot;; &quot;);
        return `.${escapedClass} { ${declarations}; }`;
      }
      const textSizeMatch = base.match(/^text-(xs|sm|base|lg|xl|2xl|3xl|4xl|5xl|6xl|7xl|8xl|9xl)$/);
      if (textSizeMatch) {
        const [, size] = textSizeMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;);
        const sizeMap = {
          &quot;xs&quot;: { fontSize: &quot;0.75rem&quot;, lineHeight: &quot;1rem&quot; },
          &quot;sm&quot;: { fontSize: &quot;0.875rem&quot;, lineHeight: &quot;1.25rem&quot; },
          &quot;base&quot;: { fontSize: &quot;1rem&quot;, lineHeight: &quot;1.5rem&quot; },
          &quot;lg&quot;: { fontSize: &quot;1.125rem&quot;, lineHeight: &quot;1.75rem&quot; },
          &quot;xl&quot;: { fontSize: &quot;1.25rem&quot;, lineHeight: &quot;1.75rem&quot; },
          &quot;2xl&quot;: { fontSize: &quot;1.5rem&quot;, lineHeight: &quot;2rem&quot; },
          &quot;3xl&quot;: { fontSize: &quot;1.875rem&quot;, lineHeight: &quot;2.25rem&quot; },
          &quot;4xl&quot;: { fontSize: &quot;2.25rem&quot;, lineHeight: &quot;2.5rem&quot; },
          &quot;5xl&quot;: { fontSize: &quot;3rem&quot;, lineHeight: &quot;1&quot; },
          &quot;6xl&quot;: { fontSize: &quot;3.75rem&quot;, lineHeight: &quot;1&quot; },
          &quot;7xl&quot;: { fontSize: &quot;4.5rem&quot;, lineHeight: &quot;1&quot; },
          &quot;8xl&quot;: { fontSize: &quot;6rem&quot;, lineHeight: &quot;1&quot; },
          &quot;9xl&quot;: { fontSize: &quot;8rem&quot;, lineHeight: &quot;1&quot; }
        };
        const { fontSize, lineHeight } = sizeMap[size];
        return `.${escapedClass} { font-size: ${fontSize}; line-height: ${lineHeight}; }`;
      }
      const fontWeightMatch = base.match(/^font-(thin|extralight|light|normal|medium|semibold|bold|extrabold|black)$/);
      if (fontWeightMatch) {
        const [, weight] = fontWeightMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;);
        const weightMap = {
          &quot;thin&quot;: &quot;100&quot;,
          &quot;extralight&quot;: &quot;200&quot;,
          &quot;light&quot;: &quot;300&quot;,
          &quot;normal&quot;: &quot;400&quot;,
          &quot;medium&quot;: &quot;500&quot;,
          &quot;semibold&quot;: &quot;600&quot;,
          &quot;bold&quot;: &quot;700&quot;,
          &quot;extrabold&quot;: &quot;800&quot;,
          &quot;black&quot;: &quot;900&quot;
        };
        return `.${escapedClass} { font-weight: ${weightMap[weight]}; }`;
      }
      const fontFamilyMatch = base.match(/^font-(sans|serif|mono)$/);
      if (fontFamilyMatch) {
        const [, family] = fontFamilyMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;);
        const familyMap = {
          &quot;sans&quot;: &quot;&#x27;Poppins&#x27;, ui-sans-serif, system-ui, -apple-system, sans-serif&quot;,
          &quot;serif&quot;: &quot;ui-serif, Georgia, Cambria, &#x27;Times New Roman&#x27;, Times, serif&quot;,
          &quot;mono&quot;: &quot;&#x27;Space Mono&#x27;, ui-monospace, &#x27;Cascadia Code&#x27;, monospace&quot;
        };
        return `.${escapedClass} { font-family: ${familyMap[family]}; }`;
      }
      const lineHeightMatch = base.match(/^leading-(.+)$/);
      if (lineHeightMatch) {
        const [, value] = lineHeightMatch;
        const heightMap = {
          &quot;none&quot;: &quot;1&quot;,
          &quot;tight&quot;: &quot;1.25&quot;,
          &quot;snug&quot;: &quot;1.375&quot;,
          &quot;normal&quot;: &quot;1.5&quot;,
          &quot;relaxed&quot;: &quot;1.625&quot;,
          &quot;loose&quot;: &quot;2&quot;
        };
        const lineHeight = heightMap[value] || parseArbitraryValue(value);
        if (!lineHeight) return null;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\./g, &quot;\\.&quot;);
        return `.${escapedClass} { line-height: ${lineHeight}; }`;
      }
      const flexMatch = base.match(/^flex-(.+)$/);
      if (flexMatch) {
        const [, value] = flexMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
        const arbitraryValue = parseArbitraryValue(value);
        if (arbitraryValue) {
          const flexValue = arbitraryValue.replace(/_/g, &quot; &quot;);
          return `.${escapedClass} { flex: ${flexValue}; }`;
        }
        const customPropMatch = value.match(/^\((.+)\)$/);
        if (customPropMatch) {
          const customProp = customPropMatch[1];
          return `.${escapedClass} { flex: var(${customProp}); }`;
        }
        const fractionMatch = value.match(/^(\d+)\/(\d+)$/);
        if (fractionMatch) {
          const [, numerator, denominator] = fractionMatch;
          return `.${escapedClass} { flex: calc(${numerator} / ${denominator} * 100%); }`;
        }
        const numericMatch = value.match(/^(\d+)$/);
        if (numericMatch) {
          const number = numericMatch[1];
          return `.${escapedClass} { flex: ${number}; }`;
        }
      }
      const gridColsMatch = base.match(/^grid-cols-(.+)$/);
      if (gridColsMatch) {
        const [, value] = gridColsMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
        if (value === &quot;none&quot;) {
          return `.${escapedClass} { grid-template-columns: none; }`;
        }
        if (value === &quot;subgrid&quot;) {
          return `.${escapedClass} { grid-template-columns: subgrid; }`;
        }
        const arbitraryValue = parseArbitraryValue(value);
        if (arbitraryValue) {
          const colsValue = arbitraryValue.replace(/_/g, &quot; &quot;);
          return `.${escapedClass} { grid-template-columns: ${colsValue}; }`;
        }
        const customPropMatch = value.match(/^\((.+)\)$/);
        if (customPropMatch) {
          const customProp = customPropMatch[1];
          return `.${escapedClass} { grid-template-columns: var(${customProp}); }`;
        }
        const numericMatch = value.match(/^(\d+)$/);
        if (numericMatch) {
          const number = numericMatch[1];
          return `.${escapedClass} { grid-template-columns: repeat(${number}, minmax(0, 1fr)); }`;
        }
      }
      const gridRowsMatch = base.match(/^grid-rows-(.+)$/);
      if (gridRowsMatch) {
        const [, value] = gridRowsMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
        if (value === &quot;none&quot;) {
          return `.${escapedClass} { grid-template-rows: none; }`;
        }
        if (value === &quot;subgrid&quot;) {
          return `.${escapedClass} { grid-template-rows: subgrid; }`;
        }
        const arbitraryValue = parseArbitraryValue(value);
        if (arbitraryValue) {
          const rowsValue = arbitraryValue.replace(/_/g, &quot; &quot;);
          return `.${escapedClass} { grid-template-rows: ${rowsValue}; }`;
        }
        const customPropMatch = value.match(/^\((.+)\)$/);
        if (customPropMatch) {
          const customProp = customPropMatch[1];
          return `.${escapedClass} { grid-template-rows: var(${customProp}); }`;
        }
        const numericMatch = value.match(/^(\d+)$/);
        if (numericMatch) {
          const number = numericMatch[1];
          return `.${escapedClass} { grid-template-rows: repeat(${number}, minmax(0, 1fr)); }`;
        }
      }
      const colStartMatch = base.match(/^col-start-(.+)$/);
      if (colStartMatch) {
        const [, value] = colStartMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
        if (value === &quot;auto&quot;) {
          return `.${escapedClass} { grid-column-start: auto; }`;
        }
        const arbitraryValue = parseArbitraryValue(value);
        if (arbitraryValue) {
          return `.${escapedClass} { grid-column-start: ${arbitraryValue}; }`;
        }
        const customPropMatch = value.match(/^\((.+)\)$/);
        if (customPropMatch) {
          const customProp = customPropMatch[1];
          return `.${escapedClass} { grid-column-start: var(${customProp}); }`;
        }
        const numericMatch = value.match(/^(\d+)$/);
        if (numericMatch) {
          const number = numericMatch[1];
          return `.${escapedClass} { grid-column-start: ${number}; }`;
        }
      }
      const colEndMatch = base.match(/^col-end-(.+)$/);
      if (colEndMatch) {
        const [, value] = colEndMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
        if (value === &quot;auto&quot;) {
          return `.${escapedClass} { grid-column-end: auto; }`;
        }
        const arbitraryValue = parseArbitraryValue(value);
        if (arbitraryValue) {
          return `.${escapedClass} { grid-column-end: ${arbitraryValue}; }`;
        }
        const customPropMatch = value.match(/^\((.+)\)$/);
        if (customPropMatch) {
          const customProp = customPropMatch[1];
          return `.${escapedClass} { grid-column-end: var(${customProp}); }`;
        }
        const numericMatch = value.match(/^(\d+)$/);
        if (numericMatch) {
          const number = numericMatch[1];
          return `.${escapedClass} { grid-column-end: ${number}; }`;
        }
      }
      const colSpanMatch = base.match(/^col-span-(.+)$/);
      if (colSpanMatch) {
        const [, value] = colSpanMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
        if (value === &quot;full&quot;) {
          return `.${escapedClass} { grid-column: 1 / -1; }`;
        }
        const arbitraryValue = parseArbitraryValue(value);
        if (arbitraryValue) {
          return `.${escapedClass} { grid-column: ${arbitraryValue}; }`;
        }
        const customPropMatch = value.match(/^\((.+)\)$/);
        if (customPropMatch) {
          const customProp = customPropMatch[1];
          return `.${escapedClass} { grid-column: var(${customProp}); }`;
        }
        const numericMatch = value.match(/^(\d+)$/);
        if (numericMatch) {
          const number = numericMatch[1];
          return `.${escapedClass} { grid-column: span ${number} / span ${number}; }`;
        }
      }
      const colMatch = base.match(/^col-(.+)$/);
      if (colMatch) {
        const [, value] = colMatch;
        if (value.startsWith(&quot;start-&quot;) || value.startsWith(&quot;end-&quot;) || value.startsWith(&quot;span-&quot;)) {
        } else {
          const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
          if (value === &quot;auto&quot;) {
            return `.${escapedClass} { grid-column: auto; }`;
          }
          const arbitraryValue = parseArbitraryValue(value);
          if (arbitraryValue) {
            return `.${escapedClass} { grid-column: ${arbitraryValue}; }`;
          }
          const customPropMatch = value.match(/^\((.+)\)$/);
          if (customPropMatch) {
            const customProp = customPropMatch[1];
            return `.${escapedClass} { grid-column: var(${customProp}); }`;
          }
        }
      }
      const rowStartMatch = base.match(/^row-start-(.+)$/);
      if (rowStartMatch) {
        const [, value] = rowStartMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
        if (value === &quot;auto&quot;) {
          return `.${escapedClass} { grid-row-start: auto; }`;
        }
        const arbitraryValue = parseArbitraryValue(value);
        if (arbitraryValue) {
          return `.${escapedClass} { grid-row-start: ${arbitraryValue}; }`;
        }
        const customPropMatch = value.match(/^\((.+)\)$/);
        if (customPropMatch) {
          const customProp = customPropMatch[1];
          return `.${escapedClass} { grid-row-start: var(${customProp}); }`;
        }
        const numericMatch = value.match(/^(\d+)$/);
        if (numericMatch) {
          const number = numericMatch[1];
          return `.${escapedClass} { grid-row-start: ${number}; }`;
        }
      }
      const rowEndMatch = base.match(/^row-end-(.+)$/);
      if (rowEndMatch) {
        const [, value] = rowEndMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
        if (value === &quot;auto&quot;) {
          return `.${escapedClass} { grid-row-end: auto; }`;
        }
        const arbitraryValue = parseArbitraryValue(value);
        if (arbitraryValue) {
          return `.${escapedClass} { grid-row-end: ${arbitraryValue}; }`;
        }
        const customPropMatch = value.match(/^\((.+)\)$/);
        if (customPropMatch) {
          const customProp = customPropMatch[1];
          return `.${escapedClass} { grid-row-end: var(${customProp}); }`;
        }
        const numericMatch = value.match(/^(\d+)$/);
        if (numericMatch) {
          const number = numericMatch[1];
          return `.${escapedClass} { grid-row-end: ${number}; }`;
        }
      }
      const rowSpanMatch = base.match(/^row-span-(.+)$/);
      if (rowSpanMatch) {
        const [, value] = rowSpanMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
        if (value === &quot;full&quot;) {
          return `.${escapedClass} { grid-row: 1 / -1; }`;
        }
        const arbitraryValue = parseArbitraryValue(value);
        if (arbitraryValue) {
          return `.${escapedClass} { grid-row: ${arbitraryValue}; }`;
        }
        const customPropMatch = value.match(/^\((.+)\)$/);
        if (customPropMatch) {
          const customProp = customPropMatch[1];
          return `.${escapedClass} { grid-row: var(${customProp}); }`;
        }
        const numericMatch = value.match(/^(\d+)$/);
        if (numericMatch) {
          const number = numericMatch[1];
          return `.${escapedClass} { grid-row: span ${number} / span ${number}; }`;
        }
      }
      const rowMatch = base.match(/^row-(.+)$/);
      if (rowMatch) {
        const [, value] = rowMatch;
        if (value.startsWith(&quot;start-&quot;) || value.startsWith(&quot;end-&quot;) || value.startsWith(&quot;span-&quot;)) {
        } else {
          const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
          if (value === &quot;auto&quot;) {
            return `.${escapedClass} { grid-row: auto; }`;
          }
          const arbitraryValue = parseArbitraryValue(value);
          if (arbitraryValue) {
            return `.${escapedClass} { grid-row: ${arbitraryValue}; }`;
          }
          const customPropMatch = value.match(/^\((.+)\)$/);
          if (customPropMatch) {
            const customProp = customPropMatch[1];
            return `.${escapedClass} { grid-row: var(${customProp}); }`;
          }
        }
      }
      const autoColsMatch = base.match(/^auto-cols-(.+)$/);
      if (autoColsMatch) {
        const [, value] = autoColsMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
        if (value === &quot;auto&quot;) {
          return `.${escapedClass} { grid-auto-columns: auto; }`;
        }
        if (value === &quot;min&quot;) {
          return `.${escapedClass} { grid-auto-columns: min-content; }`;
        }
        if (value === &quot;max&quot;) {
          return `.${escapedClass} { grid-auto-columns: max-content; }`;
        }
        if (value === &quot;fr&quot;) {
          return `.${escapedClass} { grid-auto-columns: minmax(0, 1fr); }`;
        }
        const arbitraryValue = parseArbitraryValue(value);
        if (arbitraryValue) {
          return `.${escapedClass} { grid-auto-columns: ${arbitraryValue}; }`;
        }
        const customPropMatch = value.match(/^\((.+)\)$/);
        if (customPropMatch) {
          const customProp = customPropMatch[1];
          return `.${escapedClass} { grid-auto-columns: var(${customProp}); }`;
        }
      }
      const autoRowsMatch = base.match(/^auto-rows-(.+)$/);
      if (autoRowsMatch) {
        const [, value] = autoRowsMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\(/g, &quot;\\(&quot;).replace(/\)/g, &quot;\\)&quot;).replace(/\./g, &quot;\\.&quot;);
        if (value === &quot;auto&quot;) {
          return `.${escapedClass} { grid-auto-rows: auto; }`;
        }
        if (value === &quot;min&quot;) {
          return `.${escapedClass} { grid-auto-rows: min-content; }`;
        }
        if (value === &quot;max&quot;) {
          return `.${escapedClass} { grid-auto-rows: max-content; }`;
        }
        if (value === &quot;fr&quot;) {
          return `.${escapedClass} { grid-auto-rows: minmax(0, 1fr); }`;
        }
        const arbitraryValue = parseArbitraryValue(value);
        if (arbitraryValue) {
          return `.${escapedClass} { grid-auto-rows: ${arbitraryValue}; }`;
        }
        const customPropMatch = value.match(/^\((.+)\)$/);
        if (customPropMatch) {
          const customProp = customPropMatch[1];
          return `.${escapedClass} { grid-auto-rows: var(${customProp}); }`;
        }
      }
      const gridFlowMatch = base.match(/^grid-flow-(.+)$/);
      if (gridFlowMatch) {
        const [, value] = gridFlowMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;);
        if (value === &quot;row&quot;) {
          return `.${escapedClass} { grid-auto-flow: row; }`;
        }
        if (value === &quot;col&quot;) {
          return `.${escapedClass} { grid-auto-flow: column; }`;
        }
        if (value === &quot;dense&quot;) {
          return `.${escapedClass} { grid-auto-flow: dense; }`;
        }
        if (value === &quot;row-dense&quot;) {
          return `.${escapedClass} { grid-auto-flow: row dense; }`;
        }
        if (value === &quot;col-dense&quot;) {
          return `.${escapedClass} { grid-auto-flow: column dense; }`;
        }
      }
      const layoutUtilities = {
        // Display
        &quot;flex&quot;: &quot;display: flex&quot;,
        &quot;inline-flex&quot;: &quot;display: inline-flex&quot;,
        &quot;grid&quot;: &quot;display: grid&quot;,
        &quot;inline-grid&quot;: &quot;display: inline-grid&quot;,
        &quot;block&quot;: &quot;display: block&quot;,
        &quot;inline-block&quot;: &quot;display: inline-block&quot;,
        &quot;inline&quot;: &quot;display: inline&quot;,
        &quot;hidden&quot;: &quot;display: none&quot;,
        // Flex direction
        &quot;flex-row&quot;: &quot;flex-direction: row&quot;,
        &quot;flex-row-reverse&quot;: &quot;flex-direction: row-reverse&quot;,
        &quot;flex-col&quot;: &quot;flex-direction: column&quot;,
        &quot;flex-col-reverse&quot;: &quot;flex-direction: column-reverse&quot;,
        // Flex wrap
        &quot;flex-wrap&quot;: &quot;flex-wrap: wrap&quot;,
        &quot;flex-wrap-reverse&quot;: &quot;flex-wrap: wrap-reverse&quot;,
        &quot;flex-nowrap&quot;: &quot;flex-wrap: nowrap&quot;,
        // Flex shrink/grow
        &quot;shrink-0&quot;: &quot;flex-shrink: 0&quot;,
        &quot;shrink&quot;: &quot;flex-shrink: 1&quot;,
        &quot;grow-0&quot;: &quot;flex-grow: 0&quot;,
        &quot;grow&quot;: &quot;flex-grow: 1&quot;,
        // Flex sizing (common static values)
        &quot;flex-1&quot;: &quot;flex: 1 1 0%&quot;,
        &quot;flex-auto&quot;: &quot;flex: 1 1 auto&quot;,
        &quot;flex-initial&quot;: &quot;flex: 0 1 auto&quot;,
        &quot;flex-none&quot;: &quot;flex: none&quot;,
        // Flex/Grid alignment
        &quot;items-start&quot;: &quot;align-items: flex-start&quot;,
        &quot;items-end&quot;: &quot;align-items: flex-end&quot;,
        &quot;items-center&quot;: &quot;align-items: center&quot;,
        &quot;items-baseline&quot;: &quot;align-items: baseline&quot;,
        &quot;items-stretch&quot;: &quot;align-items: stretch&quot;,
        &quot;justify-start&quot;: &quot;justify-content: flex-start&quot;,
        &quot;justify-end&quot;: &quot;justify-content: flex-end&quot;,
        &quot;justify-center&quot;: &quot;justify-content: center&quot;,
        &quot;justify-between&quot;: &quot;justify-content: space-between&quot;,
        &quot;justify-around&quot;: &quot;justify-content: space-around&quot;,
        &quot;justify-evenly&quot;: &quot;justify-content: space-evenly&quot;,
        &quot;place-content-center&quot;: &quot;place-content: center&quot;,
        &quot;place-content-start&quot;: &quot;place-content: start&quot;,
        &quot;place-content-end&quot;: &quot;place-content: end&quot;,
        // Position
        &quot;relative&quot;: &quot;position: relative&quot;,
        &quot;absolute&quot;: &quot;position: absolute&quot;,
        &quot;fixed&quot;: &quot;position: fixed&quot;,
        &quot;sticky&quot;: &quot;position: sticky&quot;,
        // Overflow
        &quot;overflow-hidden&quot;: &quot;overflow: hidden&quot;,
        &quot;overflow-auto&quot;: &quot;overflow: auto&quot;,
        &quot;overflow-scroll&quot;: &quot;overflow: scroll&quot;,
        &quot;overflow-x-hidden&quot;: &quot;overflow-x: hidden&quot;,
        &quot;overflow-y-hidden&quot;: &quot;overflow-y: hidden&quot;,
        &quot;overflow-x-auto&quot;: &quot;overflow-x: auto&quot;,
        &quot;overflow-y-auto&quot;: &quot;overflow-y: auto&quot;,
        // Cursor
        &quot;cursor-pointer&quot;: &quot;cursor: pointer&quot;,
        &quot;cursor-default&quot;: &quot;cursor: default&quot;,
        &quot;cursor-not-allowed&quot;: &quot;cursor: not-allowed&quot;,
        // Text align
        &quot;text-left&quot;: &quot;text-align: left&quot;,
        &quot;text-center&quot;: &quot;text-align: center&quot;,
        &quot;text-right&quot;: &quot;text-align: right&quot;,
        // Text decoration
        &quot;underline&quot;: &quot;text-decoration: underline&quot;,
        &quot;overline&quot;: &quot;text-decoration: overline&quot;,
        &quot;line-through&quot;: &quot;text-decoration: line-through&quot;,
        &quot;no-underline&quot;: &quot;text-decoration: none&quot;,
        // Pointer events
        &quot;pointer-events-none&quot;: &quot;pointer-events: none&quot;,
        &quot;pointer-events-auto&quot;: &quot;pointer-events: auto&quot;,
        // Aspect ratio
        &quot;aspect-square&quot;: &quot;aspect-ratio: 1 / 1&quot;,
        &quot;aspect-video&quot;: &quot;aspect-ratio: 16 / 9&quot;,
        // Shadow
        &quot;shadow&quot;: &quot;box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)&quot;,
        &quot;shadow-sm&quot;: &quot;box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05)&quot;,
        &quot;shadow-md&quot;: &quot;box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)&quot;,
        &quot;shadow-lg&quot;: &quot;box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)&quot;,
        &quot;shadow-none&quot;: &quot;box-shadow: none&quot;,
        // Outline
        &quot;outline-none&quot;: &quot;outline: 2px solid transparent; outline-offset: 2px&quot;,
        // Opacity (common values)
        &quot;opacity-0&quot;: &quot;opacity: 0&quot;,
        &quot;opacity-50&quot;: &quot;opacity: 0.5&quot;,
        &quot;opacity-100&quot;: &quot;opacity: 1&quot;,
        // Appearance
        &quot;appearance-none&quot;: &quot;appearance: none; -webkit-appearance: none; -moz-appearance: none&quot;,
        // Border
        &quot;border&quot;: &quot;border-width: 1px; border-style: solid&quot;,
        // Peer
        &quot;peer&quot;: &quot;&quot;
      };
      if (layoutUtilities[className]) {
        return `.${className} { ${layoutUtilities[className]}; }`;
      }
      const opacityMatch = base.match(/^opacity-(\d+)$/);
      if (opacityMatch) {
        const [, value] = opacityMatch;
        const opacityValue = parseInt(value) / 100;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\./g, &quot;\\.&quot;);
        return `.${escapedClass} { opacity: ${opacityValue}; }`;
      }
      const colorMatch = base.match(/^(bg|text|border|ring|outline|fill)-(.+)$/);
      if (colorMatch) {
        const [, property, colorName] = colorMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\./g, &quot;\\.&quot;);
        const propertyMap = {
          &quot;bg&quot;: &quot;background-color&quot;,
          &quot;text&quot;: &quot;color&quot;,
          &quot;border&quot;: &quot;border-color&quot;,
          &quot;ring&quot;: &quot;--tw-ring-color&quot;,
          &quot;outline&quot;: &quot;outline-color&quot;,
          &quot;fill&quot;: &quot;fill&quot;
        };
        const cssProp = propertyMap[property];
        if (!cssProp) return null;
        if (opacity) {
          return `.${escapedClass} { ${cssProp}: oklch(from var(--color-${colorName}) l c h / ${opacity}); }`;
        } else {
          return `.${escapedClass} { ${cssProp}: var(--color-${colorName}); }`;
        }
      }
      if (className === &quot;transition-colors&quot;) {
        return `.transition-colors { transition-property: color, background-color, border-color, text-decoration-color, fill, stroke; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 150ms; }`;
      }
      if (className === &quot;transition&quot;) {
        return `.transition { transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 150ms; }`;
      }
      if (className === &quot;transition-opacity&quot;) {
        return `.transition-opacity { transition-property: opacity; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 150ms; }`;
      }
      const borderWidthMatch = base.match(/^border(-[trbl])?-(\d+)$/);
      if (borderWidthMatch) {
        const [, side, width] = borderWidthMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\./g, &quot;\\.&quot;);
        if (side) {
          const sideMap = {
            &quot;-t&quot;: &quot;border-top-width&quot;,
            &quot;-r&quot;: &quot;border-right-width&quot;,
            &quot;-b&quot;: &quot;border-bottom-width&quot;,
            &quot;-l&quot;: &quot;border-left-width&quot;
          };
          return `.${escapedClass} { ${sideMap[side]}: ${width}px; }`;
        } else {
          return `.${escapedClass} { border-width: ${width}px; }`;
        }
      }
      const roundedMatch = base.match(/^rounded(-[trblxy])?(-(.+))?$/);
      if (roundedMatch) {
        const [, corner, , value] = roundedMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\./g, &quot;\\.&quot;);
        const roundedValues = {
          &quot;none&quot;: &quot;0&quot;,
          &quot;sm&quot;: &quot;calc(var(--radius) - 4px)&quot;,
          &quot;md&quot;: &quot;calc(var(--radius) - 2px)&quot;,
          &quot;lg&quot;: &quot;var(--radius)&quot;,
          &quot;xl&quot;: &quot;0.75rem&quot;,
          &quot;2xl&quot;: &quot;1rem&quot;,
          &quot;3xl&quot;: &quot;1.5rem&quot;,
          &quot;full&quot;: &quot;9999px&quot;
        };
        const radiusValue = value ? roundedValues[value] || spacingScale[value] || parseArbitraryValue(value) : &quot;0.25rem&quot;;
        if (!radiusValue) return null;
        const cornerMap = {
          &quot;-t&quot;: [&quot;border-top-left-radius&quot;, &quot;border-top-right-radius&quot;],
          &quot;-r&quot;: [&quot;border-top-right-radius&quot;, &quot;border-bottom-right-radius&quot;],
          &quot;-b&quot;: [&quot;border-bottom-left-radius&quot;, &quot;border-bottom-right-radius&quot;],
          &quot;-l&quot;: [&quot;border-top-left-radius&quot;, &quot;border-bottom-left-radius&quot;],
          &quot;-tl&quot;: [&quot;border-top-left-radius&quot;],
          &quot;-tr&quot;: [&quot;border-top-right-radius&quot;],
          &quot;-bl&quot;: [&quot;border-bottom-left-radius&quot;],
          &quot;-br&quot;: [&quot;border-bottom-right-radius&quot;]
        };
        if (corner &amp;&amp; cornerMap[corner]) {
          const declarations = cornerMap[corner].map((prop) =&gt; `${prop}: ${radiusValue}`).join(&quot;; &quot;);
          return `.${escapedClass} { ${declarations}; }`;
        } else {
          return `.${escapedClass} { border-radius: ${radiusValue}; }`;
        }
      }
      const ringMatch = className.match(/^ring(-offset)?(-(\d+))?$/);
      if (ringMatch) {
        const [, offset, , width] = ringMatch;
        const escapedClass = className.replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\./g, &quot;\\.&quot;);
        if (offset) {
          const ringWidth = width || &quot;2&quot;;
          return `.${escapedClass} { --tw-ring-offset-width: ${ringWidth}px; }`;
        } else {
          const ringWidth = width || &quot;3&quot;;
          return `.${escapedClass} { --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color); --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(${ringWidth}px + var(--tw-ring-offset-width)) var(--tw-ring-color); box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000); }`;
        }
      }
      if (className === &quot;ring-offset-background&quot;) {
        return `.ring-offset-background { --tw-ring-offset-color: var(--color-background); }`;
      }
      const focusVisibleMatch = className.match(/^focus-visible:(.+)$/);
      if (focusVisibleMatch) {
        const [, baseClass] = focusVisibleMatch;
        const baseRule = generateRule(baseClass);
        if (!baseRule) return null;
        const escapedClass = className.replace(/:/g, &quot;\\:&quot;).replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/\./g, &quot;\\.&quot;);
        return `.${escapedClass}:focus-visible ${baseRule.substring(baseRule.indexOf(&quot;{&quot;))}`;
      }
      const dataMatch = className.match(/^data-\[(.+?)\]:(.+)$/);
      if (dataMatch) {
        const [, dataAttr, baseClass] = dataMatch;
        const baseRule = generateRule(baseClass);
        if (!baseRule) return null;
        const escapedClass = className.replace(/:/g, &quot;\\:&quot;).replace(/\//g, &quot;\\/&quot;).replace(/\[/g, &quot;\\[&quot;).replace(/]/g, &quot;\\]&quot;).replace(/=/g, &quot;\\=&quot;).replace(/\./g, &quot;\\.&quot;);
        return `.${escapedClass}[data-${dataAttr}] ${baseRule.substring(baseRule.indexOf(&quot;{&quot;))}`;
      }
      return null;
    };
    const css = (classNames) =&gt; {
      const classes = classNames.trim().split(/\s+/).filter(Boolean);
      for (const className of classes) {
        if (generatedClasses.has(className)) continue;
        const rule = generateRule(className);
        if (rule) {
          try {
            styleSheet.insertRule(rule, styleSheet.cssRules.length);
            generatedClasses.add(className);
          } catch (error) {
            console.error(`[DynamicBlock Error] Failed to generate CSS for class: ${className}`, error);
          }
        }
      }
      return classNames;
    };
    return css;
  }
  function createUIHelpers(cssGenerator) {
    const isSelector = (arg) =&gt; typeof arg === &quot;string&quot;;
    const applyClasses = (element, baseClasses, customClassName) =&gt; {
      const allClasses = customClassName ? `${baseClasses} ${customClassName}`.replace(/\s+/g, &quot; &quot;).trim() : baseClasses;
      cssGenerator(allClasses);
      if (element instanceof SVGElement) {
        element.setAttribute(&quot;class&quot;, allClasses);
      } else {
        element.className = allClasses;
      }
    };
    const applyStyles = (element, styles) =&gt; {
      if (!styles) return;
      Object.entries(styles).forEach(([property, value]) =&gt; {
        if (element instanceof HTMLElement) {
          element.style.setProperty(property, value);
        } else {
          const currentStyle = element.getAttribute(&quot;style&quot;) || &quot;&quot;;
          const newStyle = `${currentStyle}${currentStyle ? &quot;; &quot; : &quot;&quot;}${property}: ${value}`;
          element.setAttribute(&quot;style&quot;, newStyle);
        }
      });
    };
    return {
      /**
       * Button helper - creates or enhances button elements
       */
      button(selectorOrOptions, options) {
        const baseClasses = &quot;inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 cursor-pointer disabled:cursor-not-allowed disabled:pointer-events-none disabled:opacity-50&quot;;
        const getVariantClasses = (variant2 = &quot;contained&quot;, color2 = &quot;primary&quot;, size2 = &quot;md&quot;) =&gt; {
          const variantBaseMap = {
            contained: &quot;&quot;,
            outlined: &quot;border bg-background&quot;,
            text: &quot;&quot;,
            ghost: &quot;&quot;
          };
          const variantColorMap = {
            contained: `bg-${color2} text-${color2}-foreground hover:bg-${color2}/80`,
            outlined: `border-${color2} text-${color2} hover:bg-${color2}/20`,
            text: `text-${color2} hover:bg-${color2}/20`,
            ghost: `text-${color2} hover:bg-${color2} hover:text-background`
          };
          const sizeMap = {
            sm: &quot;h-9 rounded-md px-3 text-sm&quot;,
            md: &quot;h-10 px-4 py-2&quot;,
            lg: &quot;h-12 rounded-md px-6 text-base&quot;,
            xl: &quot;h-14 rounded-md px-8 text-lg&quot;,
            icon: &quot;h-10 w-10&quot;
          };
          const variantBase = variantBaseMap[variant2] || variantBaseMap.contained;
          const variantColor = variantColorMap[variant2] || variantColorMap.contained;
          const sizeClasses = sizeMap[size2] || sizeMap.md;
          return `${baseClasses} ${variantBase} ${variantColor} ${sizeClasses}`.replace(/\s+/g, &quot; &quot;).trim();
        };
        if (isSelector(selectorOrOptions)) {
          const elements = document.querySelectorAll(selectorOrOptions);
          elements.forEach((btn2) =&gt; {
            const { variant: variant2, color: color2, size: size2, disabled: disabled2, onClick: onClick2, className: className2, style: style2 } = options || {};
            applyClasses(btn2, getVariantClasses(variant2, color2, size2), className2);
            applyStyles(btn2, style2);
            if (disabled2 !== void 0) btn2.disabled = disabled2;
            if (onClick2) btn2.addEventListener(&quot;click&quot;, onClick2);
          });
          return elements;
        }
        const { label, variant, color, size, disabled, onClick, className, style } = selectorOrOptions;
        const btn = document.createElement(&quot;button&quot;);
        btn.type = &quot;button&quot;;
        if (label) btn.textContent = label;
        applyClasses(btn, getVariantClasses(variant, color, size), className);
        applyStyles(btn, style);
        if (disabled) btn.disabled = disabled;
        if (onClick) btn.addEventListener(&quot;click&quot;, onClick);
        return btn;
      },
      /**
       * Input helper - creates or enhances input elements
       */
      input(selectorOrOptions, options) {
        const baseClasses = &quot;flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50&quot;;
        if (isSelector(selectorOrOptions)) {
          const elements = document.querySelectorAll(selectorOrOptions);
          elements.forEach((input2) =&gt; {
            const { type: type2, placeholder: placeholder2, disabled: disabled2, value: value2, onInput: onInput2, onChange: onChange2, className: className2, style: style2 } = options || {};
            applyClasses(input2, baseClasses, className2);
            applyStyles(input2, style2);
            if (type2) input2.type = type2;
            if (placeholder2) input2.placeholder = placeholder2;
            if (disabled2 !== void 0) input2.disabled = disabled2;
            if (value2 !== void 0) input2.value = value2;
            if (onInput2) input2.addEventListener(&quot;input&quot;, onInput2);
            if (onChange2) input2.addEventListener(&quot;change&quot;, onChange2);
          });
          return elements;
        }
        const { type, placeholder, disabled, value, onInput, onChange, className, style } = selectorOrOptions;
        const input = document.createElement(&quot;input&quot;);
        input.type = type || &quot;text&quot;;
        applyClasses(input, baseClasses, className);
        applyStyles(input, style);
        if (placeholder) input.placeholder = placeholder;
        if (disabled) input.disabled = disabled;
        if (value !== void 0) input.value = value;
        if (onInput) input.addEventListener(&quot;input&quot;, onInput);
        if (onChange) input.addEventListener(&quot;change&quot;, onChange);
        return input;
      },
      /**
       * Textarea helper - creates or enhances textarea elements
       */
      textarea(selectorOrOptions, options) {
        const baseClasses = &quot;flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50&quot;;
        if (isSelector(selectorOrOptions)) {
          const elements = document.querySelectorAll(selectorOrOptions);
          elements.forEach((textarea2) =&gt; {
            const { placeholder: placeholder2, rows: rows2, disabled: disabled2, value: value2, onInput: onInput2, onChange: onChange2, className: className2, style: style2 } = options || {};
            applyClasses(textarea2, baseClasses, className2);
            applyStyles(textarea2, style2);
            if (placeholder2) textarea2.placeholder = placeholder2;
            if (rows2) textarea2.rows = rows2;
            if (disabled2 !== void 0) textarea2.disabled = disabled2;
            if (value2 !== void 0) textarea2.value = value2;
            if (onInput2) textarea2.addEventListener(&quot;input&quot;, onInput2);
            if (onChange2) textarea2.addEventListener(&quot;change&quot;, onChange2);
          });
          return elements;
        }
        const { placeholder, rows, disabled, value, onInput, onChange, className, style } = selectorOrOptions;
        const textarea = document.createElement(&quot;textarea&quot;);
        applyClasses(textarea, baseClasses, className);
        applyStyles(textarea, style);
        if (placeholder) textarea.placeholder = placeholder;
        if (rows) textarea.rows = rows;
        if (disabled) textarea.disabled = disabled;
        if (value !== void 0) textarea.value = value;
        if (onInput) textarea.addEventListener(&quot;input&quot;, onInput);
        if (onChange) textarea.addEventListener(&quot;change&quot;, onChange);
        return textarea;
      },
      /**
       * Select helper - creates or enhances select elements
       * Uses native HTML select with chevron icon styling to match shadcn
       */
      select(selectorOrOptions, options) {
        const createSelectWrapper = (items2, value2, placeholder2, disabled2, onChange2, className2, style2) =&gt; {
          const wrapper = document.createElement(&quot;div&quot;);
          applyClasses(wrapper, &quot;relative w-full&quot;, className2);
          applyStyles(wrapper, style2);
          const select = document.createElement(&quot;select&quot;);
          const selectClasses = &quot;sandbox-select flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 appearance-none cursor-pointer&quot;;
          applyClasses(select, selectClasses);
          if (placeholder2) {
            const placeholderOption = document.createElement(&quot;option&quot;);
            placeholderOption.value = &quot;&quot;;
            placeholderOption.textContent = placeholder2;
            placeholderOption.disabled = true;
            placeholderOption.selected = true;
            select.appendChild(placeholderOption);
            select.required = true;
          }
          if (items2) {
            items2.forEach((item) =&gt; {
              const option = document.createElement(&quot;option&quot;);
              option.value = item.value;
              option.textContent = item.label;
              select.appendChild(option);
            });
          }
          if (value2) {
            select.value = value2;
            if (placeholder2) select.required = false;
          }
          if (disabled2) select.disabled = disabled2;
          if (onChange2) {
            select.addEventListener(&quot;change&quot;, (e) =&gt; {
              const newValue = e.target.value;
              if (placeholder2) {
                select.required = newValue === &quot;&quot;;
              }
              onChange2(newValue);
            });
          }
          const chevron = document.createElementNS(&quot;http://www.w3.org/2000/svg&quot;, &quot;svg&quot;);
          applyClasses(chevron, &quot;h-4 w-4 opacity-50 pointer-events-none&quot;);
          chevron.style.position = &quot;absolute&quot;;
          chevron.style.right = &quot;0.75rem&quot;;
          chevron.style.top = &quot;50%&quot;;
          chevron.style.transform = &quot;translateY(-50%)&quot;;
          chevron.setAttribute(&quot;xmlns&quot;, &quot;http://www.w3.org/2000/svg&quot;);
          chevron.setAttribute(&quot;width&quot;, &quot;24&quot;);
          chevron.setAttribute(&quot;height&quot;, &quot;24&quot;);
          chevron.setAttribute(&quot;viewBox&quot;, &quot;0 0 24 24&quot;);
          chevron.setAttribute(&quot;fill&quot;, &quot;none&quot;);
          chevron.setAttribute(&quot;stroke&quot;, &quot;currentColor&quot;);
          chevron.setAttribute(&quot;stroke-width&quot;, &quot;2&quot;);
          chevron.setAttribute(&quot;stroke-linecap&quot;, &quot;round&quot;);
          chevron.setAttribute(&quot;stroke-linejoin&quot;, &quot;round&quot;);
          const polyline = document.createElementNS(&quot;http://www.w3.org/2000/svg&quot;, &quot;polyline&quot;);
          polyline.setAttribute(&quot;points&quot;, &quot;6 9 12 15 18 9&quot;);
          chevron.appendChild(polyline);
          select.style.paddingRight = &quot;2.5rem&quot;;
          wrapper.appendChild(select);
          wrapper.appendChild(chevron);
          return wrapper;
        };
        if (isSelector(selectorOrOptions)) {
          const elements = document.querySelectorAll(selectorOrOptions);
          const wrappers = [];
          elements.forEach((select) =&gt; {
            const { items: items2, value: value2, placeholder: placeholder2, disabled: disabled2, onChange: onChange2, className: className2, style: style2 } = options || {};
            const wrapper = createSelectWrapper(items2, value2, placeholder2, disabled2, onChange2, className2, style2);
            select.replaceWith(wrapper);
            wrappers.push(wrapper);
          });
          return document.querySelectorAll(&quot;.relative:has(select)&quot;);
        }
        const { items, value, placeholder, disabled, onChange, className, style } = selectorOrOptions;
        return createSelectWrapper(items, value, placeholder, disabled, onChange, className, style);
      },
      /**
       * Checkbox helper - creates checkbox elements matching shadcn Radix UI styling
       * Uses custom div-based checkbox with check icon for visual parity
       */
      checkbox(selectorOrOptions, options) {
        const createCheckbox = (checked2, label2, disabled2, onChange2, className2, style2) =&gt; {
          const wrapper = document.createElement(&quot;div&quot;);
          applyClasses(wrapper, &quot;flex items-center gap-2&quot;, className2);
          applyStyles(wrapper, style2);
          const checkboxContainer = document.createElement(&quot;button&quot;);
          checkboxContainer.type = &quot;button&quot;;
          checkboxContainer.role = &quot;checkbox&quot;;
          checkboxContainer.setAttribute(&quot;aria-checked&quot;, checked2 ? &quot;true&quot; : &quot;false&quot;);
          const checkboxClasses = &quot;grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer&quot;;
          applyClasses(checkboxContainer, checkboxClasses);
          const updateCheckboxStyles = (isChecked2) =&gt; {
            if (isChecked2) {
              checkboxContainer.style.backgroundColor = &quot;var(--color-checkbox-checked)&quot;;
              checkboxContainer.style.color = &quot;var(--color-checkbox-checked-foreground)&quot;;
            } else {
              checkboxContainer.style.backgroundColor = &quot;&quot;;
              checkboxContainer.style.color = &quot;&quot;;
            }
          };
          updateCheckboxStyles(!!checked2);
          if (disabled2) {
            checkboxContainer.disabled = true;
          }
          const checkIcon = document.createElementNS(&quot;http://www.w3.org/2000/svg&quot;, &quot;svg&quot;);
          applyClasses(checkIcon, &quot;h-4 w-4&quot;);
          checkIcon.setAttribute(&quot;xmlns&quot;, &quot;http://www.w3.org/2000/svg&quot;);
          checkIcon.setAttribute(&quot;width&quot;, &quot;24&quot;);
          checkIcon.setAttribute(&quot;height&quot;, &quot;24&quot;);
          checkIcon.setAttribute(&quot;viewBox&quot;, &quot;0 0 24 24&quot;);
          checkIcon.setAttribute(&quot;fill&quot;, &quot;none&quot;);
          checkIcon.setAttribute(&quot;stroke&quot;, &quot;currentColor&quot;);
          checkIcon.setAttribute(&quot;stroke-width&quot;, &quot;2&quot;);
          checkIcon.setAttribute(&quot;stroke-linecap&quot;, &quot;round&quot;);
          checkIcon.setAttribute(&quot;stroke-linejoin&quot;, &quot;round&quot;);
          const polyline = document.createElementNS(&quot;http://www.w3.org/2000/svg&quot;, &quot;polyline&quot;);
          polyline.setAttribute(&quot;points&quot;, &quot;20 6 9 17 4 12&quot;);
          checkIcon.appendChild(polyline);
          if (checked2) {
            checkboxContainer.appendChild(checkIcon);
          }
          let isChecked = !!checked2;
          checkboxContainer.addEventListener(&quot;click&quot;, (e) =&gt; {
            if (disabled2) return;
            e.preventDefault();
            isChecked = !isChecked;
            checkboxContainer.setAttribute(&quot;aria-checked&quot;, isChecked ? &quot;true&quot; : &quot;false&quot;);
            updateCheckboxStyles(isChecked);
            if (isChecked) {
              checkboxContainer.appendChild(checkIcon);
            } else {
              if (checkIcon.parentNode === checkboxContainer) {
                checkboxContainer.removeChild(checkIcon);
              }
            }
            if (onChange2) onChange2(isChecked);
          });
          wrapper.appendChild(checkboxContainer);
          if (label2) {
            const labelEl = document.createElement(&quot;label&quot;);
            applyClasses(labelEl, &quot;text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer&quot;);
            labelEl.textContent = label2;
            labelEl.addEventListener(&quot;click&quot;, () =&gt; {
              if (!disabled2) checkboxContainer.click();
            });
            wrapper.appendChild(labelEl);
          }
          return wrapper;
        };
        if (isSelector(selectorOrOptions)) {
          const elements = document.querySelectorAll(selectorOrOptions);
          elements.forEach((el) =&gt; {
            const { checked: checked2, label: label2, disabled: disabled2, onChange: onChange2, className: className2, style: style2 } = options || {};
            const checkboxWrapper = createCheckbox(checked2, label2, disabled2, onChange2, className2, style2);
            el.replaceWith(checkboxWrapper);
          });
          return document.querySelectorAll(selectorOrOptions);
        }
        const { checked, label, disabled, onChange, className, style } = selectorOrOptions;
        return createCheckbox(checked, label, disabled, onChange, className, style);
      },
      /**
       * Radio helper - creates radio button elements matching shadcn Radix UI styling
       * Uses custom button-based radio with circle fill indicator for visual parity
       */
      radio(selectorOrOptions, options) {
        const createRadio = (name2, value2, checked2, label2, disabled2, onChange2, className2, style2) =&gt; {
          const wrapper = document.createElement(&quot;div&quot;);
          applyClasses(wrapper, &quot;flex items-center gap-2&quot;, className2);
          applyStyles(wrapper, style2);
          const radioContainer = document.createElement(&quot;button&quot;);
          radioContainer.type = &quot;button&quot;;
          radioContainer.role = &quot;radio&quot;;
          radioContainer.setAttribute(&quot;aria-checked&quot;, checked2 ? &quot;true&quot; : &quot;false&quot;);
          radioContainer.setAttribute(&quot;data-name&quot;, name2);
          radioContainer.setAttribute(&quot;data-value&quot;, value2);
          const radioClasses = &quot;aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer flex items-center justify-center&quot;;
          applyClasses(radioContainer, radioClasses);
          if (disabled2) {
            radioContainer.disabled = true;
          }
          const circleIndicator = document.createElementNS(&quot;http://www.w3.org/2000/svg&quot;, &quot;svg&quot;);
          circleIndicator.setAttribute(&quot;xmlns&quot;, &quot;http://www.w3.org/2000/svg&quot;);
          circleIndicator.setAttribute(&quot;width&quot;, &quot;24&quot;);
          circleIndicator.setAttribute(&quot;height&quot;, &quot;24&quot;);
          circleIndicator.setAttribute(&quot;viewBox&quot;, &quot;0 0 24 24&quot;);
          circleIndicator.setAttribute(&quot;fill&quot;, &quot;none&quot;);
          circleIndicator.setAttribute(&quot;stroke&quot;, &quot;currentColor&quot;);
          circleIndicator.setAttribute(&quot;stroke-width&quot;, &quot;2&quot;);
          circleIndicator.setAttribute(&quot;stroke-linecap&quot;, &quot;round&quot;);
          circleIndicator.setAttribute(&quot;stroke-linejoin&quot;, &quot;round&quot;);
          applyClasses(circleIndicator, &quot;h-3.5 w-3.5 fill-primary&quot;);
          const circle = document.createElementNS(&quot;http://www.w3.org/2000/svg&quot;, &quot;circle&quot;);
          circle.setAttribute(&quot;cx&quot;, &quot;12&quot;);
          circle.setAttribute(&quot;cy&quot;, &quot;12&quot;);
          circle.setAttribute(&quot;r&quot;, &quot;10&quot;);
          circleIndicator.appendChild(circle);
          if (checked2) {
            radioContainer.appendChild(circleIndicator);
          }
          radioContainer.addEventListener(&quot;click&quot;, (e) =&gt; {
            if (disabled2) return;
            e.preventDefault();
            const allRadiosInGroup = document.querySelectorAll(`[role=&quot;radio&quot;][data-name=&quot;${name2}&quot;]`);
            allRadiosInGroup.forEach((radio) =&gt; {
              radio.setAttribute(&quot;aria-checked&quot;, &quot;false&quot;);
              while (radio.firstChild) {
                radio.removeChild(radio.firstChild);
              }
            });
            radioContainer.setAttribute(&quot;aria-checked&quot;, &quot;true&quot;);
            radioContainer.appendChild(circleIndicator);
            if (onChange2) onChange2(value2);
          });
          wrapper.appendChild(radioContainer);
          if (label2) {
            const labelEl = document.createElement(&quot;label&quot;);
            applyClasses(labelEl, &quot;text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer&quot;);
            labelEl.textContent = label2;
            labelEl.addEventListener(&quot;click&quot;, () =&gt; {
              if (!disabled2) radioContainer.click();
            });
            wrapper.appendChild(labelEl);
          }
          return wrapper;
        };
        if (isSelector(selectorOrOptions)) {
          const elements = document.querySelectorAll(selectorOrOptions);
          elements.forEach((el) =&gt; {
            const { name: name2, value: value2, checked: checked2, label: label2, disabled: disabled2, onChange: onChange2, className: className2, style: style2 } = options || {};
            const radioWrapper = createRadio(name2, value2, checked2, label2, disabled2, onChange2, className2, style2);
            el.replaceWith(radioWrapper);
          });
          return document.querySelectorAll(selectorOrOptions);
        }
        const { name, value, checked, label, disabled, onChange, className, style } = selectorOrOptions;
        return createRadio(name, value, checked, label, disabled, onChange, className, style);
      }
    };
  }
  function scanAndGenerateClasses(api) {
    const classNames = /* @__PURE__ */ new Set();
    const elements = document.querySelectorAll(&quot;[class]&quot;);
    elements.forEach((element) =&gt; {
      const classList = element.className;
      if (typeof classList === &quot;string&quot;) {
        classList.split(/\s+/).forEach((cls) =&gt; {
          if (cls) classNames.add(cls);
        });
      }
    });
    const scripts = document.querySelectorAll(&quot;script&quot;);
    scripts.forEach((script) =&gt; {
      const content = script.textContent || &quot;&quot;;
      const stringMatches = content.matchAll(/(?:className|class)\s*[=:]\s*[&quot;&#x27;`]([^&quot;&#x27;`]+)[&quot;&#x27;`]/g);
      for (const match of stringMatches) {
        const classes = match[1];
        classes.split(/\s+/).forEach((cls) =&gt; {
          if (cls) classNames.add(cls);
        });
      }
      const templateMatches = content.matchAll(/`([^`]*(?:p-|m-|bg-|text-|border-|rounded|flex|grid|grid-cols-|grid-rows-|grid-flow-|auto-cols-|auto-rows-|col-|row-|w-|h-|gap-)[^`]*)`/g);
      for (const match of templateMatches) {
        const classes = match[1];
        const tailwindMatches = classes.matchAll(/\b((?:p|px|py|pt|pb|pl|pr|m|mx|my|mt|mb|ml|mr|gap|gap-x|gap-y|w|h|min-w|min-h|max-w|max-h|bg|text|border|rounded|flex|grid|grid-cols|grid-rows|grid-flow|auto-cols|auto-rows|col|row|inline|block|hidden|top|right|bottom|left|inset)(?:-[\w[\]/:.%-]+)?)\b/g);
        for (const tailwindMatch of tailwindMatches) {
          if (tailwindMatch[1]) classNames.add(tailwindMatch[1]);
        }
      }
    });
    if (classNames.size &gt; 0) {
      const allClasses = Array.from(classNames).join(&quot; &quot;);
      api.css(allClasses);
    }
  }
  function setupMutationObserver(api) {
    const sandboxWindow2 = window;
    const config = sandboxWindow2.$CONFIG || {};
    const autoDetectClasses = config.autoDetectClasses !== false;
    if (!autoDetectClasses) {
      return;
    }
    const observer = new MutationObserver((mutations) =&gt; {
      const classNames = /* @__PURE__ */ new Set();
      for (const mutation of mutations) {
        mutation.addedNodes.forEach((node) =&gt; {
          if (node.nodeType === Node.ELEMENT_NODE) {
            const element = node;
            if (element.className &amp;&amp; typeof element.className === &quot;string&quot;) {
              element.className.split(/\s+/).forEach((cls) =&gt; {
                if (cls) classNames.add(cls);
              });
            }
            element.querySelectorAll(&quot;[class]&quot;).forEach((child) =&gt; {
              if (typeof child.className === &quot;string&quot;) {
                child.className.split(/\s+/).forEach((cls) =&gt; {
                  if (cls) classNames.add(cls);
                });
              }
            });
          }
        });
        if (mutation.type === &quot;attributes&quot; &amp;&amp; mutation.attributeName === &quot;class&quot;) {
          const element = mutation.target;
          if (element.className &amp;&amp; typeof element.className === &quot;string&quot;) {
            element.className.split(/\s+/).forEach((cls) =&gt; {
              if (cls) classNames.add(cls);
            });
          }
        }
      }
      if (classNames.size &gt; 0) {
        const allClasses = Array.from(classNames).join(&quot; &quot;);
        api.css(allClasses);
      }
    });
    observer.observe(document.body, {
      childList: true,
      subtree: true,
      attributes: true,
      attributeFilter: [&quot;class&quot;]
    });
  }
  const clamp = (v, min, max) =&gt; Math.min(Math.max(v, min), max);
  function parseColor(input) {
    const cssVar = getComputedStyle(document.documentElement).getPropertyValue(`--color-${input}`).trim();
    const colorStr = cssVar || input;
    const oklchMatch = colorStr.match(/oklch\(([^)]+)\)/);
    if (oklchMatch) {
      const parts = oklchMatch[1].split(&quot;/&quot;);
      const channels = parts[0].trim().split(/\s+/);
      if (channels.length === 3) {
        const parseVal = (s, pctScale) =&gt; s.endsWith(&quot;%&quot;) ? parseFloat(s) / 100 * pctScale : parseFloat(s);
        const l = parseVal(channels[0], 1);
        const c = parseVal(channels[1], 1);
        const h = parseVal(channels[2], 360);
        let a2 = 1;
        if (parts[1] != null) {
          const alphaStr = parts[1].trim();
          a2 = alphaStr.endsWith(&quot;%&quot;) ? parseFloat(alphaStr) / 100 : parseFloat(alphaStr);
        }
        if (!isNaN(l) &amp;&amp; !isNaN(c) &amp;&amp; !isNaN(h) &amp;&amp; !isNaN(a2)) {
          return oklchToRgb({ l, c, h, a: a2 });
        }
      }
    }
    const canvas = document.createElement(&quot;canvas&quot;);
    canvas.width = 1;
    canvas.height = 1;
    const ctx = canvas.getContext(&quot;2d&quot;);
    ctx.fillStyle = colorStr;
    ctx.fillRect(0, 0, 1, 1);
    const [r, g, b, a] = ctx.getImageData(0, 0, 1, 1).data;
    return { r: r / 255, g: g / 255, b: b / 255, a: a / 255 };
  }
  function srgbToLinear(c) {
    return c &lt;= 0.04045 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);
  }
  function linearToSrgb(c) {
    return c &lt;= 31308e-7 ? c * 12.92 : 1.055 * Math.pow(c, 1 / 2.4) - 0.055;
  }
  function rgbToOklab(rgb) {
    const r = srgbToLinear(rgb.r);
    const g = srgbToLinear(rgb.g);
    const b = srgbToLinear(rgb.b);
    const l_ = 0.4122214708 * r + 0.5363325363 * g + 0.0514459929 * b;
    const m_ = 0.2119034982 * r + 0.6806995451 * g + 0.1073969566 * b;
    const s_ = 0.0883024619 * r + 0.2817188376 * g + 0.6299787005 * b;
    const l = Math.cbrt(l_);
    const m = Math.cbrt(m_);
    const s = Math.cbrt(s_);
    return {
      L: 0.2104542553 * l + 0.793617785 * m - 0.0040720468 * s,
      a: 1.9779984951 * l - 2.428592205 * m + 0.4505937099 * s,
      b: 0.0259040371 * l + 0.7827717662 * m - 0.808675766 * s,
      alpha: rgb.a
    };
  }
  function oklabToRgb(lab) {
    const l = lab.L + 0.3963377774 * lab.a + 0.2158037573 * lab.b;
    const m = lab.L - 0.1055613458 * lab.a - 0.0638541728 * lab.b;
    const s = lab.L - 0.0894841775 * lab.a - 1.291485548 * lab.b;
    const l3 = l * l * l;
    const m3 = m * m * m;
    const s3 = s * s * s;
    return {
      r: clamp(linearToSrgb(4.0767416621 * l3 - 3.3077115913 * m3 + 0.2309699292 * s3), 0, 1),
      g: clamp(linearToSrgb(-1.2684380046 * l3 + 2.6097574011 * m3 - 0.3413193965 * s3), 0, 1),
      b: clamp(linearToSrgb(-0.0041960863 * l3 - 0.7034186147 * m3 + 1.707614701 * s3), 0, 1),
      a: lab.alpha
    };
  }
  function oklabToOklch(lab) {
    const c = Math.sqrt(lab.a * lab.a + lab.b * lab.b);
    let h = Math.atan2(lab.b, lab.a) * 180 / Math.PI;
    if (h &lt; 0) h += 360;
    return { l: lab.L, c, h, a: lab.alpha };
  }
  function oklchToOklab(oklch) {
    const hRad = oklch.h * Math.PI / 180;
    return {
      L: oklch.l,
      a: oklch.c * Math.cos(hRad),
      b: oklch.c * Math.sin(hRad),
      alpha: oklch.a
    };
  }
  function rgbToOklch(rgb) {
    return oklabToOklch(rgbToOklab(rgb));
  }
  function oklchToRgb(oklch) {
    return oklabToRgb(oklchToOklab(oklch));
  }
  function rgbToHsl(rgb) {
    const { r, g, b } = rgb;
    const max = Math.max(r, g, b);
    const min = Math.min(r, g, b);
    const d = max - min;
    const l = (max + min) / 2;
    if (d === 0) return { h: 0, s: 0, l: l * 100, a: rgb.a };
    const s = l &gt; 0.5 ? d / (2 - max - min) : d / (max + min);
    let h = 0;
    if (max === r) h = ((g - b) / d + (g &lt; b ? 6 : 0)) / 6;
    else if (max === g) h = ((b - r) / d + 2) / 6;
    else h = ((r - g) / d + 4) / 6;
    return { h: h * 360, s: s * 100, l: l * 100, a: rgb.a };
  }
  function hslToRgb(hsl) {
    const h = hsl.h / 360;
    const s = hsl.s / 100;
    const l = hsl.l / 100;
    if (s === 0) return { r: l, g: l, b: l, a: hsl.a };
    const hue2rgb = (p2, q2, t) =&gt; {
      if (t &lt; 0) t += 1;
      if (t &gt; 1) t -= 1;
      if (t &lt; 1 / 6) return p2 + (q2 - p2) * 6 * t;
      if (t &lt; 1 / 2) return q2;
      if (t &lt; 2 / 3) return p2 + (q2 - p2) * (2 / 3 - t) * 6;
      return p2;
    };
    const q = l &lt; 0.5 ? l * (1 + s) : l + s - l * s;
    const p = 2 * l - q;
    return {
      r: hue2rgb(p, q, h + 1 / 3),
      g: hue2rgb(p, q, h),
      b: hue2rgb(p, q, h - 1 / 3),
      a: hsl.a
    };
  }
  function formatOklch(oklch) {
    const l = Math.round(oklch.l * 1e3) / 1e3;
    const c = Math.round(oklch.c * 1e3) / 1e3;
    const h = Math.round(oklch.h * 100) / 100;
    if (oklch.a &lt; 1) {
      const a = Math.round(oklch.a * 1e3) / 1e3;
      return `oklch(${l} ${c} ${h} / ${a})`;
    }
    return `oklch(${l} ${c} ${h})`;
  }
  function determineAdjustSpace(opts) {
    if (opts.space) return opts.space;
    const hasOklch = opts.lightness != null || opts.chroma != null || opts.hue != null;
    const hasHsl = opts.saturation != null;
    const hasRgb = opts.red != null || opts.green != null || opts.blue != null;
    if (hasHsl &amp;&amp; !hasOklch &amp;&amp; !hasRgb) return &quot;hsl&quot;;
    if (hasRgb &amp;&amp; !hasOklch &amp;&amp; !hasHsl) return &quot;rgb&quot;;
    if (hasOklch &amp;&amp; !hasHsl &amp;&amp; !hasRgb) return &quot;oklch&quot;;
    if (!hasOklch &amp;&amp; !hasHsl &amp;&amp; !hasRgb) return &quot;oklch&quot;;
    throw new Error(
      &quot;[getColor] Cannot mix channels from different color spaces. Use the space parameter to disambiguate, or only use channels from one space.&quot;
    );
  }
  function adjustColor(input, opts) {
    const rgba = parseColor(input);
    const space = determineAdjustSpace(opts);
    const alphaAdj = opts.alpha ?? 0;
    if (space === &quot;oklch&quot;) {
      const oklch = rgbToOklch(rgba);
      oklch.l = clamp(oklch.l + (opts.lightness ?? 0), 0, 1);
      oklch.c = Math.max(0, oklch.c + (opts.chroma ?? 0));
      oklch.h = ((oklch.h + (opts.hue ?? 0)) % 360 + 360) % 360;
      oklch.a = clamp(oklch.a + alphaAdj, 0, 1);
      return formatOklch(oklch);
    }
    if (space === &quot;hsl&quot;) {
      const hsl = rgbToHsl(rgba);
      hsl.h = ((hsl.h + (opts.hue ?? 0)) % 360 + 360) % 360;
      hsl.s = clamp(hsl.s + (opts.saturation ?? 0), 0, 100);
      hsl.l = clamp(hsl.l + (opts.lightness ?? 0), 0, 100);
      hsl.a = clamp(hsl.a + alphaAdj, 0, 1);
      const rgb = hslToRgb(hsl);
      return formatOklch(rgbToOklch(rgb));
    }
    const r = clamp(rgba.r + (opts.red ?? 0) / 255, 0, 1);
    const g = clamp(rgba.g + (opts.green ?? 0) / 255, 0, 1);
    const b = clamp(rgba.b + (opts.blue ?? 0) / 255, 0, 1);
    const a = clamp(rgba.a + alphaAdj, 0, 1);
    return formatOklch(rgbToOklch({ r, g, b, a }));
  }
  function initializeSandbox() {
    const themeChangeCallbacks = [];
    const resizeCallbacks = [];
    let currentTheme = document.documentElement.classList.contains(&quot;dark&quot;) ? &quot;dark&quot; : &quot;light&quot;;
    const cssGenerator = createCSSGenerator();
    const api = {
      get theme() {
        return currentTheme;
      },
      size: {
        get width() {
          return window.innerWidth;
        }
      },
      onResize: (callback) =&gt; {
        resizeCallbacks.push(callback);
        callback(window.innerWidth);
      },
      onThemeChange: (callback) =&gt; {
        themeChangeCallbacks.push(callback);
        callback(currentTheme);
      },
      requestResize: (height) =&gt; {
        window.parent.postMessage(
          {
            event: &quot;resize-request&quot;,
            data: { height }
          },
          &quot;*&quot;
        );
      },
      getColor: (color, adjust) =&gt; {
        if (adjust) {
          return adjustColor(color, adjust);
        }
        const cssVar = getComputedStyle(document.documentElement).getPropertyValue(`--color-${color}`).trim();
        if (cssVar) return cssVar;
        return formatOklch(rgbToOklch(parseColor(color)));
      },
      getFont: (name) =&gt; {
        if (name === &quot;default&quot;) {
          const value = getComputedStyle(document.body).fontFamily;
          return value.trim();
        } else if (name === &quot;mono&quot;) {
          return &#x27;&quot;Space Mono&quot;, ui-monospace, &quot;Cascadia Code&quot;, monospace&#x27;;
        }
        return &quot;&quot;;
      },
      css: cssGenerator,
      ui: createUIHelpers(cssGenerator),
      emit: (event, data) =&gt; {
        void event;
        void data;
      }
    };
    window.addEventListener(&quot;message&quot;, (event) =&gt; {
      if (event.data?.event === &quot;theme-change&quot;) {
        const newTheme = event.data.data.theme;
        if (newTheme === &quot;dark&quot;) {
          document.documentElement.classList.add(&quot;dark&quot;);
        } else {
          document.documentElement.classList.remove(&quot;dark&quot;);
        }
        currentTheme = newTheme;
        themeChangeCallbacks.forEach((callback) =&gt; {
          try {
            callback(newTheme);
          } catch (error) {
            console.error(&quot;[DynamicBlock Error] Error in onThemeChange callback:&quot;, error);
            console.error(&quot;Stack trace:&quot;, error.stack);
          }
        });
      }
    });
    let resizeTimeout;
    window.addEventListener(&quot;resize&quot;, () =&gt; {
      clearTimeout(resizeTimeout);
      resizeTimeout = window.setTimeout(() =&gt; {
        const newWidth = window.innerWidth;
        resizeCallbacks.forEach((callback) =&gt; {
          try {
            callback(newWidth);
          } catch (error) {
            console.error(&quot;[DynamicBlock Error] Error in onResize callback:&quot;, error);
            console.error(&quot;Stack trace:&quot;, error.stack);
          }
        });
      }, 150);
    });
    const sandboxWindow2 = window;
    sandboxWindow2.sandboxContext = api;
    setupAutoResize(api);
    scanAndGenerateClasses(api);
    setupMutationObserver(api);
  }
  function setupAutoResize(api) {
    let lastHeight = 0;
    const updateHeight = () =&gt; {
      const root2 = document.getElementById(&quot;root&quot;);
      if (!root2) return;
      const currentHeight = root2.scrollHeight;
      if (currentHeight !== lastHeight) {
        lastHeight = currentHeight;
        api.requestResize(currentHeight);
      }
    };
    const resizeObserver = new ResizeObserver(() =&gt; {
      updateHeight();
    });
    const root = document.getElementById(&quot;root&quot;);
    if (root) {
      resizeObserver.observe(root);
    }
    setTimeout(updateHeight, 0);
  }
  initializeSandbox();
  function executeMountIfExists(props = {}) {
    try {
      const sandboxWindow2 = window;
      const api = sandboxWindow2.sandboxContext;
      const root = document.getElementById(&quot;root&quot;);
      if (!root) {
        console.error(&quot;[DynamicBlock Error] Root element not found - cannot execute mount()&quot;);
        return;
      }
      if (typeof sandboxWindow2.mount === &quot;function&quot;) {
        try {
          sandboxWindow2.mount({ root, api, props });
        } catch (error) {
          console.error(&quot;[DynamicBlock Error] Error in mount() function:&quot;, error);
          console.error(&quot;Stack trace:&quot;, error.stack);
        }
      }
    } catch (error) {
      console.error(&quot;[DynamicBlock Error] Fatal error in executeMountIfExists():&quot;, error);
      console.error(&quot;Stack trace:&quot;, error.stack);
    }
  }
  function executeDrawIfExists(props = {}) {
    try {
      const sandboxWindow2 = window;
      const api = sandboxWindow2.sandboxContext;
      const drawFn = sandboxWindow2.draw;
      if (!api) {
        console.error(&quot;[DynamicBlock Error] Sandbox context not initialized&quot;);
        return;
      }
      if (typeof drawFn !== &quot;function&quot;) {
        return;
      }
      let canvas = document.querySelector(&quot;canvas&quot;);
      if (!canvas) {
        const root = document.getElementById(&quot;root&quot;);
        if (!root) {
          console.error(&quot;[DynamicBlock Error] Root element not found - cannot create canvas&quot;);
          return;
        }
        root.innerHTML = &quot;&quot;;
        canvas = document.createElement(&quot;canvas&quot;);
        canvas.className = api.css(&quot;[&amp;:not([width])]:w-full [&amp;[width]]:mx-auto&quot;);
        root.appendChild(canvas);
      }
      const ariaLabel = sandboxWindow2.__CANVAS_ARIA_LABEL__;
      if (ariaLabel &amp;&amp; typeof ariaLabel === &quot;string&quot;) {
        canvas.setAttribute(&quot;aria-label&quot;, ariaLabel);
      }
      const autoRedrawConfig = sandboxWindow2.autoRedraw || {
        onThemeChange: true,
        onResize: true
      };
      const themeChangeConfig = autoRedrawConfig.onThemeChange === false ? false : autoRedrawConfig.onThemeChange || 0;
      const resizeConfig = autoRedrawConfig.onResize === false ? false : autoRedrawConfig.onResize === true ? 150 : autoRedrawConfig.onResize;
      let resizeTimeout;
      const executeDraw = () =&gt; {
        try {
          const theme = api.theme;
          const width = window.innerWidth;
          drawFn({ canvas, api, theme, width, props });
          requestAnimationFrame(() =&gt; {
            const root = document.getElementById(&quot;root&quot;);
            if (root) {
              const height = root.scrollHeight;
              if (height &gt; 0) {
                api.requestResize(height);
              }
            }
          });
        } catch (error) {
          console.error(&quot;[DynamicBlock Error] Error in draw() function:&quot;, error);
          console.error(&quot;Stack trace:&quot;, error.stack);
        }
      };
      executeDraw();
      if (themeChangeConfig !== false) {
        api.onThemeChange(() =&gt; {
          const debounce = typeof themeChangeConfig === &quot;number&quot; ? themeChangeConfig : 0;
          if (debounce === 0) {
            executeDraw();
          } else {
            setTimeout(executeDraw, debounce);
          }
        });
      }
      if (resizeConfig !== false) {
        api.onResize(() =&gt; {
          clearTimeout(resizeTimeout);
          const debounce = typeof resizeConfig === &quot;number&quot; ? resizeConfig : 150;
          resizeTimeout = window.setTimeout(executeDraw, debounce);
        });
      }
    } catch (error) {
      console.error(&quot;[DynamicBlock Error] Fatal error setting up draw():&quot;, error);
      console.error(&quot;Stack trace:&quot;, error.stack);
    }
  }
  const sandboxWindow = window;
  sandboxWindow.executeMountIfExists = executeMountIfExists;
  sandboxWindow.executeDrawIfExists = executeDrawIfExists;
})();

  &lt;/script&gt;

  &lt;!-- User code script with source mapping --&gt;
  &lt;script&gt;//# sourceURL=content/puzzles/logic/8-queens.md














































function mount(options) {
  const { root, api, props } = options;
  const {
    mode = &#x27;interactive&#x27;,
    queens: initialQueens = []
  } = props;

  const BOARD_SIZE = 8;

  // State: Set of position strings &quot;row,col&quot;
  let queens = new Set();
  initialQueens.forEach((col, row) =&gt; {
    if (row &lt; BOARD_SIZE &amp;&amp; col &gt;= 0 &amp;&amp; col &lt; BOARD_SIZE) {
      queens.add(`${row},${col}`);
    }
  });

  // Create main container
  const container = document.createElement(&#x27;div&#x27;);
  container.className = &#x27;flex flex-col items-center gap-4&#x27;;
  if (mode === &#x27;interactive&#x27;) {
    container.classList.add(&#x27;interactive&#x27;);
  }
  root.appendChild(container);

  // Create board container with fixed aspect ratio
  const boardContainer = document.createElement(&#x27;div&#x27;);
  boardContainer.className = &#x27;relative&#x27;;
  boardContainer.style.width = &#x27;100%&#x27;;
  boardContainer.style.maxWidth = &#x27;400px&#x27;;
  boardContainer.style.aspectRatio = &#x27;1&#x27;;
  container.appendChild(boardContainer);

  // Create the board grid
  const board = document.createElement(&#x27;div&#x27;);
  board.className = &#x27;grid&#x27;;
  board.style.gridTemplateColumns = `repeat(${BOARD_SIZE}, 1fr)`;
  board.style.width = &#x27;100%&#x27;;
  board.style.height = &#x27;100%&#x27;;
  boardContainer.appendChild(board);

  // Color getter functions (called fresh each render for theme changes)
  const getColors = () =&gt; ({
    lightSquare: api.getColor(&#x27;sand-100&#x27;),
    darkSquare: api.getColor(&#x27;sand-300&#x27;),
    threatLightSquare: api.getColor(&#x27;error-200&#x27;),
    threatDarkSquare: api.getColor(&#x27;error-300&#x27;),
    queenColor: api.getColor(&#x27;frost-800&#x27;),
  });

  // Track cells for updates
  const cells = [];

  // Create cells
  for (let row = 0; row &lt; BOARD_SIZE; row++) {
    for (let col = 0; col &lt; BOARD_SIZE; col++) {
      const cell = document.createElement(&#x27;div&#x27;);
      const isLight = (row + col) % 2 === 0;
      const colors = getColors();
      cell.style.backgroundColor = isLight ? colors.lightSquare : colors.darkSquare;
      cell.style.position = &#x27;relative&#x27;;
      cell.style.display = &#x27;flex&#x27;;
      cell.style.alignItems = &#x27;center&#x27;;
      cell.style.justifyContent = &#x27;center&#x27;;
      cell.style.cursor = mode === &#x27;interactive&#x27; ? &#x27;pointer&#x27; : &#x27;default&#x27;;
      // Fix: Ensure consistent cell sizing with aspect ratio
      cell.style.aspectRatio = &#x27;1&#x27;;

      cell.dataset.row = row;
      cell.dataset.col = col;

      // Create queen container (always present, visibility toggled)
      const queenContainer = document.createElement(&#x27;div&#x27;);
      queenContainer.className = &#x27;queen-container&#x27;;
      queenContainer.style.width = &#x27;70%&#x27;;
      queenContainer.style.height = &#x27;70%&#x27;;
      queenContainer.style.position = &#x27;absolute&#x27;;
      queenContainer.style.display = &#x27;none&#x27;;
      cell.appendChild(queenContainer);

      if (mode === &#x27;interactive&#x27;) {
        cell.addEventListener(&#x27;click&#x27;, () =&gt; handleCellClick(row, col));
      }

      board.appendChild(cell);
      cells.push({ element: cell, row, col, isLight, queenContainer });
    }
  }

  // Status message for interactive mode
  let statusEl = null;
  if (mode === &#x27;interactive&#x27;) {
    statusEl = document.createElement(&#x27;div&#x27;);
    statusEl.className = &#x27;text-sm text-muted-foreground text-center&#x27;;
    container.appendChild(statusEl);

    // Reset button
    const resetBtn = api.ui.button({
      label: &#x27;Clear Board&#x27;,
      variant: &#x27;outlined&#x27;,
      color: &#x27;secondary&#x27;,
      size: &#x27;sm&#x27;,
      onClick: () =&gt; {
        queens.clear();
        render();
      }
    });
    container.appendChild(resetBtn);
  }

  function handleCellClick(row, col) {
    if (mode !== &#x27;interactive&#x27;) return;

    const pos = `${row},${col}`;
    // Toggle queen at this position
    if (queens.has(pos)) {
      queens.delete(pos);
    } else {
      queens.add(pos);
    }
    render();
  }

  function getThreatenedSquares() {
    const threatened = new Set();

    queens.forEach((pos) =&gt; {
      const [row, col] = pos.split(&#x27;,&#x27;).map(Number);

      // Mark entire row
      for (let c = 0; c &lt; BOARD_SIZE; c++) {
        if (c !== col) threatened.add(`${row},${c}`);
      }

      // Mark entire column
      for (let r = 0; r &lt; BOARD_SIZE; r++) {
        if (r !== row) threatened.add(`${r},${col}`);
      }

      // Mark diagonals
      for (let i = 1; i &lt; BOARD_SIZE; i++) {
        // Up-left
        if (row - i &gt;= 0 &amp;&amp; col - i &gt;= 0) threatened.add(`${row - i},${col - i}`);
        // Up-right
        if (row - i &gt;= 0 &amp;&amp; col + i &lt; BOARD_SIZE) threatened.add(`${row - i},${col + i}`);
        // Down-left
        if (row + i &lt; BOARD_SIZE &amp;&amp; col - i &gt;= 0) threatened.add(`${row + i},${col - i}`);
        // Down-right
        if (row + i &lt; BOARD_SIZE &amp;&amp; col + i &lt; BOARD_SIZE) threatened.add(`${row + i},${col + i}`);
      }
    });

    return threatened;
  }

  function getConflictingQueens() {
    const conflicts = new Set();
    const queenPositions = Array.from(queens).map((pos) =&gt; {
      const [row, col] = pos.split(&#x27;,&#x27;).map(Number);
      return { row, col };
    });

    for (let i = 0; i &lt; queenPositions.length; i++) {
      for (let j = i + 1; j &lt; queenPositions.length; j++) {
        const q1 = queenPositions[i];
        const q2 = queenPositions[j];

        // Same row (shouldn&#x27;t happen with our data structure, but check anyway)
        if (q1.row === q2.row) {
          conflicts.add(`${q1.row},${q1.col}`);
          conflicts.add(`${q2.row},${q2.col}`);
        }
        // Same column
        if (q1.col === q2.col) {
          conflicts.add(`${q1.row},${q1.col}`);
          conflicts.add(`${q2.row},${q2.col}`);
        }
        // Same diagonal
        if (Math.abs(q1.row - q2.row) === Math.abs(q1.col - q2.col)) {
          conflicts.add(`${q1.row},${q1.col}`);
          conflicts.add(`${q2.row},${q2.col}`);
        }
      }
    }

    return conflicts;
  }

  // Queen SVG path (reused for all queens)
  const queenSvgPath = &#x27;M46.3,20.37c0-2.05,1.66-3.7,3.7-3.7s3.7,1.66,3.7,3.7-1.66,3.7-3.7,3.7-3.7-1.66-3.7-3.7Zm8.62,9.97c3.67-1.81,6.2-5.6,6.2-9.97,0-6.14-4.97-11.11-11.11-11.11s-11.11,4.97-11.11,11.11c0,4.37,2.52,8.15,6.2,9.97l-8.02,21.4-12.74-8.49c2.13-2.02,3.46-4.89,3.46-8.06,0-6.14-4.97-11.11-11.11-11.11s-11.11,4.97-11.11,11.11c0,5.1,3.44,9.4,8.12,10.7l6.58,26.33-2.33,9.31c-1.17,4.68,2.37,9.2,7.19,9.2h49.77c4.82,0,8.36-4.53,7.19-9.2l-2.33-9.31,6.58-26.33c4.68-1.31,8.12-5.6,8.12-10.7,0-6.14-4.97-11.11-11.11-11.11s-11.11,4.97-11.11,11.11c0,3.17,1.33,6.03,3.46,8.06l-12.74,8.49-8.02-21.4Zm28.42,8.55h0c2.05,0,3.7-1.66,3.7-3.7s-1.66-3.7-3.7-3.7-3.7,1.66-3.7,3.7,1.66,3.7,3.7,3.7Zm-62.96-3.7c0,2.04-1.66,3.7-3.7,3.7h0c-2.05,0-3.7-1.66-3.7-3.7s1.66-3.7,3.7-3.7,3.7,1.66,3.7,3.7Zm4.74,48.15l1.85-7.41h46.07l1.85,7.41H25.11Zm52.3-32.35l-4.38,17.53H26.97l-4.38-17.53,14.25,9.5c.94,.63,2.12,.79,3.19,.44,1.08-.35,1.93-1.17,2.33-2.22l7.64-20.38,7.64,20.38c.4,1.06,1.26,1.88,2.33,2.22,1.08,.35,2.25,.18,3.19-.44l14.25-9.5Z&#x27;;

  function render() {
    const colors = getColors();
    const threatened = mode === &#x27;interactive&#x27; ? getThreatenedSquares() : new Set();
    const conflicts = mode === &#x27;interactive&#x27; ? getConflictingQueens() : new Set();
    const queenCount = queens.size;

    cells.forEach(({ element, row, col, isLight, queenContainer }) =&gt; {
      const baseColor = isLight ? colors.lightSquare : colors.darkSquare;
      const hasQueen = queens.has(`${row},${col}`);
      const isThreatened = threatened.has(`${row},${col}`);
      const isConflicting = conflicts.has(`${row},${col}`);

      // Set background (threat tinting respects light/dark checkerboard pattern)
      if (mode === &#x27;interactive&#x27; &amp;&amp; isThreatened &amp;&amp; !hasQueen) {
        element.style.backgroundColor = isLight ? colors.threatLightSquare : colors.threatDarkSquare;
      } else {
        element.style.backgroundColor = baseColor;
      }

      // Update queen visibility and color (don&#x27;t recreate DOM)
      if (hasQueen) {
        const fillColor = isConflicting ? colors.conflictColor : colors.queenColor;
        queenContainer.innerHTML = `&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; viewBox=&quot;0 0 100 100&quot; style=&quot;width:100%;height:100%;fill:${fillColor}&quot;&gt;&lt;path d=&quot;${queenSvgPath}&quot; fill-rule=&quot;evenodd&quot;/&gt;&lt;/svg&gt;`;
        queenContainer.style.display = &#x27;block&#x27;;
      } else {
        queenContainer.style.display = &#x27;none&#x27;;
      }
    });

    // Update status
    if (statusEl) {
      if (conflicts.size &gt; 0) {
        statusEl.textContent = `${queenCount} queen${queenCount !== 1 ? &#x27;s&#x27; : &#x27;&#x27;} placed  conflict detected!`;
      } else if (queenCount === BOARD_SIZE) {
        statusEl.textContent = &#x27;Congratulations! All 8 queens placed with no conflicts!&#x27;;
      } else {
        statusEl.textContent = `${queenCount} of ${BOARD_SIZE} queens placed`;
      }
    }
  }

  // Theme change handler
  api.onThemeChange(() =&gt; {
    // Just re-render, which will use the current theme colors
    render();
  });

  render();
}&lt;/script&gt;

  &lt;!-- Execution script --&gt;
  &lt;script&gt;
    // Execute mount() if defined, passing props
    if (typeof executeMountIfExists === &#x27;function&#x27;) {
      executeMountIfExists(window.__COMPONENT_PROPS__);
    }

    // Execute draw() if defined, passing props
    if (typeof executeDrawIfExists === &#x27;function&#x27;) {
      executeDrawIfExists(window.__COMPONENT_PROPS__);
    }
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;" style="width:100%;height:300px" title="Interactive content 1"></iframe></div></div></details>
<div class="inline-component-definition" style="display:none"></div></div><div class="flex justify-center my-8"><button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 cursor-pointer disabled:cursor-not-allowed disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 border bg-background h-10 px-4 py-2 border-completed text-completed hover:bg-completed/20 gap-2 w-full sm:w-40" aria-label="Mark puzzle as solved">Mark as Solved</button></div><section class="mt-12"><h2 class="mb-6 text-xl font-bold text-foreground lg:text-2xl">Try These Next</h2><div class="overflow-hidden rounded-xl border border-border bg-card [&amp;&gt;*]:border-b [&amp;&gt;*]:border-border [&amp;&gt;*:last-child]:border-b-0"><a class="relative block transition-colors no-underline p-4 hover:bg-muted" href="/puzzle/guessing-hats-1" data-discover="true"><div class="flex items-center gap-3 mb-3"><span class="px-3 py-1 rounded-full text-sm font-medium bg-difficulty-easy text-difficulty-easy-foreground">Easy</span></div><div class="space-y-2"><h3 class="text-base font-semibold pr-8 text-foreground">Guessing Hats 1</h3><p class="text-sm line-clamp-2 pr-8 text-muted-foreground">Angry with his three wise men, the evil king subjects them to an impossible task: theyll have to guess the colour of the hats on their heads. If any one of...</p></div></a><a class="relative block transition-colors no-underline p-4 hover:bg-muted" href="/puzzle/100-10-1" data-discover="true"><div class="flex items-center gap-3 mb-3"><span class="px-3 py-1 rounded-full text-sm font-medium bg-difficulty-open text-difficulty-open-foreground">Open</span></div><div class="space-y-2"><h3 class="text-base font-semibold pr-8 text-foreground">100, 10, 1</h3><p class="text-sm line-clamp-2 pr-8 text-muted-foreground">Your friend, Cole, shows you his first attempt at programming: a calculator that takes in a binary sequence and does an arbitrary computation on it: If the...</p></div></a><a class="relative block transition-colors no-underline p-4 hover:bg-muted" href="/puzzle/randomised-ice-cream" data-discover="true"><div class="flex items-center gap-3 mb-3"><span class="px-3 py-1 rounded-full text-sm font-medium bg-difficulty-medium text-difficulty-medium-foreground">Medium</span></div><div class="space-y-2"><h3 class="text-base font-semibold pr-8 text-foreground">Randomised Ice Cream</h3><p class="text-sm line-clamp-2 pr-8 text-muted-foreground">For Employee Day, your company is offering everyone free ice cream, and you somehow find yourself at the front of the queue. The vendor manning the ice cream...</p></div></a></div></section></div></main></div><script>((storageKey2, restoreKey) => {
    if (!window.history.state || !window.history.state.key) {
      let key = Math.random().toString(32).slice(2);
      window.history.replaceState({ key }, "");
    }
    try {
      let positions = JSON.parse(sessionStorage.getItem(storageKey2) || "{}");
      let storedY = positions[restoreKey || window.history.state.key];
      if (typeof storedY === "number") {
        window.scrollTo(0, storedY);
      }
    } catch (error) {
      console.error(error);
      sessionStorage.removeItem(storageKey2);
    }
  })("react-router-scroll-positions", null)</script><script>window.__reactRouterContext = {"basename":"/","future":{"v8_middleware":false,"unstable_optimizeDeps":false,"unstable_splitRouteModules":false,"unstable_subResourceIntegrity":false,"unstable_viteEnvironmentApi":false},"routeDiscovery":{"mode":"initial"},"ssr":false,"isSpaMode":false};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());</script><script type="module" async="">import "/assets/manifest-85b096c9.js";
import * as route0 from "/assets/root-CCbLxRZ8.js";
import * as route1 from "/assets/puzzle-detail-CWY6_H4M.js";
  
  window.__reactRouterRouteModules = {"root":route0,"routes/puzzle-detail":route1};

import("/assets/entry.client-BQEHofJp.js");</script><!--$?--><template id="B:0"></template><!--/$--><script id="_R_">requestAnimationFrame(function(){$RT=performance.now()});</script><div hidden id="S:0"><script>window.__reactRouterContext.streamController.enqueue("[{\"_1\":2,\"_78\":-5,\"_79\":-5},\"loaderData\",{\"_3\":4},\"routes/puzzle-detail\",{\"_5\":6,\"_7\":8,\"_9\":10},\"status\",\"success\",\"slug\",\"8-queens\",\"puzzle\",{\"_7\":8,\"_11\":12,\"_37\":38,\"_39\":40,\"_41\":42,\"_68\":69},\"metadata\",{\"_13\":14,\"_15\":16,\"_17\":18,\"_19\":22,\"_24\":25,\"_27\":28,\"_29\":30,\"_31\":32,\"_33\":32,\"_34\":35,\"_36\":35},\"id\",\"puzzle-47\",\"title\",\"8 Queens\",\"difficulty\",{\"_19\":20,\"_21\":20},\"concepts\",\"easy\",\"reasoning\",[23],\"logic\",\"tags\",[26],\"has-solution\",\"questionPreview\",\"Can you place 8 queens on a chessboard so that no queen can capture any other?\\n\",\"credit\",\"Classic puzzle. Question and solution written by Puzzlestone Peak.\",\"dateCreated\",\"2026-02-03\",\"lastUpdated\",\"preview\",\"Can you place 8 queens on a chessboard so that no queen can capture any other queen? Recall that a queen can move any number of squares horizontally,...\",\"websitePreview\",\"content\",\"\u003cp\u003eCan you place 8 queens on a chessboard so that no queen can capture any other queen? Recall that a queen can move any number of squares horizontally, vertically, or diagonally.\u003c/p\u003e\\n\u003cp\u003eYou may click on the board below to place and remove queens.\u003c/p\u003e\\n\u003cdiv class=\\\"dynamic-block-placeholder\\\" data-dynamic-block-id=\\\"0\\\" data-mode=\\\"component\\\"\u003e\u003cp class=\\\"text-muted-foreground text-sm\\\"\u003e[Interactive content: component mode]\u003c/p\u003e\u003c/div\u003e\\n\u003cdetails class=\\\"content-block solution-block\\\" data-type=\\\"solution\\\"\u003e\u003csummary class=\\\"solution-label\\\"\u003eSolution\u003c/summary\u003e\u003cdiv class=\\\"solution-content markdown-content prose max-w-none px-4 py-4 space-y-4\\\"\u003e\u003cp\u003eHeres one possible solution:\u003c/p\u003e\u003cdiv class=\\\"dynamic-block-placeholder\\\" data-dynamic-block-id=\\\"1\\\" data-mode=\\\"component\\\"\u003e\u003cp class=\\\"text-muted-foreground text-sm\\\"\u003e[Interactive content: component mode]\u003c/p\u003e\u003c/div\u003e\u003c/div\u003e\u003c/details\u003e\\n\u003cdiv class=\\\"inline-component-definition\\\" style=\\\"display: none;\\\"\u003e\u003c/div\u003e\",\"rawContent\",\"\\nCan you place 8 queens on a chessboard so that no queen can capture any other queen? Recall that a queen can move any number of squares horizontally, vertically, or diagonally.\\n\\nYou may click on the board below to place and remove queens.\\n\\n:::dynamic\\n```yaml\\nuse: '#queens-board'\\nprops:\\n  mode: interactive\\n```\\n:::\\n\\n::::solution\\nHeres one possible solution:\\n\\n:::dynamic\\n```yaml\\nuse: '#queens-board'\\nprops:\\n  mode: solution\\n  queens: [5, 3, 6, 0, 7, 1, 4, 2]\\n```\\n:::\\n::::\\n\\n\\n:::component[queens-board]\\n```js\\nfunction mount(options) {\\n  const { root, api, props } = options;\\n  const {\\n    mode = 'interactive',\\n    queens: initialQueens = []\\n  } = props;\\n\\n  const BOARD_SIZE = 8;\\n\\n  // State: Set of position strings \\\"row,col\\\"\\n  let queens = new Set();\\n  initialQueens.forEach((col, row) =\u003e {\\n    if (row \u003c BOARD_SIZE \u0026\u0026 col \u003e= 0 \u0026\u0026 col \u003c BOARD_SIZE) {\\n      queens.add(`${row},${col}`);\\n    }\\n  });\\n\\n  // Create main container\\n  const container = document.createElement('div');\\n  container.className = 'flex flex-col items-center gap-4';\\n  if (mode === 'interactive') {\\n    container.classList.add('interactive');\\n  }\\n  root.appendChild(container);\\n\\n  // Create board container with fixed aspect ratio\\n  const boardContainer = document.createElement('div');\\n  boardContainer.className = 'relative';\\n  boardContainer.style.width = '100%';\\n  boardContainer.style.maxWidth = '400px';\\n  boardContainer.style.aspectRatio = '1';\\n  container.appendChild(boardContainer);\\n\\n  // Create the board grid\\n  const board = document.createElement('div');\\n  board.className = 'grid';\\n  board.style.gridTemplateColumns = `repeat(${BOARD_SIZE}, 1fr)`;\\n  board.style.width = '100%';\\n  board.style.height = '100%';\\n  boardContainer.appendChild(board);\\n\\n  // Color getter functions (called fresh each render for theme changes)\\n  const getColors = () =\u003e ({\\n    lightSquare: api.getColor('sand-100'),\\n    darkSquare: api.getColor('sand-300'),\\n    threatLightSquare: api.getColor('error-200'),\\n    threatDarkSquare: api.getColor('error-300'),\\n    queenColor: api.getColor('frost-800'),\\n  });\\n\\n  // Track cells for updates\\n  const cells = [];\\n\\n  // Create cells\\n  for (let row = 0; row \u003c BOARD_SIZE; row++) {\\n    for (let col = 0; col \u003c BOARD_SIZE; col++) {\\n      const cell = document.createElement('div');\\n      const isLight = (row + col) % 2 === 0;\\n      const colors = getColors();\\n      cell.style.backgroundColor = isLight ? colors.lightSquare : colors.darkSquare;\\n      cell.style.position = 'relative';\\n      cell.style.display = 'flex';\\n      cell.style.alignItems = 'center';\\n      cell.style.justifyContent = 'center';\\n      cell.style.cursor = mode === 'interactive' ? 'pointer' : 'default';\\n      // Fix: Ensure consistent cell sizing with aspect ratio\\n      cell.style.aspectRatio = '1';\\n\\n      cell.dataset.row = row;\\n      cell.dataset.col = col;\\n\\n      // Create queen container (always present, visibility toggled)\\n      const queenContainer = document.createElement('div');\\n      queenContainer.className = 'queen-container';\\n      queenContainer.style.width = '70%';\\n      queenContainer.style.height = '70%';\\n      queenContainer.style.position = 'absolute';\\n      queenContainer.style.display = 'none';\\n      cell.appendChild(queenContainer);\\n\\n      if (mode === 'interactive') {\\n        cell.addEventListener('click', () =\u003e handleCellClick(row, col));\\n      }\\n\\n      board.appendChild(cell);\\n      cells.push({ element: cell, row, col, isLight, queenContainer });\\n    }\\n  }\\n\\n  // Status message for interactive mode\\n  let statusEl = null;\\n  if (mode === 'interactive') {\\n    statusEl = document.createElement('div');\\n    statusEl.className = 'text-sm text-muted-foreground text-center';\\n    container.appendChild(statusEl);\\n\\n    // Reset button\\n    const resetBtn = api.ui.button({\\n      label: 'Clear Board',\\n      variant: 'outlined',\\n      color: 'secondary',\\n      size: 'sm',\\n      onClick: () =\u003e {\\n        queens.clear();\\n        render();\\n      }\\n    });\\n    container.appendChild(resetBtn);\\n  }\\n\\n  function handleCellClick(row, col) {\\n    if (mode !== 'interactive') return;\\n\\n    const pos = `${row},${col}`;\\n    // Toggle queen at this position\\n    if (queens.has(pos)) {\\n      queens.delete(pos);\\n    } else {\\n      queens.add(pos);\\n    }\\n    render();\\n  }\\n\\n  function getThreatenedSquares() {\\n    const threatened = new Set();\\n\\n    queens.forEach((pos) =\u003e {\\n      const [row, col] = pos.split(',').map(Number);\\n\\n      // Mark entire row\\n      for (let c = 0; c \u003c BOARD_SIZE; c++) {\\n        if (c !== col) threatened.add(`${row},${c}`);\\n      }\\n\\n      // Mark entire column\\n      for (let r = 0; r \u003c BOARD_SIZE; r++) {\\n        if (r !== row) threatened.add(`${r},${col}`);\\n      }\\n\\n      // Mark diagonals\\n      for (let i = 1; i \u003c BOARD_SIZE; i++) {\\n        // Up-left\\n        if (row - i \u003e= 0 \u0026\u0026 col - i \u003e= 0) threatened.add(`${row - i},${col - i}`);\\n        // Up-right\\n        if (row - i \u003e= 0 \u0026\u0026 col + i \u003c BOARD_SIZE) threatened.add(`${row - i},${col + i}`);\\n        // Down-left\\n        if (row + i \u003c BOARD_SIZE \u0026\u0026 col - i \u003e= 0) threatened.add(`${row + i},${col - i}`);\\n        // Down-right\\n        if (row + i \u003c BOARD_SIZE \u0026\u0026 col + i \u003c BOARD_SIZE) threatened.add(`${row + i},${col + i}`);\\n      }\\n    });\\n\\n    return threatened;\\n  }\\n\\n  function getConflictingQueens() {\\n    const conflicts = new Set();\\n    const queenPositions = Array.from(queens).map((pos) =\u003e {\\n      const [row, col] = pos.split(',').map(Number);\\n      return { row, col };\\n    });\\n\\n    for (let i = 0; i \u003c queenPositions.length; i++) {\\n      for (let j = i + 1; j \u003c queenPositions.length; j++) {\\n        const q1 = queenPositions[i];\\n        const q2 = queenPositions[j];\\n\\n        // Same row (shouldn't happen with our data structure, but check anyway)\\n        if (q1.row === q2.row) {\\n          conflicts.add(`${q1.row},${q1.col}`);\\n          conflicts.add(`${q2.row},${q2.col}`);\\n        }\\n        // Same column\\n        if (q1.col === q2.col) {\\n          conflicts.add(`${q1.row},${q1.col}`);\\n          conflicts.add(`${q2.row},${q2.col}`);\\n        }\\n        // Same diagonal\\n        if (Math.abs(q1.row - q2.row) === Math.abs(q1.col - q2.col)) {\\n          conflicts.add(`${q1.row},${q1.col}`);\\n          conflicts.add(`${q2.row},${q2.col}`);\\n        }\\n      }\\n    }\\n\\n    return conflicts;\\n  }\\n\\n  // Queen SVG path (reused for all queens)\\n  const queenSvgPath = 'M46.3,20.37c0-2.05,1.66-3.7,3.7-3.7s3.7,1.66,3.7,3.7-1.66,3.7-3.7,3.7-3.7-1.66-3.7-3.7Zm8.62,9.97c3.67-1.81,6.2-5.6,6.2-9.97,0-6.14-4.97-11.11-11.11-11.11s-11.11,4.97-11.11,11.11c0,4.37,2.52,8.15,6.2,9.97l-8.02,21.4-12.74-8.49c2.13-2.02,3.46-4.89,3.46-8.06,0-6.14-4.97-11.11-11.11-11.11s-11.11,4.97-11.11,11.11c0,5.1,3.44,9.4,8.12,10.7l6.58,26.33-2.33,9.31c-1.17,4.68,2.37,9.2,7.19,9.2h49.77c4.82,0,8.36-4.53,7.19-9.2l-2.33-9.31,6.58-26.33c4.68-1.31,8.12-5.6,8.12-10.7,0-6.14-4.97-11.11-11.11-11.11s-11.11,4.97-11.11,11.11c0,3.17,1.33,6.03,3.46,8.06l-12.74,8.49-8.02-21.4Zm28.42,8.55h0c2.05,0,3.7-1.66,3.7-3.7s-1.66-3.7-3.7-3.7-3.7,1.66-3.7,3.7,1.66,3.7,3.7,3.7Zm-62.96-3.7c0,2.04-1.66,3.7-3.7,3.7h0c-2.05,0-3.7-1.66-3.7-3.7s1.66-3.7,3.7-3.7,3.7,1.66,3.7,3.7Zm4.74,48.15l1.85-7.41h46.07l1.85,7.41H25.11Zm52.3-32.35l-4.38,17.53H26.97l-4.38-17.53,14.25,9.5c.94,.63,2.12,.79,3.19,.44,1.08-.35,1.93-1.17,2.33-2.22l7.64-20.38,7.64,20.38c.4,1.06,1.26,1.88,2.33,2.22,1.08,.35,2.25,.18,3.19-.44l14.25-9.5Z';\\n\\n  function render() {\\n    const colors = getColors();\\n    const threatened = mode === 'interactive' ? getThreatenedSquares() : new Set();\\n    const conflicts = mode === 'interactive' ? getConflictingQueens() : new Set();\\n    const queenCount = queens.size;\\n\\n    cells.forEach(({ element, row, col, isLight, queenContainer }) =\u003e {\\n      const baseColor = isLight ? colors.lightSquare : colors.darkSquare;\\n      const hasQueen = queens.has(`${row},${col}`);\\n      const isThreatened = threatened.has(`${row},${col}`);\\n      const isConflicting = conflicts.has(`${row},${col}`);\\n\\n      // Set background (threat tinting respects light/dark checkerboard pattern)\\n      if (mode === 'interactive' \u0026\u0026 isThreatened \u0026\u0026 !hasQueen) {\\n        element.style.backgroundColor = isLight ? colors.threatLightSquare : colors.threatDarkSquare;\\n      } else {\\n        element.style.backgroundColor = baseColor;\\n      }\\n\\n      // Update queen visibility and color (don't recreate DOM)\\n      if (hasQueen) {\\n        const fillColor = isConflicting ? colors.conflictColor : colors.queenColor;\\n        queenContainer.innerHTML = `\u003csvg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 100 100\\\" style=\\\"width:100%;height:100%;fill:${fillColor}\\\"\u003e\u003cpath d=\\\"${queenSvgPath}\\\" fill-rule=\\\"evenodd\\\"/\u003e\u003c/svg\u003e`;\\n        queenContainer.style.display = 'block';\\n      } else {\\n        queenContainer.style.display = 'none';\\n      }\\n    });\\n\\n    // Update status\\n    if (statusEl) {\\n      if (conflicts.size \u003e 0) {\\n        statusEl.textContent = `${queenCount} queen${queenCount !== 1 ? 's' : ''} placed  conflict detected!`;\\n      } else if (queenCount === BOARD_SIZE) {\\n        statusEl.textContent = 'Congratulations! All 8 queens placed with no conflicts!';\\n      } else {\\n        statusEl.textContent = `${queenCount} of ${BOARD_SIZE} queens placed`;\\n      }\\n    }\\n  }\\n\\n  // Theme change handler\\n  api.onThemeChange(() =\u003e {\\n    // Just re-render, which will use the current theme colors\\n    render();\\n  });\\n\\n  render();\\n}\\n```\\n\\n```css\\n.interactive .grid \u003e div:hover {\\n  opacity: 0.9;\\n}\\n```\\n:::\\n\",\"dynamicBlocks\",[43,55],{\"_44\":45,\"_46\":47,\"_48\":49,\"_50\":51,\"_53\":54},\"type\",\"dynamic\",\"mode\",\"component\",\"componentId\",\"#queens-board\",\"props\",{\"_46\":52},\"interactive\",\"sourceFile\",\"/home/runner/work/puzzlestone-peak/puzzlestone-peak/apps/web/content/puzzles/logic/8-queens.md\",{\"_44\":45,\"_46\":47,\"_48\":49,\"_50\":56,\"_53\":54},{\"_46\":57,\"_58\":59},\"solution\",\"queens\",[60,61,62,63,64,65,66,67],5,3,6,0,7,1,4,2,\"inlineComponents\",{\"_70\":71},\"queens-board\",{\"_13\":70,\"_72\":73,\"_74\":75,\"_76\":77},\"code\",\"function mount(options) {\\n  const { root, api, props } = options;\\n  const {\\n    mode = 'interactive',\\n    queens: initialQueens = []\\n  } = props;\\n\\n  const BOARD_SIZE = 8;\\n\\n  // State: Set of position strings \\\"row,col\\\"\\n  let queens = new Set();\\n  initialQueens.forEach((col, row) =\u003e {\\n    if (row \u003c BOARD_SIZE \u0026\u0026 col \u003e= 0 \u0026\u0026 col \u003c BOARD_SIZE) {\\n      queens.add(`${row},${col}`);\\n    }\\n  });\\n\\n  // Create main container\\n  const container = document.createElement('div');\\n  container.className = 'flex flex-col items-center gap-4';\\n  if (mode === 'interactive') {\\n    container.classList.add('interactive');\\n  }\\n  root.appendChild(container);\\n\\n  // Create board container with fixed aspect ratio\\n  const boardContainer = document.createElement('div');\\n  boardContainer.className = 'relative';\\n  boardContainer.style.width = '100%';\\n  boardContainer.style.maxWidth = '400px';\\n  boardContainer.style.aspectRatio = '1';\\n  container.appendChild(boardContainer);\\n\\n  // Create the board grid\\n  const board = document.createElement('div');\\n  board.className = 'grid';\\n  board.style.gridTemplateColumns = `repeat(${BOARD_SIZE}, 1fr)`;\\n  board.style.width = '100%';\\n  board.style.height = '100%';\\n  boardContainer.appendChild(board);\\n\\n  // Color getter functions (called fresh each render for theme changes)\\n  const getColors = () =\u003e ({\\n    lightSquare: api.getColor('sand-100'),\\n    darkSquare: api.getColor('sand-300'),\\n    threatLightSquare: api.getColor('error-200'),\\n    threatDarkSquare: api.getColor('error-300'),\\n    queenColor: api.getColor('frost-800'),\\n  });\\n\\n  // Track cells for updates\\n  const cells = [];\\n\\n  // Create cells\\n  for (let row = 0; row \u003c BOARD_SIZE; row++) {\\n    for (let col = 0; col \u003c BOARD_SIZE; col++) {\\n      const cell = document.createElement('div');\\n      const isLight = (row + col) % 2 === 0;\\n      const colors = getColors();\\n      cell.style.backgroundColor = isLight ? colors.lightSquare : colors.darkSquare;\\n      cell.style.position = 'relative';\\n      cell.style.display = 'flex';\\n      cell.style.alignItems = 'center';\\n      cell.style.justifyContent = 'center';\\n      cell.style.cursor = mode === 'interactive' ? 'pointer' : 'default';\\n      // Fix: Ensure consistent cell sizing with aspect ratio\\n      cell.style.aspectRatio = '1';\\n\\n      cell.dataset.row = row;\\n      cell.dataset.col = col;\\n\\n      // Create queen container (always present, visibility toggled)\\n      const queenContainer = document.createElement('div');\\n      queenContainer.className = 'queen-container';\\n      queenContainer.style.width = '70%';\\n      queenContainer.style.height = '70%';\\n      queenContainer.style.position = 'absolute';\\n      queenContainer.style.display = 'none';\\n      cell.appendChild(queenContainer);\\n\\n      if (mode === 'interactive') {\\n        cell.addEventListener('click', () =\u003e handleCellClick(row, col));\\n      }\\n\\n      board.appendChild(cell);\\n      cells.push({ element: cell, row, col, isLight, queenContainer });\\n    }\\n  }\\n\\n  // Status message for interactive mode\\n  let statusEl = null;\\n  if (mode === 'interactive') {\\n    statusEl = document.createElement('div');\\n    statusEl.className = 'text-sm text-muted-foreground text-center';\\n    container.appendChild(statusEl);\\n\\n    // Reset button\\n    const resetBtn = api.ui.button({\\n      label: 'Clear Board',\\n      variant: 'outlined',\\n      color: 'secondary',\\n      size: 'sm',\\n      onClick: () =\u003e {\\n        queens.clear();\\n        render();\\n      }\\n    });\\n    container.appendChild(resetBtn);\\n  }\\n\\n  function handleCellClick(row, col) {\\n    if (mode !== 'interactive') return;\\n\\n    const pos = `${row},${col}`;\\n    // Toggle queen at this position\\n    if (queens.has(pos)) {\\n      queens.delete(pos);\\n    } else {\\n      queens.add(pos);\\n    }\\n    render();\\n  }\\n\\n  function getThreatenedSquares() {\\n    const threatened = new Set();\\n\\n    queens.forEach((pos) =\u003e {\\n      const [row, col] = pos.split(',').map(Number);\\n\\n      // Mark entire row\\n      for (let c = 0; c \u003c BOARD_SIZE; c++) {\\n        if (c !== col) threatened.add(`${row},${c}`);\\n      }\\n\\n      // Mark entire column\\n      for (let r = 0; r \u003c BOARD_SIZE; r++) {\\n        if (r !== row) threatened.add(`${r},${col}`);\\n      }\\n\\n      // Mark diagonals\\n      for (let i = 1; i \u003c BOARD_SIZE; i++) {\\n        // Up-left\\n        if (row - i \u003e= 0 \u0026\u0026 col - i \u003e= 0) threatened.add(`${row - i},${col - i}`);\\n        // Up-right\\n        if (row - i \u003e= 0 \u0026\u0026 col + i \u003c BOARD_SIZE) threatened.add(`${row - i},${col + i}`);\\n        // Down-left\\n        if (row + i \u003c BOARD_SIZE \u0026\u0026 col - i \u003e= 0) threatened.add(`${row + i},${col - i}`);\\n        // Down-right\\n        if (row + i \u003c BOARD_SIZE \u0026\u0026 col + i \u003c BOARD_SIZE) threatened.add(`${row + i},${col + i}`);\\n      }\\n    });\\n\\n    return threatened;\\n  }\\n\\n  function getConflictingQueens() {\\n    const conflicts = new Set();\\n    const queenPositions = Array.from(queens).map((pos) =\u003e {\\n      const [row, col] = pos.split(',').map(Number);\\n      return { row, col };\\n    });\\n\\n    for (let i = 0; i \u003c queenPositions.length; i++) {\\n      for (let j = i + 1; j \u003c queenPositions.length; j++) {\\n        const q1 = queenPositions[i];\\n        const q2 = queenPositions[j];\\n\\n        // Same row (shouldn't happen with our data structure, but check anyway)\\n        if (q1.row === q2.row) {\\n          conflicts.add(`${q1.row},${q1.col}`);\\n          conflicts.add(`${q2.row},${q2.col}`);\\n        }\\n        // Same column\\n        if (q1.col === q2.col) {\\n          conflicts.add(`${q1.row},${q1.col}`);\\n          conflicts.add(`${q2.row},${q2.col}`);\\n        }\\n        // Same diagonal\\n        if (Math.abs(q1.row - q2.row) === Math.abs(q1.col - q2.col)) {\\n          conflicts.add(`${q1.row},${q1.col}`);\\n          conflicts.add(`${q2.row},${q2.col}`);\\n        }\\n      }\\n    }\\n\\n    return conflicts;\\n  }\\n\\n  // Queen SVG path (reused for all queens)\\n  const queenSvgPath = 'M46.3,20.37c0-2.05,1.66-3.7,3.7-3.7s3.7,1.66,3.7,3.7-1.66,3.7-3.7,3.7-3.7-1.66-3.7-3.7Zm8.62,9.97c3.67-1.81,6.2-5.6,6.2-9.97,0-6.14-4.97-11.11-11.11-11.11s-11.11,4.97-11.11,11.11c0,4.37,2.52,8.15,6.2,9.97l-8.02,21.4-12.74-8.49c2.13-2.02,3.46-4.89,3.46-8.06,0-6.14-4.97-11.11-11.11-11.11s-11.11,4.97-11.11,11.11c0,5.1,3.44,9.4,8.12,10.7l6.58,26.33-2.33,9.31c-1.17,4.68,2.37,9.2,7.19,9.2h49.77c4.82,0,8.36-4.53,7.19-9.2l-2.33-9.31,6.58-26.33c4.68-1.31,8.12-5.6,8.12-10.7,0-6.14-4.97-11.11-11.11-11.11s-11.11,4.97-11.11,11.11c0,3.17,1.33,6.03,3.46,8.06l-12.74,8.49-8.02-21.4Zm28.42,8.55h0c2.05,0,3.7-1.66,3.7-3.7s-1.66-3.7-3.7-3.7-3.7,1.66-3.7,3.7,1.66,3.7,3.7,3.7Zm-62.96-3.7c0,2.04-1.66,3.7-3.7,3.7h0c-2.05,0-3.7-1.66-3.7-3.7s1.66-3.7,3.7-3.7,3.7,1.66,3.7,3.7Zm4.74,48.15l1.85-7.41h46.07l1.85,7.41H25.11Zm52.3-32.35l-4.38,17.53H26.97l-4.38-17.53,14.25,9.5c.94,.63,2.12,.79,3.19,.44,1.08-.35,1.93-1.17,2.33-2.22l7.64-20.38,7.64,20.38c.4,1.06,1.26,1.88,2.33,2.22,1.08,.35,2.25,.18,3.19-.44l14.25-9.5Z';\\n\\n  function render() {\\n    const colors = getColors();\\n    const threatened = mode === 'interactive' ? getThreatenedSquares() : new Set();\\n    const conflicts = mode === 'interactive' ? getConflictingQueens() : new Set();\\n    const queenCount = queens.size;\\n\\n    cells.forEach(({ element, row, col, isLight, queenContainer }) =\u003e {\\n      const baseColor = isLight ? colors.lightSquare : colors.darkSquare;\\n      const hasQueen = queens.has(`${row},${col}`);\\n      const isThreatened = threatened.has(`${row},${col}`);\\n      const isConflicting = conflicts.has(`${row},${col}`);\\n\\n      // Set background (threat tinting respects light/dark checkerboard pattern)\\n      if (mode === 'interactive' \u0026\u0026 isThreatened \u0026\u0026 !hasQueen) {\\n        element.style.backgroundColor = isLight ? colors.threatLightSquare : colors.threatDarkSquare;\\n      } else {\\n        element.style.backgroundColor = baseColor;\\n      }\\n\\n      // Update queen visibility and color (don't recreate DOM)\\n      if (hasQueen) {\\n        const fillColor = isConflicting ? colors.conflictColor : colors.queenColor;\\n        queenContainer.innerHTML = `\u003csvg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 100 100\\\" style=\\\"width:100%;height:100%;fill:${fillColor}\\\"\u003e\u003cpath d=\\\"${queenSvgPath}\\\" fill-rule=\\\"evenodd\\\"/\u003e\u003c/svg\u003e`;\\n        queenContainer.style.display = 'block';\\n      } else {\\n        queenContainer.style.display = 'none';\\n      }\\n    });\\n\\n    // Update status\\n    if (statusEl) {\\n      if (conflicts.size \u003e 0) {\\n        statusEl.textContent = `${queenCount} queen${queenCount !== 1 ? 's' : ''} placed  conflict detected!`;\\n      } else if (queenCount === BOARD_SIZE) {\\n        statusEl.textContent = 'Congratulations! All 8 queens placed with no conflicts!';\\n      } else {\\n        statusEl.textContent = `${queenCount} of ${BOARD_SIZE} queens placed`;\\n      }\\n    }\\n  }\\n\\n  // Theme change handler\\n  api.onThemeChange(() =\u003e {\\n    // Just re-render, which will use the current theme colors\\n    render();\\n  });\\n\\n  render();\\n}\",\"css\",\".interactive .grid \u003e div:hover {\\n  opacity: 0.9;\\n}\",\"startLine\",48,\"actionData\",\"errors\"]\n");</script><!--$?--><template id="B:1"></template><!--/$--></div><script>$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};
$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};$RC("B:0","S:0")</script><div hidden id="S:1"><script>window.__reactRouterContext.streamController.close();</script></div><script>$RC("B:1","S:1")</script></body></html>