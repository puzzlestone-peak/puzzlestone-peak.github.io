[{"_1":2},"routes/puzzle-detail",{"_3":4},"data",{"_5":6,"_7":8},"slug","nim-game-variations","puzzle",{"_5":6,"_9":10,"_37":38,"_39":40,"_41":42},"metadata",{"_11":12,"_13":14,"_15":16,"_22":23,"_24":25,"_29":30,"_31":30,"_32":33,"_34":35,"_36":35},"id","7","title","Nim Game: Multi-Pile Variations","concepts",[17,18,19,20,21],"game-theory","strategy","nim","binary","xor","difficulty","advanced","tags",[26,27,28,20],"game","series","mathematical","dateCreated","2025-10-22T00:00:00.000Z","lastUpdated","previousPuzzle","nim-game-strategy","preview","Classic Multi-Pile Nim The rules: Start with several piles of stones (e.g., piles of 3, 5, and 7 stones) Players alternate turns On your turn, remove any...","websitePreview","content","<h2 class=\"markdown-h1\">Classic Multi-Pile Nim</h2>\n<p>The rules:</p>\n<ul>\n<li>Start with several piles of stones (e.g., piles of 3, 5, and 7 stones)</li>\n<li>Players alternate turns</li>\n<li>On your turn, remove any number of stones from exactly one pile</li>\n<li>The player who takes the last stone wins</li>\n</ul>\n<h2 class=\"markdown-h1\">The Question</h2>\n<p>For any configuration of piles, how do you determine if you can win? What should your move be?</p>\n<details class=\"hint-block\" data-type=\"hint\"><summary class=\"hint-label\">Hint</summary><div class=\"hint-content markdown-content prose max-w-none px-4 py-4 space-y-4\"><p>The answer involves binary representations of the pile sizes.</p></div></details>\n<details class=\"hint-block\" data-type=\"hint\"><summary class=\"hint-label\">XOR</summary><div class=\"hint-content markdown-content prose max-w-none px-4 py-4 space-y-4\"><p>Compute the XOR (exclusive or) of all pile sizes. What does this tell you?</p></div></details>\n<details class=\"solution-block\" data-type=\"solution\"><summary class=\"solution-label\">Solution</summary><div class=\"solution-content markdown-content prose max-w-none px-4 py-4 space-y-4\"><p><strong>Answer</strong>: You can win if and only if the XOR of all pile sizes is non-zero.</p><h3 class=\"markdown-h2\">The Nim-Sum Strategy</h3><p>The <strong>nim-sum</strong> is the XOR (exclusive or) of all pile sizes.</p><p><strong>Winning position</strong>: Nim-sum = 0\n<strong>Losing position</strong>: Nim-sum ≠ 0</p><p><strong>Strategy</strong>:</p><ol>\n<li>Calculate the nim-sum of all piles</li>\n<li>If it's 0, you're in a losing position</li>\n<li>If it's non-zero, find a move that makes it 0</li>\n</ol><h3 class=\"markdown-h2\">Example: Piles of 3, 5, 7</h3><p>Convert to binary:</p><ul>\n<li>3 = 011</li>\n<li>5 = 101</li>\n<li>7 = 111</li>\n</ul><p>XOR (nim-sum):</p><pre><code>  011\n  101\n  111\n-----\n  001 = 1\n</code></pre><p>Nim-sum is 1 (non-zero), so the first player can win.</p><p><strong>Winning move</strong>: Make the nim-sum 0. We need to change one pile so the XOR becomes 0.</p><p>If we change the pile of 7:</p><ul>\n<li>We want: 3 ⊕ 5 ⊕ x = 0</li>\n<li>So: x = 3 ⊕ 5 = 110 = 6</li>\n<li>Remove 1 stone from the pile of 7, leaving 6</li>\n</ul><p>New position: 3, 5, 6</p><pre><code>  011\n  101\n  110\n-----\n  000 = 0\n</code></pre><p>Now the nim-sum is 0, and your opponent is in a losing position!</p><h3 class=\"markdown-h2\">Why This Works</h3><p><strong>Key properties of XOR</strong>:</p><ol>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>⊕</mo><mi>x</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">x \\oplus x = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⊕</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span> (anything XOR itself is 0)</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>⊕</mo><mn>0</mn><mo>=</mo><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x \\oplus 0 = x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⊕</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span> (anything XOR 0 is itself)</li>\n<li>XOR is associative and commutative</li>\n</ol><p><strong>Proof sketch</strong>:</p><ul>\n<li>If nim-sum is 0, any move makes it non-zero (your opponent can always respond)</li>\n<li>If nim-sum is non-zero, there's always a move to make it 0 (look at the highest bit that's 1)</li>\n</ul><h3 class=\"markdown-h2\">The Sprague-Grundy Theorem</h3><p>This generalizes to impartial games. Every position in an impartial game has a <strong>Grundy number</strong> (or nimber). The Grundy number of a position is the XOR of the Grundy numbers of all its components.</p><p>For Nim, the Grundy number of a pile of size <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span> is simply <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span>.</p><p>This theorem shows that any impartial game is equivalent to a Nim game with the right pile sizes!</p></div></details>","rawContent","\n# Classic Multi-Pile Nim\n\nThe rules:\n- Start with several piles of stones (e.g., piles of 3, 5, and 7 stones)\n- Players alternate turns\n- On your turn, remove any number of stones from exactly one pile\n- The player who takes the last stone wins\n\n# The Question\n\nFor any configuration of piles, how do you determine if you can win? What should your move be?\n\n:::hint\nThe answer involves binary representations of the pile sizes.\n:::\n\n:::hint[XOR]\nCompute the XOR (exclusive or) of all pile sizes. What does this tell you?\n:::\n\n:::solution\n**Answer**: You can win if and only if the XOR of all pile sizes is non-zero.\n\n## The Nim-Sum Strategy\n\nThe **nim-sum** is the XOR (exclusive or) of all pile sizes.\n\n**Winning position**: Nim-sum = 0\n**Losing position**: Nim-sum ≠ 0\n\n**Strategy**:\n1. Calculate the nim-sum of all piles\n2. If it's 0, you're in a losing position\n3. If it's non-zero, find a move that makes it 0\n\n## Example: Piles of 3, 5, 7\n\nConvert to binary:\n- 3 = 011\n- 5 = 101\n- 7 = 111\n\nXOR (nim-sum):\n```\n  011\n  101\n  111\n-----\n  001 = 1\n```\n\nNim-sum is 1 (non-zero), so the first player can win.\n\n**Winning move**: Make the nim-sum 0. We need to change one pile so the XOR becomes 0.\n\nIf we change the pile of 7:\n- We want: 3 ⊕ 5 ⊕ x = 0\n- So: x = 3 ⊕ 5 = 110 = 6\n- Remove 1 stone from the pile of 7, leaving 6\n\nNew position: 3, 5, 6\n```\n  011\n  101\n  110\n-----\n  000 = 0\n```\n\nNow the nim-sum is 0, and your opponent is in a losing position!\n\n## Why This Works\n\n**Key properties of XOR**:\n1. $x \\oplus x = 0$ (anything XOR itself is 0)\n2. $x \\oplus 0 = x$ (anything XOR 0 is itself)\n3. XOR is associative and commutative\n\n**Proof sketch**:\n- If nim-sum is 0, any move makes it non-zero (your opponent can always respond)\n- If nim-sum is non-zero, there's always a move to make it 0 (look at the highest bit that's 1)\n\n## The Sprague-Grundy Theorem\n\nThis generalizes to impartial games. Every position in an impartial game has a **Grundy number** (or nimber). The Grundy number of a position is the XOR of the Grundy numbers of all its components.\n\nFor Nim, the Grundy number of a pile of size $n$ is simply $n$.\n\nThis theorem shows that any impartial game is equivalent to a Nim game with the right pile sizes!\n:::\n","dynamicBlocks",[]]
