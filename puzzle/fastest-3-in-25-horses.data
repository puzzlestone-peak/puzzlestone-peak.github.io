[{"_1":2},"routes/puzzle-detail",{"_3":4},"data",{"_5":6,"_7":8,"_9":10},"status","success","slug","fastest-3-in-25-horses","puzzle",{"_7":8,"_11":12,"_38":39,"_40":41,"_42":43,"_66":67},"metadata",{"_13":14,"_15":16,"_17":18,"_19":22,"_25":26,"_28":29,"_30":31,"_32":31,"_33":34,"_35":36,"_37":36},"id","puzzle-11","title","Fastest 3 in 25 Horses","difficulty",{"_19":20,"_21":20},"concepts","medium","reasoning",[23,24],"optimisation","logic","tags",[27],"has-solution","credit","Classic puzzle, commonly used in technical interviews. Question and solution written by Puzzlestone Peak.","dateCreated","2025-11-02","lastUpdated","changelog","2025-11-03: Added to Puzzlestone Peak","preview","You visit a farm, hoping to buy the 3 fastest horses they have. The farmer says he has 25 horses, but he has no idea how fast each of them are. Instead, he...","websitePreview","content","<p>You visit a farm, hoping to buy the 3 fastest horses they have. The farmer says he has 25 horses, but he has no idea how fast each of them are. Instead, he gives you access to a race track that allows 5 horses to run at a time. Neither you nor the farmer have a stopwatch on hand. What is the minimum number of races required to find the 3 fastest horses?</p>\n<details class=\"content-block solution-block\" data-type=\"solution\"><summary class=\"solution-label\">Solution</summary><div class=\"solution-content markdown-content prose max-w-none px-4 py-4 space-y-4\"><p>7 races are needed.</p><p>Organise the horses into 5 groups of 5, and race the horses in each group, ranking the horses in each group by their speed.</p><div class=\"dynamic-block-placeholder\" data-dynamic-block-id=\"0\" data-mode=\"component\"><p class=\"text-muted-foreground text-sm\">[Interactive content: component mode]</p></div><p>For the 6th race, race the fastest horse from each of the 5 groups. Rank the groups based on the position of the fastest horse. Let’s name the groups as such:</p><div class=\"dynamic-block-placeholder\" data-dynamic-block-id=\"1\" data-mode=\"component\"><p class=\"text-muted-foreground text-sm\">[Interactive content: component mode]</p></div><p>Where A1 is the fastest horse in the 6th race, followed by B1, C1, D1, and E1. Note that horse A1 is faster than all the horses in group A. It is also faster than the fastest horses in the other groups, which in turn are faster than all the horses in their group.</p><p>We can conclude that A1 is the fastest horse, so let’s look for the 2nd- and 3rd-fastest horses. We can eliminate horses from 2nd and 3rd place if we can find 3 faster horses.</p><p>In group A: A4 and A5 are slower than A1, A2, and A3, so we can eliminate them.</p><p>In group B: B3, B4, and B5 are slower than A1, B1, and B2.</p><p>In group C: C2, C3, C4, and C5 are slower than C1, B1, and A1.</p><p>All the horses in group D and E are slower than C1, B1, and A1.</p><div class=\"dynamic-block-placeholder\" data-dynamic-block-id=\"2\" data-mode=\"component\"><p class=\"text-muted-foreground text-sm\">[Interactive content: component mode]</p></div><p>This leaves only A2, A3, B1, B2, and C1 that could be the 2nd- and 3rd- fastest horses. We hold the 7th race with these 5 horses. The fastest horse in this race will be the 2nd-fastest horse overall, and the runner-up will be the 3rd-fastest horse overall.</p></div></details>\n<div class=\"inline-component-definition\" style=\"display: none;\"></div>","rawContent","\nYou visit a farm, hoping to buy the 3 fastest horses they have. The farmer says he has 25 horses, but he has no idea how fast each of them are. Instead, he gives you access to a race track that allows 5 horses to run at a time. Neither you nor the farmer have a stopwatch on hand. What is the minimum number of races required to find the 3 fastest horses?\n\n\n::::solution\n7 races are needed.\n\nOrganise the horses into 5 groups of 5, and race the horses in each group, ranking the horses in each group by their speed.\n\n:::dynamic\n```yaml\ntitle: \"After races 1-5: Horses ranked within each group\"\nuse: '#diagram'\nprops:\n  stage: stage-1\n```\n:::\n\nFor the 6th race, race the fastest horse from each of the 5 groups. Rank the groups based on the position of the fastest horse. Let’s name the groups as such:\n\n:::dynamic\n```yaml\ntitle: \"After race 6: Groups ranked by fastest horse (A1 is overall fastest)\"\nuse: '#diagram'\nprops:\n  stage: stage-2\n```\n:::\n\nWhere A1 is the fastest horse in the 6th race, followed by B1, C1, D1, and E1. Note that horse A1 is faster than all the horses in group A. It is also faster than the fastest horses in the other groups, which in turn are faster than all the horses in their group.\n\nWe can conclude that A1 is the fastest horse, so let’s look for the 2nd- and 3rd-fastest horses. We can eliminate horses from 2nd and 3rd place if we can find 3 faster horses.\n\nIn group A: A4 and A5 are slower than A1, A2, and A3, so we can eliminate them.\n\nIn group B: B3, B4, and B5 are slower than A1, B1, and B2.\n\nIn group C: C2, C3, C4, and C5 are slower than C1, B1, and A1.\n\nAll the horses in group D and E are slower than C1, B1, and A1.\n\n:::dynamic\n```yaml\ntitle: \"After elimination: 5 remaining candidates for 2nd and 3rd place\"\nuse: '#diagram'\nprops:\n  stage: stage-3\n```\n:::\n\nThis leaves only A2, A3, B1, B2, and C1 that could be the 2nd- and 3rd- fastest horses. We hold the 7th race with these 5 horses. The fastest horse in this race will be the 2nd-fastest horse overall, and the runner-up will be the 3rd-fastest horse overall.\n::::\n\n:::component[diagram]\n```html\n<div id=\"container\" class=\"grid grid-cols-5 grid-rows-5 gap-4 max-w-[500px] m-auto p-1\"></div>\n```\n```js\nconst HORSE_SVG = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"41.97 41.8 200.06 187.89\"><path fill=\"currentColor\" d=\"M42.1 80.5c1 1.1 1.4 4.7 4 6.6s5.2 2.4 5.8.6c.6-1.7 8.1-4.8 13.7-5.3 5.7-.5 6.8-1.2 8.8-2.5s2.5-.4 4.4 1.5 1.6 14.8 2 21.1c.3 6.3 4.6 16.9 4.6 16.9s2.4 7.6.9 14.8c-1.5 7.1 9.3 12.6 8.8 16.1-.6 3.5 5.2 12.7 5.3 16.6s2.6 20.5 3.6 23.3.9 12.7.7 15.6-1.7 7.3-3.2 9c-1.5 1.6-2.7 3.9-3.9 5.6-1.3 1.6-3.1 4.2-3.1 4.2 8.2 2 10.9-1.1 12.4-2.8s2.4-3 2.4-4.5c-.1-1.5-2-1.7-.7-3.6s2.7-2.6 3.5-4.4-1.2-18 .6-21.6 1.7-9.5 2.1-16.2 2-18.4 2-18.4c4 3.6 33.5.9 40.4.2 7-.7 16.5-5 19-4.7s3.3 3.1 4.4 3.5c1.1.3 4.2-1.6 4.2-1.6s5.6 6.7 6.3 8.9 7.5 15.4 7.9 19.8 2.9 9.7 3.8 13.7-3.2 19.6-4.1 22.8c-.9 3.1-3.1 5-4.5 5.9-1.3.9-3.9 5.4-4.9 6.7-1 1.2 8.5 2.4 11.8 0s.8-5.2.4-6c-.4-.9 1.5-2.9 2.7-3.7 1.3-.8 2.7-1.7 2.4-4.6-.2-2.8 3.1-23.9 5.2-29.7s-.2-6.7-1.2-7.9c-.9-1.3-2.8-9.3-2.8-9.3s8.9 9.7 9.3 13.4c.4 3.8 3.8 6.7 5.3 9s3 16.8 3.3 21.8c.3 4.9-1.2 7.5-2 8.7-.9 1.3-1.2 2.8-1.2 2.8l-3.5 4.6s7.9 1.7 10.2.5c2.4-1.3 3.1-4.2 1.3-6.3-1.8-2-1-3.8 1.5-6.6s-3.1-25.4-3.1-27.6c-.1-2.1 2.2-4.6 6.4-15.7s5.7-23 6.7-44.7-21-26.5-25.2-26.6-11.7 1.2-11.7 1.2c-5.7-2.8-25.7-4.5-37.1-.3s-25.1 2.5-35.6-.5c-10.4-3.1-20.7-27.6-31.6-38.7-11.1-11.5-26.4-13.8-26.4-13.8-1.1-3.8-3.5-4.8-3.5-4.8.3 2-.1 3.6-.1 3.6-1.7-.9-3.6-5.3-3.6-5.3-1.4 1.9.3 8.8.3 8.8s-1.3 1.4-4.9 3.5-9 16.1-12.3 18.1c-3.1 1.9-9.3 7.2-8.2 8.3zm174.2 61.1c1.2-2.1 2.9-14.4 3.5-19 .1-.9.1-4.4.3-5.6.4-1.9.4 1.2.4 2-.3 4.4-1.1 19.7-.6 23.1.6 4.1 4.4 20.2.4 25 0 0-4.8-8.3-5-11.1-.3-2.7-.4-12 1-14.4z\"/><path fill=\"currentColor\" d=\"M216.3 177s-1.9 6.1-1.5 9.5c.4 3.5 3.1 10.3 2.7 13 0 0 6.1-5.7 8-12.1\"/></svg>`\n\nfunction mount({ api, props }) {\n  const { stage } = props;\n\n  const containerElem = document.querySelector('#container');\n\n  const showHorizontalGroupings = ['stage-1', 'stage-2', 'stage-3'].includes(stage);\n  const showFirstRanking = ['stage-2'].includes(stage);\n  const createLabel = (() => {\n    if (stage === 'stage-1') {\n      return ({ x }) => {\n        return `${['1st', '2nd', '3rd', '4th', '5th'][x]}`;\n      };\n    } else if (['stage-2', 'stage-3'].includes(stage)) {\n      return ({ x, y }) => {\n        return `${['A', 'B', 'C', 'D', 'E'][y]}${x + 1}`;\n      };\n    }\n  })();\n  const shouldBeTranslucent = (() => {\n    if (stage === 'stage-3') {\n      return ({ x, y }) => {\n        return x + y >= 3;\n      };\n    } else {\n      return () => false;\n    }\n  })();\n\n  for (let x = 0; x < 5; x++) {\n    for (let y = 0; y < 5; y++) {\n      const horseContainerElem = document.createElement('div');\n      horseContainerElem.className = api.css(`flex justify-center items-center flex-col col-start-${x + 1} row-start-${y + 1} p-2`);\n\n      const horseElem = document.createElement('div');\n      // horseElem.src = horseImageSrc;\n      horseElem.innerHTML = HORSE_SVG;\n      horseElem.className = api.css('flex w-full');\n      if (shouldBeTranslucent({ x, y })) {\n        horseElem.classList.add(api.css('opacity-20'))\n      }\n      horseContainerElem.append(horseElem);\n\n      if (createLabel) {\n        const labelElem = document.createElement('div');\n        labelElem.textContent = createLabel({ x, y });\n        labelElem.className = api.css('flex justify-center items-center');\n        horseContainerElem.append(labelElem);\n      }\n\n      containerElem.append(horseContainerElem);\n      console.log(horseContainerElem);\n    }\n  }\n\n  if (showHorizontalGroupings) {\n    for (let y = 0; y < 5; y++) {\n      const groupElem = document.createElement('div');\n      groupElem.className = api.css(`p-1 col-start-1 col-span-full row-start-${y + 1} border border-2 rounded-lg`);\n      containerElem.append(groupElem);\n    }\n  }\n\n  if (showFirstRanking) {\n      const groupContainerElem = document.createElement('div');\n      groupContainerElem.className = api.css('row-start-1 row-span-full col-start-1 p-1');\n      const groupElem = document.createElement('div');\n      groupElem.className = api.css('w-full h-full border border-2 rounded-lg');\n      groupContainerElem.append(groupElem);\n      containerElem.append(groupContainerElem);\n  }\n\n\n}\n```\n:::","dynamicBlocks",[44,58,62],{"_45":46,"_47":48,"_49":50,"_51":52,"_15":55,"_56":57},"type","dynamic","mode","component","componentId","#diagram","props",{"_53":54},"stage","stage-1","After races 1-5: Horses ranked within each group","sourceFile","/home/runner/work/puzzlestone-peak/puzzlestone-peak/apps/web/content/puzzles/optimisation/fastest-3-in-25-horses.md",{"_45":46,"_47":48,"_49":50,"_51":59,"_15":61,"_56":57},{"_53":60},"stage-2","After race 6: Groups ranked by fastest horse (A1 is overall fastest)",{"_45":46,"_47":48,"_49":50,"_51":63,"_15":65,"_56":57},{"_53":64},"stage-3","After elimination: 5 remaining candidates for 2nd and 3rd place","inlineComponents",{"_68":69},"diagram",{"_13":68,"_70":71,"_72":73,"_74":75},"code","const HORSE_SVG = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"41.97 41.8 200.06 187.89\"><path fill=\"currentColor\" d=\"M42.1 80.5c1 1.1 1.4 4.7 4 6.6s5.2 2.4 5.8.6c.6-1.7 8.1-4.8 13.7-5.3 5.7-.5 6.8-1.2 8.8-2.5s2.5-.4 4.4 1.5 1.6 14.8 2 21.1c.3 6.3 4.6 16.9 4.6 16.9s2.4 7.6.9 14.8c-1.5 7.1 9.3 12.6 8.8 16.1-.6 3.5 5.2 12.7 5.3 16.6s2.6 20.5 3.6 23.3.9 12.7.7 15.6-1.7 7.3-3.2 9c-1.5 1.6-2.7 3.9-3.9 5.6-1.3 1.6-3.1 4.2-3.1 4.2 8.2 2 10.9-1.1 12.4-2.8s2.4-3 2.4-4.5c-.1-1.5-2-1.7-.7-3.6s2.7-2.6 3.5-4.4-1.2-18 .6-21.6 1.7-9.5 2.1-16.2 2-18.4 2-18.4c4 3.6 33.5.9 40.4.2 7-.7 16.5-5 19-4.7s3.3 3.1 4.4 3.5c1.1.3 4.2-1.6 4.2-1.6s5.6 6.7 6.3 8.9 7.5 15.4 7.9 19.8 2.9 9.7 3.8 13.7-3.2 19.6-4.1 22.8c-.9 3.1-3.1 5-4.5 5.9-1.3.9-3.9 5.4-4.9 6.7-1 1.2 8.5 2.4 11.8 0s.8-5.2.4-6c-.4-.9 1.5-2.9 2.7-3.7 1.3-.8 2.7-1.7 2.4-4.6-.2-2.8 3.1-23.9 5.2-29.7s-.2-6.7-1.2-7.9c-.9-1.3-2.8-9.3-2.8-9.3s8.9 9.7 9.3 13.4c.4 3.8 3.8 6.7 5.3 9s3 16.8 3.3 21.8c.3 4.9-1.2 7.5-2 8.7-.9 1.3-1.2 2.8-1.2 2.8l-3.5 4.6s7.9 1.7 10.2.5c2.4-1.3 3.1-4.2 1.3-6.3-1.8-2-1-3.8 1.5-6.6s-3.1-25.4-3.1-27.6c-.1-2.1 2.2-4.6 6.4-15.7s5.7-23 6.7-44.7-21-26.5-25.2-26.6-11.7 1.2-11.7 1.2c-5.7-2.8-25.7-4.5-37.1-.3s-25.1 2.5-35.6-.5c-10.4-3.1-20.7-27.6-31.6-38.7-11.1-11.5-26.4-13.8-26.4-13.8-1.1-3.8-3.5-4.8-3.5-4.8.3 2-.1 3.6-.1 3.6-1.7-.9-3.6-5.3-3.6-5.3-1.4 1.9.3 8.8.3 8.8s-1.3 1.4-4.9 3.5-9 16.1-12.3 18.1c-3.1 1.9-9.3 7.2-8.2 8.3zm174.2 61.1c1.2-2.1 2.9-14.4 3.5-19 .1-.9.1-4.4.3-5.6.4-1.9.4 1.2.4 2-.3 4.4-1.1 19.7-.6 23.1.6 4.1 4.4 20.2.4 25 0 0-4.8-8.3-5-11.1-.3-2.7-.4-12 1-14.4z\"/><path fill=\"currentColor\" d=\"M216.3 177s-1.9 6.1-1.5 9.5c.4 3.5 3.1 10.3 2.7 13 0 0 6.1-5.7 8-12.1\"/></svg>`\n\nfunction mount({ api, props }) {\n  const { stage } = props;\n\n  const containerElem = document.querySelector('#container');\n\n  const showHorizontalGroupings = ['stage-1', 'stage-2', 'stage-3'].includes(stage);\n  const showFirstRanking = ['stage-2'].includes(stage);\n  const createLabel = (() => {\n    if (stage === 'stage-1') {\n      return ({ x }) => {\n        return `${['1st', '2nd', '3rd', '4th', '5th'][x]}`;\n      };\n    } else if (['stage-2', 'stage-3'].includes(stage)) {\n      return ({ x, y }) => {\n        return `${['A', 'B', 'C', 'D', 'E'][y]}${x + 1}`;\n      };\n    }\n  })();\n  const shouldBeTranslucent = (() => {\n    if (stage === 'stage-3') {\n      return ({ x, y }) => {\n        return x + y >= 3;\n      };\n    } else {\n      return () => false;\n    }\n  })();\n\n  for (let x = 0; x < 5; x++) {\n    for (let y = 0; y < 5; y++) {\n      const horseContainerElem = document.createElement('div');\n      horseContainerElem.className = api.css(`flex justify-center items-center flex-col col-start-${x + 1} row-start-${y + 1} p-2`);\n\n      const horseElem = document.createElement('div');\n      // horseElem.src = horseImageSrc;\n      horseElem.innerHTML = HORSE_SVG;\n      horseElem.className = api.css('flex w-full');\n      if (shouldBeTranslucent({ x, y })) {\n        horseElem.classList.add(api.css('opacity-20'))\n      }\n      horseContainerElem.append(horseElem);\n\n      if (createLabel) {\n        const labelElem = document.createElement('div');\n        labelElem.textContent = createLabel({ x, y });\n        labelElem.className = api.css('flex justify-center items-center');\n        horseContainerElem.append(labelElem);\n      }\n\n      containerElem.append(horseContainerElem);\n      console.log(horseContainerElem);\n    }\n  }\n\n  if (showHorizontalGroupings) {\n    for (let y = 0; y < 5; y++) {\n      const groupElem = document.createElement('div');\n      groupElem.className = api.css(`p-1 col-start-1 col-span-full row-start-${y + 1} border border-2 rounded-lg`);\n      containerElem.append(groupElem);\n    }\n  }\n\n  if (showFirstRanking) {\n      const groupContainerElem = document.createElement('div');\n      groupContainerElem.className = api.css('row-start-1 row-span-full col-start-1 p-1');\n      const groupElem = document.createElement('div');\n      groupElem.className = api.css('w-full h-full border border-2 rounded-lg');\n      groupContainerElem.append(groupElem);\n      containerElem.append(groupContainerElem);\n  }\n\n\n}","layout","<div id=\"container\" class=\"grid grid-cols-5 grid-rows-5 gap-4 max-w-[500px] m-auto p-1\"></div>","startLine",77]
