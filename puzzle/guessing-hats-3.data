[{"_1":2},"routes/puzzle-detail",{"_3":4},"data",{"_5":6,"_7":8,"_9":10},"status","success","slug","guessing-hats-3","puzzle",{"_7":8,"_11":12,"_40":41,"_42":43,"_44":45,"_46":47},"metadata",{"_13":14,"_15":16,"_17":18,"_19":22,"_25":26,"_28":29,"_30":31,"_32":33,"_34":33,"_35":36,"_37":38,"_39":38},"id","puzzle-41","title","Guessing Hats 3","difficulty",{"_19":20,"_21":20},"concepts","medium","reasoning",[23,24],"logic","parity","tags",[27],"has-solution","previousPuzzle","guessing-hats-2","credit","Classic logic puzzle. Question and solution written by Puzzlestone Peak.","dateCreated","2026-02-02","lastUpdated","questionPreview","3 wise men must simultaneously guess or pass on their hat colour. What strategy maximises the group’s chance of survival?","preview","The king’s challenges are growing crueller. This time, three wise men stand in a room, each wearing either a black or white hat chosen at random by a coin...","websitePreview","content","<p>The king’s challenges are growing crueller. This time, three wise men stand in a room, each wearing either a black or white hat chosen at random by a coin flip. Each wise man can see the other two hats, but not their own.</p>\n<p>There is no sequential questioning this time. All three wise men must act at the same moment: each one either guesses their own hat colour or passes. No communication is allowed once the hats are placed — no words, no gestures, no signals of any kind.</p>\n<p>The wise men survive if at least one of them guesses correctly and nobody guesses incorrectly. If anyone guesses wrong, they all die. If everyone passes, they all die.</p>\n<p>The night before, the wise men can agree on a strategy. What strategy maximises their probability of survival?</p>\n<details class=\"content-block hint-block\" data-type=\"hint\"><summary class=\"hint-label\">Naive strategy 1</summary><div class=\"hint-content markdown-content prose max-w-none px-4 py-4 space-y-4\"><p>Let’s start with a naive strategy: everyone guesses randomly. What’s the chance of them surviving?</p><details class=\"content-block solution-block\" data-type=\"solution\"><summary class=\"solution-label\">Solution</summary><div class=\"solution-content markdown-content prose max-w-none px-4 py-4 space-y-4\"><p>If everyone guesses, then all 3 wise men would have to guess their hat colour correctly. This is a 50% chance per wise man, resulting in a probability of <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mo>(</mo><mn>1</mn><mi>/</mi><mn>2</mn><msup><mo>)</mo><mn>3</mn></msup><mo>=</mo><mn>12.5</mn><mi>%</mi></mrow><annotation>(1/2)^3 = 12.5\\%</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1/2</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8056em;vertical-align:-0.0556em;\"></span><span class=\"mord\">12.5%</span></span></span></span>.</p><p>Thankfully, we can do better.</p></div></details></div></details>\n<details class=\"content-block hint-block\" data-type=\"hint\"><summary class=\"hint-label\">Naive strategy 2</summary><div class=\"hint-content markdown-content prose max-w-none px-4 py-4 space-y-4\"><p>Let’s try another strategy: one person is designated to guess. What’s the chance of them surviving?</p><details class=\"content-block solution-block\" data-type=\"solution\"><summary class=\"solution-label\">Solution</summary><div class=\"solution-content markdown-content prose max-w-none px-4 py-4 space-y-4\"><p>This is reduced to a coin-flip: the guesser would have a 50% chance to get his hat colour correctly.</p><p>Thankfully, we can <em>still</em> do better.</p></div></details></div></details>\n<details class=\"content-block hint-block\" data-type=\"hint\"><summary class=\"hint-label\">Hint</summary><div class=\"hint-content markdown-content prose max-w-none px-4 py-4 space-y-4\"><p>Unfortunately, there isn’t a way to achieve a 100% chance of survival.</p></div></details>\n<details class=\"content-block hint-block\" data-type=\"hint\"><summary class=\"hint-label\">Hint</summary><div class=\"hint-content markdown-content prose max-w-none px-4 py-4 space-y-4\"><p>There are 8 equally likely hat configurations. Can you design a strategy where the group only loses on a small number of them?</p><details class=\"content-block hint-block\" data-type=\"hint\"><summary class=\"hint-label\">Hint</summary><div class=\"hint-content markdown-content prose max-w-none px-4 py-4 space-y-4\"><p>Hmm... it seems that in 6 of the 8 possible hat configurations, there’s always a hat that’s a different colour from the other 2. I wonder if we can do something with it.</p></div></details></div></details>\n<details class=\"content-block solution-block\" data-type=\"solution\"><summary class=\"solution-label\">Solution</summary><div class=\"solution-content markdown-content prose max-w-none px-4 py-4 space-y-4\"><p>The group can achieve a 75% survival rate.</p><p>The strategy: each wise man looks at the other two hats. If both hats are the same colour, guess the opposite colour. If the two hats are different colours, pass.</p><p>Let’s work through why this achieves 75%. There are <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mn>2</mn><mn>3</mn></msup><mo>=</mo><mn>8</mn></mrow><annotation>2^3 = 8</annotation></semantics></math></span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">8</span></span></span></span> equally likely hat configurations. We can list them all, writing B for black and W for white:</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<table><thead><tr><th>P1</th><th>P2</th><th>P3</th><th>What happens</th></tr></thead><tbody><tr><td>B</td><td>B</td><td>B</td><td>All three see two matching hats, all guess white. All wrong — group loses.</td></tr><tr><td>B</td><td>B</td><td>W</td><td>P3 sees BB, guesses white — correct. P1 and P2 see one of each, both pass. Group wins.</td></tr><tr><td>B</td><td>W</td><td>B</td><td>P2 sees BB, guesses white — correct. P1 and P3 pass. Group wins.</td></tr><tr><td>W</td><td>B</td><td>B</td><td>P1 sees BB, guesses white — correct. P2 and P3 pass. Group wins.</td></tr><tr><td>W</td><td>W</td><td>B</td><td>P3 sees WW, guesses black — correct. P1 and P2 pass. Group wins.</td></tr><tr><td>W</td><td>B</td><td>W</td><td>P2 sees WW, guesses black — correct. P1 and P3 pass. Group wins.</td></tr><tr><td>B</td><td>W</td><td>W</td><td>P1 sees WW, guesses black — correct. P2 and P3 pass. Group wins.</td></tr><tr><td>W</td><td>W</td><td>W</td><td>All three see two matching hats, all guess black. All wrong — group loses.</td></tr></tbody></table><p>The group wins in 6 out of 8 cases: a 75% survival rate.</p><p>Notice the pattern: the strategy loses only when all three hats are the same colour. In every other configuration, exactly one wise man is the “odd one out” — their hat differs from the other two. That wise man sees two matching hats and correctly guesses the opposite. The other two wise men see mismatched hats and safely pass.</p></div></details>","rawContent","\nThe king’s challenges are growing crueller. This time, three wise men stand in a room, each wearing either a black or white hat chosen at random by a coin flip. Each wise man can see the other two hats, but not their own.\n\nThere is no sequential questioning this time. All three wise men must act at the same moment: each one either guesses their own hat colour or passes. No communication is allowed once the hats are placed — no words, no gestures, no signals of any kind.\n\nThe wise men survive if at least one of them guesses correctly and nobody guesses incorrectly. If anyone guesses wrong, they all die. If everyone passes, they all die.\n\nThe night before, the wise men can agree on a strategy. What strategy maximises their probability of survival?\n\n::::hint[Naive strategy 1]\nLet’s start with a naive strategy: everyone guesses randomly. What’s the chance of them surviving?\n\n:::solution\nIf everyone guesses, then all 3 wise men would have to guess their hat colour correctly. This is a 50% chance per wise man, resulting in a probability of $(1/2)^3 = 12.5\\%$.\n\nThankfully, we can do better.\n:::\n::::\n\n::::hint[Naive strategy 2]\nLet’s try another strategy: one person is designated to guess. What’s the chance of them surviving?\n\n:::solution\nThis is reduced to a coin-flip: the guesser would have a 50% chance to get his hat colour correctly.\n\nThankfully, we can *still* do better.\n:::\n::::\n\n:::hint\nUnfortunately, there isn’t a way to achieve a 100% chance of survival.\n:::\n\n::::hint\nThere are 8 equally likely hat configurations. Can you design a strategy where the group only loses on a small number of them?\n\n:::hint\nHmm... it seems that in 6 of the 8 possible hat configurations, there’s always a hat that’s a different colour from the other 2. I wonder if we can do something with it.\n:::\n::::\n\n:::solution\nThe group can achieve a 75% survival rate.\n\nThe strategy: each wise man looks at the other two hats. If both hats are the same colour, guess the opposite colour. If the two hats are different colours, pass.\n\nLet’s work through why this achieves 75%. There are $2^3 = 8$ equally likely hat configurations. We can list them all, writing B for black and W for white:\n\n| P1 | P2 | P3 | What happens |\n|---|---|---|---|\n| B | B | B | All three see two matching hats, all guess white. All wrong — group loses. |\n| B | B | W | P3 sees BB, guesses white — correct. P1 and P2 see one of each, both pass. Group wins. |\n| B | W | B | P2 sees BB, guesses white — correct. P1 and P3 pass. Group wins. |\n| W | B | B | P1 sees BB, guesses white — correct. P2 and P3 pass. Group wins. |\n| W | W | B | P3 sees WW, guesses black — correct. P1 and P2 pass. Group wins. |\n| W | B | W | P2 sees WW, guesses black — correct. P1 and P3 pass. Group wins. |\n| B | W | W | P1 sees WW, guesses black — correct. P2 and P3 pass. Group wins. |\n| W | W | W | All three see two matching hats, all guess black. All wrong — group loses. |\n\nThe group wins in 6 out of 8 cases: a 75% survival rate.\n\nNotice the pattern: the strategy loses only when all three hats are the same colour. In every other configuration, exactly one wise man is the “odd one out” — their hat differs from the other two. That wise man sees two matching hats and correctly guesses the opposite. The other two wise men see mismatched hats and safely pass.\n:::\n","dynamicBlocks",[],"inlineComponents",{}]
