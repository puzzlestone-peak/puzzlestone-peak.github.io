[{"_1":2},"routes/puzzle-detail",{"_3":4},"data",{"_5":6,"_7":8,"_9":10},"status","success","slug","equal-shape-cutting-3","puzzle",{"_7":8,"_11":12,"_37":38,"_39":40,"_41":42,"_63":64},"metadata",{"_13":14,"_15":16,"_17":18,"_19":20,"_22":23,"_25":26,"_27":28,"_29":28,"_30":31,"_32":33,"_34":35,"_36":35},"id","puzzle-draft-69","title","Equal Shape Cutting 3","difficulty","easy","concepts",[21],"geometry","tags",[24],"has-solution","credit","Classic geometry puzzle. Question and solution written by Puzzlestone Peak.","dateCreated","2026-02-02","lastUpdated","previousPuzzle","equal-shape-cutting-2","nextPuzzle","equal-shape-cutting-4","preview","Cut the trapezoid into 4 equal shapes of itself. The shapes can be rotated, but all 4 must be of the same size.","websitePreview","content","<div class=\"dynamic-block-placeholder\" data-dynamic-block-id=\"0\" data-mode=\"component\"><p class=\"text-muted-foreground text-sm\">[Interactive content: component mode]</p></div>\n<p>Cut the trapezoid into 4 equal shapes of itself. The shapes can be rotated, but all 4 must be of the same size.</p>\n<details class=\"content-block solution-block\" data-type=\"solution\"><summary class=\"solution-label\">Solution</summary><div class=\"solution-content markdown-content prose max-w-none px-4 py-4 space-y-4\"><div class=\"dynamic-block-placeholder\" data-dynamic-block-id=\"1\" data-mode=\"component\"><p class=\"text-muted-foreground text-sm\">[Interactive content: component mode]</p></div><p>You can visualize the solution by dividing the trapezoid into triangles:</p><div class=\"dynamic-block-placeholder\" data-dynamic-block-id=\"2\" data-mode=\"component\"><p class=\"text-muted-foreground text-sm\">[Interactive content: component mode]</p></div></div></details>\n<div class=\"inline-component-definition\" style=\"display: none;\"></div>","rawContent","\n:::dynamic\n```yaml\ntitle: \"Trapezoid\"\nuse: '#trapezoid-diagram'\nprops:\n  mode: puzzle\n```\n:::\n\nCut the trapezoid into 4 equal shapes of itself. The shapes can be rotated, but all 4 must be of the same size.\n\n::::solution\n\n:::dynamic\n```yaml\ntitle: \"Four trapezoid regions highlighted\"\nuse: '#trapezoid-diagram'\nprops:\n  mode: solution\n```\n:::\n\nYou can visualize the solution by dividing the trapezoid into triangles:\n\n:::dynamic\n```yaml\ntitle: \"Trapezoid triangle structure\"\nuse: '#trapezoid-diagram'\nprops:\n  mode: guides\n```\n:::\n\n::::\n\n\n:::component[trapezoid-diagram]\n```js\nfunction draw(options) {\n  const { canvas, api, theme, width, props } = options;\n  const ctx = canvas.getContext('2d');\n\n  const lineWidth = 2;\n  const guideLineWidth = 0.5;\n  const solutionLineWidth = 4;\n  const padding = 20;\n  const maxSize = 400;\n  const imageSize = Math.min(width, maxSize);\n\n  // Mode: 'puzzle', 'guides', or 'solution'\n  const mode = props?.mode || 'puzzle';\n\n  // Calculate trapezoid dimensions\n  const triangleSize = imageSize / 4;\n  const triangleHeight = triangleSize * Math.sqrt(3) / 2;\n  const trapezoidHeight = 2 * triangleHeight;\n\n  canvas.width = imageSize;\n  canvas.height = trapezoidHeight + 2 * padding;\n\n  // Get colors\n  const foregroundColor = api.getColor('foreground');\n  const primaryColor = api.getColor('primary');\n\n  // Clear canvas\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n  // Helper function to draw all triangles\n  const drawTriangles = (strokeWidth) => {\n    ctx.strokeStyle = foregroundColor;\n    ctx.lineWidth = strokeWidth;\n    ctx.lineCap = 'round';\n    ctx.lineJoin = 'round';\n\n    // Top row: 5 triangles starting at triangleSize (offset by 1 triangle width from trapezoid left edge)\n    // Pattern: upright, inverted, upright, inverted, upright\n    const topY = padding;\n\n    for (let i = 0; i < 5; i++) {\n      const x = triangleSize + i * (triangleSize / 2);\n      ctx.beginPath();\n      if (i % 2 === 0) {\n        // Upright equilateral triangle\n        ctx.moveTo(x, topY);\n        ctx.lineTo(x + triangleSize / 2, topY + triangleHeight);\n        ctx.lineTo(x - triangleSize / 2, topY + triangleHeight);\n      } else {\n        // Inverted equilateral triangle\n        ctx.moveTo(x - triangleSize / 2, topY);\n        ctx.lineTo(x + triangleSize / 2, topY);\n        ctx.lineTo(x, topY + triangleHeight);\n      }\n      ctx.closePath();\n      ctx.stroke();\n    }\n\n    // Bottom row: 7 triangles starting at 0\n    // Pattern: upright, inverted, upright, inverted, upright, inverted, upright\n    const bottomY = padding + triangleHeight;\n\n    for (let i = 0; i < 7; i++) {\n      const x = triangleSize / 2 + i * (triangleSize / 2);\n      ctx.beginPath();\n      if (i % 2 === 0) {\n        // Upright equilateral triangle\n        ctx.moveTo(x, bottomY);\n        ctx.lineTo(x + triangleSize / 2, bottomY + triangleHeight);\n        ctx.lineTo(x - triangleSize / 2, bottomY + triangleHeight);\n      } else {\n        // Inverted equilateral triangle\n        ctx.moveTo(x - triangleSize / 2, bottomY);\n        ctx.lineTo(x + triangleSize / 2, bottomY);\n        ctx.lineTo(x, bottomY + triangleHeight);\n      }\n      ctx.closePath();\n      ctx.stroke();\n    }\n  };\n\n  // Helper function to draw trapezoid outline\n  const drawOutline = () => {\n    const topLeft = triangleSize;\n    const topRight = triangleSize + 2 * triangleSize;\n    const bottomLeft = 0;\n    const bottomRight = imageSize;\n    const topY = padding;\n    const bottomY = padding + trapezoidHeight;\n\n    ctx.beginPath();\n    ctx.moveTo(topLeft, topY);\n    ctx.lineTo(topRight, topY);\n    ctx.lineTo(bottomRight, bottomY);\n    ctx.lineTo(bottomLeft, bottomY);\n    ctx.closePath();\n    ctx.strokeStyle = foregroundColor;\n    ctx.lineWidth = lineWidth;\n    ctx.lineCap = 'round';\n    ctx.lineJoin = 'round';\n    ctx.stroke();\n  };\n\n  // Helper function to draw solution groupings\n  const drawSolutionGroupings = () => {\n    ctx.strokeStyle = primaryColor;\n    ctx.lineWidth = solutionLineWidth;\n    ctx.lineCap = 'butt';\n    ctx.lineJoin = 'miter';\n\n    const ts = triangleSize;\n    const row0 = padding;\n    const row1 = padding + triangleHeight;\n    const row2 = padding + trapezoidHeight;\n\n    ctx.beginPath();\n\n    // Line 1: diagonal from (ts, row0) to (1.5*ts, row1)\n    ctx.moveTo(ts, row0);\n    ctx.lineTo(1.5 * ts, row1);\n\n    // Line 2: horizontal from (1.5*ts, row1) to (2.5*ts, row1)\n    ctx.moveTo(1.5 * ts, row1);\n    ctx.lineTo(2.5 * ts, row1);\n\n    // Line 3: diagonal from (2.5*ts, row1) to (3*ts, row0)\n    ctx.moveTo(2.5 * ts, row1);\n    ctx.lineTo(3 * ts, row0);\n\n    // Line 4: diagonal from (ts, row2) to (1.5*ts, row1)\n    ctx.moveTo(ts, row2);\n    ctx.lineTo(1.5 * ts, row1);\n\n    // Line 5: diagonal from (2.5*ts, row1) to (3*ts, row2)\n    ctx.moveTo(2.5 * ts, row1);\n    ctx.lineTo(3 * ts, row2);\n\n    ctx.stroke();\n  };\n\n  // Mode-based rendering\n  if (mode === 'puzzle') {\n    // Draw only trapezoid outline\n    drawOutline();\n  } else if (mode === 'guides') {\n    // Draw all triangles with guide lines + solution cuts + outline on top\n    drawTriangles(guideLineWidth);\n    drawSolutionGroupings();\n    drawOutline();\n  } else if (mode === 'solution') {\n    // Draw solution groupings + outline on top\n    drawSolutionGroupings();\n    drawOutline();\n  }\n}\n```\n:::\n","dynamicBlocks",[43,55,59],{"_44":45,"_46":47,"_48":49,"_50":51,"_15":52,"_53":54},"type","dynamic","mode","component","componentId","#trapezoid-diagram","props",{"_46":9},"Trapezoid","sourceFile","/home/runner/work/puzzlestone-peak/puzzlestone-peak/apps/web/content/puzzles/geometry/equal-shape-cutting/equal-shape-cutting-3.md",{"_44":45,"_46":47,"_48":49,"_50":56,"_15":58,"_53":54},{"_46":57},"solution","Four trapezoid regions highlighted",{"_44":45,"_46":47,"_48":49,"_50":60,"_15":62,"_53":54},{"_46":61},"guides","Trapezoid triangle structure","inlineComponents",{"_65":66},"trapezoid-diagram",{"_13":65,"_67":68,"_69":70},"code","function draw(options) {\n  const { canvas, api, theme, width, props } = options;\n  const ctx = canvas.getContext('2d');\n\n  const lineWidth = 2;\n  const guideLineWidth = 0.5;\n  const solutionLineWidth = 4;\n  const padding = 20;\n  const maxSize = 400;\n  const imageSize = Math.min(width, maxSize);\n\n  // Mode: 'puzzle', 'guides', or 'solution'\n  const mode = props?.mode || 'puzzle';\n\n  // Calculate trapezoid dimensions\n  const triangleSize = imageSize / 4;\n  const triangleHeight = triangleSize * Math.sqrt(3) / 2;\n  const trapezoidHeight = 2 * triangleHeight;\n\n  canvas.width = imageSize;\n  canvas.height = trapezoidHeight + 2 * padding;\n\n  // Get colors\n  const foregroundColor = api.getColor('foreground');\n  const primaryColor = api.getColor('primary');\n\n  // Clear canvas\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n  // Helper function to draw all triangles\n  const drawTriangles = (strokeWidth) => {\n    ctx.strokeStyle = foregroundColor;\n    ctx.lineWidth = strokeWidth;\n    ctx.lineCap = 'round';\n    ctx.lineJoin = 'round';\n\n    // Top row: 5 triangles starting at triangleSize (offset by 1 triangle width from trapezoid left edge)\n    // Pattern: upright, inverted, upright, inverted, upright\n    const topY = padding;\n\n    for (let i = 0; i < 5; i++) {\n      const x = triangleSize + i * (triangleSize / 2);\n      ctx.beginPath();\n      if (i % 2 === 0) {\n        // Upright equilateral triangle\n        ctx.moveTo(x, topY);\n        ctx.lineTo(x + triangleSize / 2, topY + triangleHeight);\n        ctx.lineTo(x - triangleSize / 2, topY + triangleHeight);\n      } else {\n        // Inverted equilateral triangle\n        ctx.moveTo(x - triangleSize / 2, topY);\n        ctx.lineTo(x + triangleSize / 2, topY);\n        ctx.lineTo(x, topY + triangleHeight);\n      }\n      ctx.closePath();\n      ctx.stroke();\n    }\n\n    // Bottom row: 7 triangles starting at 0\n    // Pattern: upright, inverted, upright, inverted, upright, inverted, upright\n    const bottomY = padding + triangleHeight;\n\n    for (let i = 0; i < 7; i++) {\n      const x = triangleSize / 2 + i * (triangleSize / 2);\n      ctx.beginPath();\n      if (i % 2 === 0) {\n        // Upright equilateral triangle\n        ctx.moveTo(x, bottomY);\n        ctx.lineTo(x + triangleSize / 2, bottomY + triangleHeight);\n        ctx.lineTo(x - triangleSize / 2, bottomY + triangleHeight);\n      } else {\n        // Inverted equilateral triangle\n        ctx.moveTo(x - triangleSize / 2, bottomY);\n        ctx.lineTo(x + triangleSize / 2, bottomY);\n        ctx.lineTo(x, bottomY + triangleHeight);\n      }\n      ctx.closePath();\n      ctx.stroke();\n    }\n  };\n\n  // Helper function to draw trapezoid outline\n  const drawOutline = () => {\n    const topLeft = triangleSize;\n    const topRight = triangleSize + 2 * triangleSize;\n    const bottomLeft = 0;\n    const bottomRight = imageSize;\n    const topY = padding;\n    const bottomY = padding + trapezoidHeight;\n\n    ctx.beginPath();\n    ctx.moveTo(topLeft, topY);\n    ctx.lineTo(topRight, topY);\n    ctx.lineTo(bottomRight, bottomY);\n    ctx.lineTo(bottomLeft, bottomY);\n    ctx.closePath();\n    ctx.strokeStyle = foregroundColor;\n    ctx.lineWidth = lineWidth;\n    ctx.lineCap = 'round';\n    ctx.lineJoin = 'round';\n    ctx.stroke();\n  };\n\n  // Helper function to draw solution groupings\n  const drawSolutionGroupings = () => {\n    ctx.strokeStyle = primaryColor;\n    ctx.lineWidth = solutionLineWidth;\n    ctx.lineCap = 'butt';\n    ctx.lineJoin = 'miter';\n\n    const ts = triangleSize;\n    const row0 = padding;\n    const row1 = padding + triangleHeight;\n    const row2 = padding + trapezoidHeight;\n\n    ctx.beginPath();\n\n    // Line 1: diagonal from (ts, row0) to (1.5*ts, row1)\n    ctx.moveTo(ts, row0);\n    ctx.lineTo(1.5 * ts, row1);\n\n    // Line 2: horizontal from (1.5*ts, row1) to (2.5*ts, row1)\n    ctx.moveTo(1.5 * ts, row1);\n    ctx.lineTo(2.5 * ts, row1);\n\n    // Line 3: diagonal from (2.5*ts, row1) to (3*ts, row0)\n    ctx.moveTo(2.5 * ts, row1);\n    ctx.lineTo(3 * ts, row0);\n\n    // Line 4: diagonal from (ts, row2) to (1.5*ts, row1)\n    ctx.moveTo(ts, row2);\n    ctx.lineTo(1.5 * ts, row1);\n\n    // Line 5: diagonal from (2.5*ts, row1) to (3*ts, row2)\n    ctx.moveTo(2.5 * ts, row1);\n    ctx.lineTo(3 * ts, row2);\n\n    ctx.stroke();\n  };\n\n  // Mode-based rendering\n  if (mode === 'puzzle') {\n    // Draw only trapezoid outline\n    drawOutline();\n  } else if (mode === 'guides') {\n    // Draw all triangles with guide lines + solution cuts + outline on top\n    drawTriangles(guideLineWidth);\n    drawSolutionGroupings();\n    drawOutline();\n  } else if (mode === 'solution') {\n    // Draw solution groupings + outline on top\n    drawSolutionGroupings();\n    drawOutline();\n  }\n}","startLine",54]
