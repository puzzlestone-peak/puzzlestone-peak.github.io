const s={slug:"poisoned-wine-extension",metadata:{id:"puzzle-54",title:"Poisoned Wine (Extension)",difficulty:"medium",concepts:["binary","encoding"],tags:["has-solution"],previousPuzzle:"poisoned-wine",credit:"Classic puzzle. Question and solution written by Puzzlestone Peak.",dateCreated:"2026-02-03",lastUpdated:"2026-02-03",preview:"Before the king gets to administer the bottles of wine to the prisoners, an advisor stops him. He says that if more than 8 prisoners die, the townspeople might...",websitePreview:"Before the king gets to administer the bottles of wine to the prisoners, an advisor stops him. He says that if more than 8 prisoners die, the townspeople might..."},content:`<p>Before the king gets to administer the bottles of wine to the prisoners, an advisor stops him. He says that if more than 8 prisoners die, the townspeople might get angry and revolt. How can the king administer the wine so that no more than 8 prisoners die?</p>
<details class="content-block hint-block" data-type="hint"><summary class="hint-label">Hint</summary><div class="hint-content markdown-content prose max-w-none px-4 py-4 space-y-4"><p>You still need 10 prisoners. Look at the binary representations that would cause 9 or 10 prisoners to die.</p></div></details>
<details class="content-block solution-block" data-type="solution"><summary class="solution-label">Solution</summary><div class="solution-content markdown-content prose max-w-none px-4 py-4 space-y-4"><p><strong>Answer</strong>: Relabel certain bottles to avoid binary numbers with 9 or 10 ones.</p><p>From the previous puzzle, we know that a minimum of 10 prisoners are needed to find the poisoned bottle. But let’s notice the following 10-digit binary numbers.</p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable><mtr><mtd><msub><mn>0111111111</mn><mn>2</mn></msub></mtd><mtd><mrow><mrow></mrow><mo>=</mo><mn>511</mn></mrow></mtd></mtr><mtr><mtd><msub><mn>1011111111</mn><mn>2</mn></msub></mtd><mtd><mrow><mrow></mrow><mo>=</mo><mn>767</mn></mrow></mtd></mtr><mtr><mtd><msub><mn>1101111111</mn><mn>2</mn></msub></mtd><mtd><mrow><mrow></mrow><mo>=</mo><mn>895</mn></mrow></mtd></mtr><mtr><mtd><msub><mn>1110111111</mn><mn>2</mn></msub></mtd><mtd><mrow><mrow></mrow><mo>=</mo><mn>959</mn></mrow></mtd></mtr><mtr><mtd><msub><mn>1111011111</mn><mn>2</mn></msub></mtd><mtd><mrow><mrow></mrow><mo>=</mo><mn>991</mn></mrow></mtd></mtr><mtr><mtd><msub><mn>1111101111</mn><mn>2</mn></msub></mtd><mtd><mrow><mrow></mrow><mo>=</mo><mn>1007</mn></mrow></mtd></mtr><mtr><mtd><msub><mn>1111110111</mn><mn>2</mn></msub></mtd><mtd><mrow><mrow></mrow><mo>=</mo><mn>1015</mn></mrow></mtd></mtr><mtr><mtd><msub><mn>1111111011</mn><mn>2</mn></msub></mtd><mtd><mrow><mrow></mrow><mo>=</mo><mn>1019</mn></mrow></mtd></mtr><mtr><mtd><msub><mn>1111111101</mn><mn>2</mn></msub></mtd><mtd><mrow><mrow></mrow><mo>=</mo><mn>1021</mn></mrow></mtd></mtr><mtr><mtd><msub><mn>1111111110</mn><mn>2</mn></msub></mtd><mtd><mrow><mrow></mrow><mo>=</mo><mn>1022</mn></mrow></mtd></mtr><mtr><mtd><msub><mn>1111111111</mn><mn>2</mn></msub></mtd><mtd><mrow><mrow></mrow><mo>=</mo><mn>1023</mn></mrow></mtd></mtr></mtable><annotation>\\begin{aligned}
0111111111_2 &#x26;= 511 \\\\
1011111111_2 &#x26;= 767 \\\\
1101111111_2 &#x26;= 895 \\\\
1110111111_2 &#x26;= 959 \\\\
1111011111_2 &#x26;= 991 \\\\
1111101111_2 &#x26;= 1007 \\\\
1111110111_2 &#x26;= 1015 \\\\
1111111011_2 &#x26;= 1019 \\\\
1111111101_2 &#x26;= 1021 \\\\
1111111110_2 &#x26;= 1022 \\\\
1111111111_2 &#x26;= 1023
\\end{aligned}</annotation></semantics></math></span><span class="katex-html"><span class="base"><span class="strut" style="height:16.5em;vertical-align:-8em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:8.5em;"><span style="top:-10.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">011111111</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-9.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">101111111</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-7.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">110111111</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-6.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">111011111</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-4.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">111101111</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">111110111</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">111111011</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-0.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">111111101</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:1.34em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">111111110</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:2.84em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">111111111</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:4.34em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">111111111</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:8em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:8.5em;"><span style="top:-10.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">511</span></span></span><span style="top:-9.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">767</span></span></span><span style="top:-7.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">895</span></span></span><span style="top:-6.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">959</span></span></span><span style="top:-4.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">991</span></span></span><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1007</span></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1015</span></span></span><span style="top:-0.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1019</span></span></span><span style="top:1.34em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1021</span></span></span><span style="top:2.84em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1022</span></span></span><span style="top:4.34em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1023</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:8em;"><span></span></span></span></span></span></span></span></span></span></span></span><p>These are the only bottles of wine that are fed to 9 or 10 prisoners: 10 of these numbers would require that the corresponding bottle be administered to 9 prisoners, and 1 number requires all 10 prisoners.</p><p>Only 5 of our bottles (511, 767, 895, 959, and 991) are affected by this, so we can relabel them to another number that doesn’t break our new rule. A simple relabelling would be:<br>
511 → 1001 (1111101001)<br>
767 → 1002 (1111101010)<br>
895 → 1003 (1111101011)<br>
959 → 1004 (1111101100)
991 → 1005 (1111101101)</p><p>With this new strategy, the king can find the poisoned bottle, with at most 8 prisoners dying.</p></div></details>`,rawContent:`
Before the king gets to administer the bottles of wine to the prisoners, an advisor stops him. He says that if more than 8 prisoners die, the townspeople might get angry and revolt. How can the king administer the wine so that no more than 8 prisoners die?

:::hint
You still need 10 prisoners. Look at the binary representations that would cause 9 or 10 prisoners to die.
:::

:::solution
**Answer**: Relabel certain bottles to avoid binary numbers with 9 or 10 ones.

From the previous puzzle, we know that a minimum of 10 prisoners are needed to find the poisoned bottle. But let’s notice the following 10-digit binary numbers.

$$
\\begin{aligned}
0111111111_2 &= 511 \\\\
1011111111_2 &= 767 \\\\
1101111111_2 &= 895 \\\\
1110111111_2 &= 959 \\\\
1111011111_2 &= 991 \\\\
1111101111_2 &= 1007 \\\\
1111110111_2 &= 1015 \\\\
1111111011_2 &= 1019 \\\\
1111111101_2 &= 1021 \\\\
1111111110_2 &= 1022 \\\\
1111111111_2 &= 1023
\\end{aligned}
$$

These are the only bottles of wine that are fed to 9 or 10 prisoners: 10 of these numbers would require that the corresponding bottle be administered to 9 prisoners, and 1 number requires all 10 prisoners.

Only 5 of our bottles (511, 767, 895, 959, and 991\\) are affected by this, so we can relabel them to another number that doesn’t break our new rule. A simple relabelling would be:  
511 → 1001 (1111101001)  
767 → 1002 (1111101010)  
895 → 1003 (1111101011)  
959 → 1004 (1111101100)
991 → 1005 (1111101101)

With this new strategy, the king can find the poisoned bottle, with at most 8 prisoners dying.
:::
`,dynamicBlocks:[],inlineComponents:{}};export{s as default};
