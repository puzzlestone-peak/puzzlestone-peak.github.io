import{b as Et,t as O,C as _n,w as In,z as Tn,L as be}from"./index-BdwX92X6.js";import{u as Ln,C as we,M as vn}from"./useBack-B_Vf79Bw.js";import{u as Pn,I as Xe,n as Fn,o as Dn}from"./ItemCardList-DvmhThDx.js";import{puzzleIndex as te}from"./puzzleIndex-mVLt7SRB.js";import{R as ze}from"./createLucideIcon-DsSOLlez.js";import{r as Nn,g as Mn}from"./engine-CXIqnuIe.js";import"./use-dark-mode-CNQh-kvv.js";function On(t){const n=[{type:"exclude",excludeList:[t.currentPuzzleId,...t.excludeList??[]],always:!0},{type:"completion",status:"undone"},{type:"publication",mode:"auto"}],r=[{type:"difficulty",strategy:"spiral",preferredDifficulty:t.currentPuzzleDifficulty,allowRange:1,spiralOrder:["+1","+2","+3","+4","+5","-1","-2","-3","-4","-5"]},{type:"completion",allowCompleted:!0,respectExcludeList:!0}];return{count:t.count??3,filters:n,fallbacks:r,selectionStrategy:{type:"random",mode:"uniform"}}}function Rn({currentPuzzleId:t}){const e=Pn(),n=Et.useMemo(()=>{const i=te.find(a=>a.id===t)?.difficulty;if(!i)return console.warn(`Could not find difficulty for puzzle ${t}`),[];const u=On({currentPuzzleId:t,currentPuzzleDifficulty:i});return Nn(u,{allPuzzles:te,userProgress:e,excludeList:[],environment:"production",currentPuzzleDifficulty:i,seed:Mn(`puzzle-${t}`)})},[t,e]);return n.length===0?null:O.jsxs("section",{className:"mt-12",children:[O.jsx("h2",{className:"mb-6 text-xl font-bold text-foreground lg:text-2xl",children:"Try These Next"}),O.jsx(Xe,{type:"puzzle",items:n,variant:"compact"})]})}const Bn="modulepreload",Vn=function(t){return"/"+t},Se={},$=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let s=function(o){return Promise.all(o.map(c=>Promise.resolve(c).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=s(n.map(o=>{if(o=Vn(o),o in Se)return;Se[o]=!0;const c=o.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${f}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":Bn,c||(p.as="script"),p.crossOrigin="",p.href=o,l&&p.setAttribute("nonce",l),document.head.appendChild(p),c)return new Promise((h,S)=>{p.addEventListener("load",h),p.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${o}`)))})}))}function u(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&u(l.reason);return e().catch(u)})},qn=(t,e,n)=>{const r=t[e];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((i,u)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(u.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})};function Ee(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function jn({metadata:t}){return O.jsxs("div",{className:"space-y-4 border-b border-divider pb-6 mb-6",children:[O.jsx("div",{children:O.jsx(Fn,{difficulty:t.difficulty})}),O.jsxs("div",{className:"text-sm text-muted-foreground",children:[O.jsxs("span",{children:["Created: ",Ee(t.dateCreated)]}),t.lastUpdated!==t.dateCreated&&O.jsxs("span",{className:"ml-4",children:["Updated: ",Ee(t.lastUpdated)]})]}),t.credits&&O.jsx("div",{className:"text-sm text-muted-foreground prose prose-sm dark:prose-invert",children:O.jsx("div",{dangerouslySetInnerHTML:{__html:t.credits}})})]})}function Ce({type:t,puzzleSlug:e}){if(!e)return null;const n=te.find(i=>i.slug===e);if(!n)return null;const r=t==="previous"?"Previous puzzle in this series":"Next puzzle in this series";return O.jsxs("div",{className:"my-6",children:[O.jsx("h2",{className:"text-lg font-semibold mb-3",children:r}),O.jsx(Xe,{type:"puzzle",items:[n],variant:"compact"})]})}function Ae(t){if(t)throw t}var Mt,_e;function $n(){if(_e)return Mt;_e=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(o){return typeof Array.isArray=="function"?Array.isArray(o):e.call(o)==="[object Array]"},u=function(o){if(!o||e.call(o)!=="[object Object]")return!1;var c=t.call(o,"constructor"),f=o.constructor&&o.constructor.prototype&&t.call(o.constructor.prototype,"isPrototypeOf");if(o.constructor&&!c&&!f)return!1;var p;for(p in o);return typeof p>"u"||t.call(o,p)},a=function(o,c){n&&c.name==="__proto__"?n(o,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):o[c.name]=c.newValue},l=function(o,c){if(c==="__proto__")if(t.call(o,c)){if(r)return r(o,c).value}else return;return o[c]};return Mt=function s(){var o,c,f,p,h,S,g=arguments[0],E=1,w=arguments.length,z=!1;for(typeof g=="boolean"&&(z=g,g=arguments[1]||{},E=2),(g==null||typeof g!="object"&&typeof g!="function")&&(g={});E<w;++E)if(o=arguments[E],o!=null)for(c in o)f=l(g,c),p=l(o,c),g!==p&&(z&&p&&(u(p)||(h=i(p)))?(h?(h=!1,S=f&&i(f)?f:[]):S=f&&u(f)?f:{},a(g,{name:c,newValue:s(z,S,p)})):typeof p<"u"&&a(g,{name:c,newValue:p}));return g},Mt}var Hn=$n();const Ot=_n(Hn);function ee(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Un(){const t=[],e={run:n,use:r};return e;function n(...i){let u=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...i);function l(s,...o){const c=t[++u];let f=-1;if(s){a(s);return}for(;++f<i.length;)(o[f]===null||o[f]===void 0)&&(o[f]=i[f]);i=o,c?Qn(c,l)(...o):a(null,...o)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function Qn(t,e){let n;return r;function r(...a){const l=t.length>a.length;let s;l&&a.push(i);try{s=t.apply(this,a)}catch(o){const c=o;if(l&&n)throw c;return i(c)}l||(s&&s.then&&typeof s.then=="function"?s.then(u,i):s instanceof Error?i(s):u(s))}function i(a,...l){n||(n=!0,e(a,...l))}function u(a){i(null,a)}}function Ct(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Ie(t.position):"start"in t||"end"in t?Ie(t):"line"in t||"column"in t?ne(t):""}function ne(t){return Te(t&&t.line)+":"+Te(t&&t.column)}function Ie(t){return ne(t&&t.start)+"-"+ne(t&&t.end)}function Te(t){return t&&typeof t=="number"?t:1}class Z extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",u={},a=!1;if(n&&("line"in n&&"column"in n?u={place:n}:"start"in n&&"end"in n?u={place:n}:"type"in n?u={ancestors:[n],place:n.position}:u={...n}),typeof e=="string"?i=e:!u.cause&&e&&(a=!0,i=e.message,u.cause=e),!u.ruleId&&!u.source&&typeof r=="string"){const s=r.indexOf(":");s===-1?u.ruleId=r:(u.source=r.slice(0,s),u.ruleId=r.slice(s+1))}if(!u.place&&u.ancestors&&u.ancestors){const s=u.ancestors[u.ancestors.length-1];s&&(u.place=s.position)}const l=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=Ct(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=a&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Z.prototype.file="";Z.prototype.name="";Z.prototype.reason="";Z.prototype.message="";Z.prototype.stack="";Z.prototype.column=void 0;Z.prototype.line=void 0;Z.prototype.ancestors=void 0;Z.prototype.cause=void 0;Z.prototype.fatal=void 0;Z.prototype.place=void 0;Z.prototype.ruleId=void 0;Z.prototype.source=void 0;const rt={basename:Wn,dirname:Yn,extname:Zn,join:Gn,sep:"/"};function Wn(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Tt(t);let n=0,r=-1,i=t.length,u;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(u){n=i+1;break}}else r<0&&(u=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,l=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(u){n=i+1;break}}else a<0&&(u=!0,a=i+1),l>-1&&(t.codePointAt(i)===e.codePointAt(l--)?l<0&&(r=i):(l=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function Yn(t){if(Tt(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Zn(t){Tt(t);let e=t.length,n=-1,r=0,i=-1,u=0,a;for(;e--;){const l=t.codePointAt(e);if(l===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),l===46?i<0?i=e:u!==1&&(u=1):i>-1&&(u=-1)}return i<0||n<0||u===0||u===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function Gn(...t){let e=-1,n;for(;++e<t.length;)Tt(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Jn(n)}function Jn(t){Tt(t);const e=t.codePointAt(0)===47;let n=Kn(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Kn(t,e){let n="",r=0,i=-1,u=0,a=-1,l,s;for(;++a<=t.length;){if(a<t.length)l=t.codePointAt(a);else{if(l===47)break;l=47}if(l===47){if(!(i===a-1||u===1))if(i!==a-1&&u===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(s=n.lastIndexOf("/"),s!==n.length-1){s<0?(n="",r=0):(n=n.slice(0,s),r=n.length-1-n.lastIndexOf("/")),i=a,u=0;continue}}else if(n.length>0){n="",r=0,i=a,u=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,u=0}else l===46&&u>-1?u++:u=-1}return n}function Tt(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Xn={cwd:tr};function tr(){return"/"}function re(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function er(t){if(typeof t=="string")t=new URL(t);else if(!re(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return nr(t)}function nr(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Rt=["history","path","basename","stem","extname","dirname"];class rr{constructor(e){let n;e?re(e)?n={path:e}:typeof e=="string"||ir(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Xn.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Rt.length;){const u=Rt[r];u in n&&n[u]!==void 0&&n[u]!==null&&(this[u]=u==="history"?[...n[u]]:n[u])}let i;for(i in n)Rt.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?rt.basename(this.path):void 0}set basename(e){Vt(e,"basename"),Bt(e,"basename"),this.path=rt.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?rt.dirname(this.path):void 0}set dirname(e){Le(this.basename,"dirname"),this.path=rt.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?rt.extname(this.path):void 0}set extname(e){if(Bt(e,"extname"),Le(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=rt.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){re(e)&&(e=er(e)),Vt(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?rt.basename(this.path,this.extname):void 0}set stem(e){Vt(e,"stem"),Bt(e,"stem"),this.path=rt.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Z(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Bt(t,e){if(t&&t.includes(rt.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+rt.sep+"`")}function Vt(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Le(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function ir(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const ur=(function(t){const r=this.constructor.prototype,i=r[t],u=function(){return i.apply(u,arguments)};return Object.setPrototypeOf(u,r),u}),ar={}.hasOwnProperty;class le extends ur{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Un()}copy(){const e=new le;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Ot(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?($t("data",this.frozen),this.namespace[e]=n,this):ar.call(this.namespace,e)&&this.namespace[e]||void 0:e?($t("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=vt(e),r=this.parser||this.Parser;return qt("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),qt("process",this.parser||this.Parser),jt("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(u,a){const l=vt(e),s=r.parse(l);r.run(s,l,function(c,f,p){if(c||!f||!p)return o(c);const h=f,S=r.stringify(h,p);sr(S)?p.value=S:p.result=S,o(c,p)});function o(c,f){c||!f?a(c):u?u(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),qt("processSync",this.parser||this.Parser),jt("processSync",this.compiler||this.Compiler),this.process(e,i),Pe("processSync","process",n),r;function i(u,a){n=!0,Ae(u),r=a}}run(e,n,r){ve(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?u(void 0,r):new Promise(u);function u(a,l){const s=vt(n);i.run(e,s,o);function o(c,f,p){const h=f||e;c?l(c):a?a(h):r(void 0,h,p)}}}runSync(e,n){let r=!1,i;return this.run(e,n,u),Pe("runSync","run",r),i;function u(a,l){Ae(a),i=l,r=!0}}stringify(e,n){this.freeze();const r=vt(n),i=this.compiler||this.Compiler;return jt("stringify",i),ve(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if($t("use",this.frozen),e!=null)if(typeof e=="function")s(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function u(o){if(typeof o=="function")s(o,[]);else if(typeof o=="object")if(Array.isArray(o)){const[c,...f]=o;s(c,f)}else a(o);else throw new TypeError("Expected usable value, not `"+o+"`")}function a(o){if(!("plugins"in o)&&!("settings"in o))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(o.plugins),o.settings&&(i.settings=Ot(!0,i.settings,o.settings))}function l(o){let c=-1;if(o!=null)if(Array.isArray(o))for(;++c<o.length;){const f=o[c];u(f)}else throw new TypeError("Expected a list of plugins, not `"+o+"`")}function s(o,c){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===o){p=f;break}if(p===-1)r.push([o,...c]);else if(c.length>0){let[h,...S]=c;const g=r[p][1];ee(g)&&ee(h)&&(h=Ot(!0,g,h)),r[p]=[o,h,...S]}}}}const lr=new le().freeze();function qt(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function jt(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function $t(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ve(t){if(!ee(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Pe(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function vt(t){return or(t)?t:new rr(t)}function or(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function sr(t){return typeof t=="string"||cr(t)}function cr(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const hr={};function fr(t,e){const n=hr,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return tn(t,r,i)}function tn(t,e,n){if(pr(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Fe(t.children,e,n)}return Array.isArray(t)?Fe(t,e,n):""}function Fe(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=tn(t[i],e,n);return r.join("")}function pr(t){return!!(t&&typeof t=="object")}const De=document.createElement("i");function At(t){const e="&"+t+";";De.innerHTML=e;const n=De.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ut(t,e,n,r){const i=t.length;let u=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);u<r.length;)a=r.slice(u,u+1e4),a.unshift(e,0),t.splice(...a),u+=1e4,e+=1e4}function J(t,e){return t.length>0?(ut(t,t.length,0,e),t):e}const Ne={}.hasOwnProperty;function mr(t){const e={};let n=-1;for(;++n<t.length;)dr(e,t[n]);return e}function dr(t,e){let n;for(n in e){const i=(Ne.call(t,n)?t[n]:void 0)||(t[n]={}),u=e[n];let a;if(u)for(a in u){Ne.call(i,a)||(i[a]=[]);const l=u[a];xr(i[a],Array.isArray(l)?l:l?[l]:[])}}}function xr(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ut(t,0,0,r)}function en(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"ï¿½":String.fromCodePoint(n)}function kt(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const it=pt(/[A-Za-z]/),nt=pt(/[\dA-Za-z]/),gr=pt(/[#-'*+\--9=?A-Z^-~]/);function ie(t){return t!==null&&(t<32||t===127)}const ue=pt(/\d/),yr=pt(/[\dA-Fa-f]/),kr=pt(/[!-/:-@[-`{-~]/);function _(t){return t!==null&&t<-2}function U(t){return t!==null&&(t<0||t===32)}function q(t){return t===-2||t===-1||t===32}const _t=pt(new RegExp("\\p{P}|\\p{S}","u")),It=pt(/\s/);function pt(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function R(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let u=0;return a;function a(s){return q(s)?(t.enter(n),l(s)):e(s)}function l(s){return q(s)&&u++<i?(t.consume(s),l):(t.exit(n),e(s))}}const br={tokenize:wr};function wr(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),R(t,e,"linePrefix")}function i(l){return t.enter("paragraph"),u(l)}function u(l){const s=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=s),n=s,a(l)}function a(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return _(l)?(t.consume(l),t.exit("chunkText"),u):(t.consume(l),a)}}const zr={tokenize:Sr},Me={tokenize:Er};function Sr(t){const e=this,n=[];let r=0,i,u,a;return l;function l(A){if(r<n.length){const v=n[r];return e.containerState=v[1],t.attempt(v[0].continuation,s,o)(A)}return o(A)}function s(A){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&z();const v=e.events.length;let N=v,k;for(;N--;)if(e.events[N][0]==="exit"&&e.events[N][1].type==="chunkFlow"){k=e.events[N][1].end;break}w(r);let P=v;for(;P<e.events.length;)e.events[P][1].end={...k},P++;return ut(e.events,N+1,0,e.events.slice(v)),e.events.length=P,o(A)}return l(A)}function o(A){if(r===n.length){if(!i)return p(A);if(i.currentConstruct&&i.currentConstruct.concrete)return S(A);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Me,c,f)(A)}function c(A){return i&&z(),w(r),p(A)}function f(A){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,S(A)}function p(A){return e.containerState={},t.attempt(Me,h,S)(A)}function h(A){return r++,n.push([e.currentConstruct,e.containerState]),p(A)}function S(A){if(A===null){i&&z(),w(0),t.consume(A);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:u}),g(A)}function g(A){if(A===null){E(t.exit("chunkFlow"),!0),w(0),t.consume(A);return}return _(A)?(t.consume(A),E(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(A),g)}function E(A,v){const N=e.sliceStream(A);if(v&&N.push(null),A.previous=u,u&&(u.next=A),u=A,i.defineSkip(A.start),i.write(N),e.parser.lazy[A.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<a&&(!i.events[k][1].end||i.events[k][1].end.offset>a))return;const P=e.events.length;let M=P,b,F;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){if(b){F=e.events[M][1].end;break}b=!0}for(w(r),k=P;k<e.events.length;)e.events[k][1].end={...F},k++;ut(e.events,M+1,0,e.events.slice(P)),e.events.length=k}}function w(A){let v=n.length;for(;v-- >A;){const N=n[v];e.containerState=N[1],N[0].exit.call(e,t)}n.length=A}function z(){i.write([null]),u=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Er(t,e,n){return R(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Oe(t){if(t===null||U(t)||It(t))return 1;if(_t(t))return 2}function oe(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const u=t[i].resolveAll;u&&!r.includes(u)&&(e=u(e,n),r.push(u))}return e}const ae={name:"attention",resolveAll:Cr,tokenize:Ar};function Cr(t,e){let n=-1,r,i,u,a,l,s,o,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;s=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},p={...t[n][1].start};Re(f,-s),Re(p,s),a={type:s>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},l={type:s>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:p},u={type:s>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:s>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},t[r][1].end={...a.start},t[n][1].start={...l.end},o=[],t[r][1].end.offset-t[r][1].start.offset&&(o=J(o,[["enter",t[r][1],e],["exit",t[r][1],e]])),o=J(o,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",u,e]]),o=J(o,oe(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),o=J(o,[["exit",u,e],["enter",l,e],["exit",l,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,o=J(o,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,ut(t,r-1,n-r+3,o),n=r+o.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Ar(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Oe(r);let u;return a;function a(s){return u=s,t.enter("attentionSequence"),l(s)}function l(s){if(s===u)return t.consume(s),l;const o=t.exit("attentionSequence"),c=Oe(s),f=!c||c===2&&i||n.includes(s),p=!i||i===2&&c||n.includes(r);return o._open=!!(u===42?f:f&&(i||!p)),o._close=!!(u===42?p:p&&(c||!f)),e(s)}}function Re(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const _r={name:"autolink",tokenize:Ir};function Ir(t,e,n){let r=0;return i;function i(h){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),u}function u(h){return it(h)?(t.consume(h),a):h===64?n(h):o(h)}function a(h){return h===43||h===45||h===46||nt(h)?(r=1,l(h)):o(h)}function l(h){return h===58?(t.consume(h),r=0,s):(h===43||h===45||h===46||nt(h))&&r++<32?(t.consume(h),l):(r=0,o(h))}function s(h){return h===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):h===null||h===32||h===60||ie(h)?n(h):(t.consume(h),s)}function o(h){return h===64?(t.consume(h),c):gr(h)?(t.consume(h),o):n(h)}function c(h){return nt(h)?f(h):n(h)}function f(h){return h===46?(t.consume(h),r=0,c):h===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):p(h)}function p(h){if((h===45||nt(h))&&r++<63){const S=h===45?p:f;return t.consume(h),S}return n(h)}}const Dt={partial:!0,tokenize:Tr};function Tr(t,e,n){return r;function r(u){return q(u)?R(t,i,"linePrefix")(u):i(u)}function i(u){return u===null||_(u)?e(u):n(u)}}const nn={continuation:{tokenize:vr},exit:Pr,name:"blockQuote",tokenize:Lr};function Lr(t,e,n){const r=this;return i;function i(a){if(a===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),u}return n(a)}function u(a){return q(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function vr(t,e,n){const r=this;return i;function i(a){return q(a)?R(t,u,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):u(a)}function u(a){return t.attempt(nn,e,n)(a)}}function Pr(t){t.exit("blockQuote")}const rn={name:"characterEscape",tokenize:Fr};function Fr(t,e,n){return r;function r(u){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(u),t.exit("escapeMarker"),i}function i(u){return kr(u)?(t.enter("characterEscapeValue"),t.consume(u),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(u)}}const un={name:"characterReference",tokenize:Dr};function Dr(t,e,n){const r=this;let i=0,u,a;return l;function l(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),s}function s(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),o):(t.enter("characterReferenceValue"),u=31,a=nt,c(f))}function o(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),u=6,a=yr,c):(t.enter("characterReferenceValue"),u=7,a=ue,c(f))}function c(f){if(f===59&&i){const p=t.exit("characterReferenceValue");return a===nt&&!At(r.sliceSerialize(p))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(f)&&i++<u?(t.consume(f),c):n(f)}}const Be={partial:!0,tokenize:Mr},Ve={concrete:!0,name:"codeFenced",tokenize:Nr};function Nr(t,e,n){const r=this,i={partial:!0,tokenize:N};let u=0,a=0,l;return s;function s(k){return o(k)}function o(k){const P=r.events[r.events.length-1];return u=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,l=k,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(k)}function c(k){return k===l?(a++,t.consume(k),c):a<3?n(k):(t.exit("codeFencedFenceSequence"),q(k)?R(t,f,"whitespace")(k):f(k))}function f(k){return k===null||_(k)?(t.exit("codeFencedFence"),r.interrupt?e(k):t.check(Be,g,v)(k)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),p(k))}function p(k){return k===null||_(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(k)):q(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),R(t,h,"whitespace")(k)):k===96&&k===l?n(k):(t.consume(k),p)}function h(k){return k===null||_(k)?f(k):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),S(k))}function S(k){return k===null||_(k)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(k)):k===96&&k===l?n(k):(t.consume(k),S)}function g(k){return t.attempt(i,v,E)(k)}function E(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),w}function w(k){return u>0&&q(k)?R(t,z,"linePrefix",u+1)(k):z(k)}function z(k){return k===null||_(k)?t.check(Be,g,v)(k):(t.enter("codeFlowValue"),A(k))}function A(k){return k===null||_(k)?(t.exit("codeFlowValue"),z(k)):(t.consume(k),A)}function v(k){return t.exit("codeFenced"),e(k)}function N(k,P,M){let b=0;return F;function F(x){return k.enter("lineEnding"),k.consume(x),k.exit("lineEnding"),I}function I(x){return k.enter("codeFencedFence"),q(x)?R(k,T,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x):T(x)}function T(x){return x===l?(k.enter("codeFencedFenceSequence"),L(x)):M(x)}function L(x){return x===l?(b++,k.consume(x),L):b>=a?(k.exit("codeFencedFenceSequence"),q(x)?R(k,j,"whitespace")(x):j(x)):M(x)}function j(x){return x===null||_(x)?(k.exit("codeFencedFence"),P(x)):M(x)}}}function Mr(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),u)}function u(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const Ht={name:"codeIndented",tokenize:Rr},Or={partial:!0,tokenize:Br};function Rr(t,e,n){const r=this;return i;function i(o){return t.enter("codeIndented"),R(t,u,"linePrefix",5)(o)}function u(o){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?a(o):n(o)}function a(o){return o===null?s(o):_(o)?t.attempt(Or,a,s)(o):(t.enter("codeFlowValue"),l(o))}function l(o){return o===null||_(o)?(t.exit("codeFlowValue"),a(o)):(t.consume(o),l)}function s(o){return t.exit("codeIndented"),e(o)}}function Br(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):_(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):R(t,u,"linePrefix",5)(a)}function u(a){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):_(a)?i(a):n(a)}}const Vr={name:"codeText",previous:jr,resolve:qr,tokenize:$r};function qr(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function jr(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function $r(t,e,n){let r=0,i,u;return a;function a(f){return t.enter("codeText"),t.enter("codeTextSequence"),l(f)}function l(f){return f===96?(t.consume(f),r++,l):(t.exit("codeTextSequence"),s(f))}function s(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),s):f===96?(u=t.enter("codeTextSequence"),i=0,c(f)):_(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),s):(t.enter("codeTextData"),o(f))}function o(f){return f===null||f===32||f===96||_(f)?(t.exit("codeTextData"),s(f)):(t.consume(f),o)}function c(f){return f===96?(t.consume(f),i++,c):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(u.type="codeTextData",o(f))}}class Hr{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const u=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&St(this.left,r),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),St(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),St(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);St(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);St(this.left,n.reverse())}}}function St(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function an(t){const e={};let n=-1,r,i,u,a,l,s,o;const c=new Hr(t);for(;++n<c.length;){for(;n in e;)n=e[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(s=r[1]._tokenizer.events,u=0,u<s.length&&s[u][1].type==="lineEndingBlank"&&(u+=2),u<s.length&&s[u][1].type==="content"))for(;++u<s.length&&s[u][1].type!=="content";)s[u][1].type==="chunkText"&&(s[u][1]._isInFirstContentOfListItem=!0,u++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Ur(c,n)),n=e[n],o=!0);else if(r[1]._container){for(u=n,i=void 0;u--;)if(a=c.get(u),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=u);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},l=c.slice(i,n),l.unshift(r),c.splice(i,n-i+1,l))}}return ut(t,0,Number.POSITIVE_INFINITY,c.slice(0)),!o}function Ur(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const u=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const l=a.events,s=[],o={};let c,f,p=-1,h=n,S=0,g=0;const E=[g];for(;h;){for(;t.get(++i)[1]!==h;);u.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&a.defineSkip(h.start),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(c),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++p<l.length;)l[p][0]==="exit"&&l[p-1][0]==="enter"&&l[p][1].type===l[p-1][1].type&&l[p][1].start.line!==l[p][1].end.line&&(g=p+1,E.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(a.events=[],h?(h._tokenizer=void 0,h.previous=void 0):E.pop(),p=E.length;p--;){const w=l.slice(E[p],E[p+1]),z=u.pop();s.push([z,z+w.length-1]),t.splice(z,2,w)}for(s.reverse(),p=-1;++p<s.length;)o[S+s[p][0]]=S+s[p][1],S+=s[p][1]-s[p][0]-1;return o}const Qr={resolve:Yr,tokenize:Zr},Wr={partial:!0,tokenize:Gr};function Yr(t){return an(t),t}function Zr(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?u(l):_(l)?t.check(Wr,a,u)(l):(t.consume(l),i)}function u(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function a(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Gr(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),R(t,u,"linePrefix")}function u(a){if(a===null||_(a))return n(a);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function ln(t,e,n,r,i,u,a,l,s){const o=s||Number.POSITIVE_INFINITY;let c=0;return f;function f(w){return w===60?(t.enter(r),t.enter(i),t.enter(u),t.consume(w),t.exit(u),p):w===null||w===32||w===41||ie(w)?n(w):(t.enter(r),t.enter(a),t.enter(l),t.enter("chunkString",{contentType:"string"}),g(w))}function p(w){return w===62?(t.enter(u),t.consume(w),t.exit(u),t.exit(i),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),h(w))}function h(w){return w===62?(t.exit("chunkString"),t.exit(l),p(w)):w===null||w===60||_(w)?n(w):(t.consume(w),w===92?S:h)}function S(w){return w===60||w===62||w===92?(t.consume(w),h):h(w)}function g(w){return!c&&(w===null||w===41||U(w))?(t.exit("chunkString"),t.exit(l),t.exit(a),t.exit(r),e(w)):c<o&&w===40?(t.consume(w),c++,g):w===41?(t.consume(w),c--,g):w===null||w===32||w===40||ie(w)?n(w):(t.consume(w),w===92?E:g)}function E(w){return w===40||w===41||w===92?(t.consume(w),g):g(w)}}function on(t,e,n,r,i,u){const a=this;let l=0,s;return o;function o(h){return t.enter(r),t.enter(i),t.consume(h),t.exit(i),t.enter(u),c}function c(h){return l>999||h===null||h===91||h===93&&!s||h===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(h):h===93?(t.exit(u),t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):_(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||_(h)||l++>999?(t.exit("chunkString"),c(h)):(t.consume(h),s||(s=!q(h)),h===92?p:f)}function p(h){return h===91||h===92||h===93?(t.consume(h),l++,f):f(h)}}function sn(t,e,n,r,i,u){let a;return l;function l(p){return p===34||p===39||p===40?(t.enter(r),t.enter(i),t.consume(p),t.exit(i),a=p===40?41:p,s):n(p)}function s(p){return p===a?(t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):(t.enter(u),o(p))}function o(p){return p===a?(t.exit(u),s(a)):p===null?n(p):_(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),R(t,o,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(p))}function c(p){return p===a||p===null||_(p)?(t.exit("chunkString"),o(p)):(t.consume(p),p===92?f:c)}function f(p){return p===a||p===92?(t.consume(p),c):c(p)}}function ct(t,e){let n;return r;function r(i){return _(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):q(i)?R(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Jr={name:"definition",tokenize:Xr},Kr={partial:!0,tokenize:ti};function Xr(t,e,n){const r=this;let i;return u;function u(h){return t.enter("definition"),a(h)}function a(h){return on.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function l(h){return i=kt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(t.enter("definitionMarker"),t.consume(h),t.exit("definitionMarker"),s):n(h)}function s(h){return U(h)?ct(t,o)(h):o(h)}function o(h){return ln(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return t.attempt(Kr,f,f)(h)}function f(h){return q(h)?R(t,p,"whitespace")(h):p(h)}function p(h){return h===null||_(h)?(t.exit("definition"),r.parser.defined.push(i),e(h)):n(h)}}function ti(t,e,n){return r;function r(l){return U(l)?ct(t,i)(l):n(l)}function i(l){return sn(t,u,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function u(l){return q(l)?R(t,a,"whitespace")(l):a(l)}function a(l){return l===null||_(l)?e(l):n(l)}}const ei={name:"hardBreakEscape",tokenize:ni};function ni(t,e,n){return r;function r(u){return t.enter("hardBreakEscape"),t.consume(u),i}function i(u){return _(u)?(t.exit("hardBreakEscape"),e(u)):n(u)}}const ri={name:"headingAtx",resolve:ii,tokenize:ui};function ii(t,e){let n=t.length-2,r=3,i,u;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},u={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ut(t,r,n-r+1,[["enter",i,e],["enter",u,e],["exit",u,e],["exit",i,e]])),t}function ui(t,e,n){let r=0;return i;function i(c){return t.enter("atxHeading"),u(c)}function u(c){return t.enter("atxHeadingSequence"),a(c)}function a(c){return c===35&&r++<6?(t.consume(c),a):c===null||U(c)?(t.exit("atxHeadingSequence"),l(c)):n(c)}function l(c){return c===35?(t.enter("atxHeadingSequence"),s(c)):c===null||_(c)?(t.exit("atxHeading"),e(c)):q(c)?R(t,l,"whitespace")(c):(t.enter("atxHeadingText"),o(c))}function s(c){return c===35?(t.consume(c),s):(t.exit("atxHeadingSequence"),l(c))}function o(c){return c===null||c===35||U(c)?(t.exit("atxHeadingText"),l(c)):(t.consume(c),o)}}const ai=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],qe=["pre","script","style","textarea"],li={concrete:!0,name:"htmlFlow",resolveTo:ci,tokenize:hi},oi={partial:!0,tokenize:pi},si={partial:!0,tokenize:fi};function ci(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function hi(t,e,n){const r=this;let i,u,a,l,s;return o;function o(d){return c(d)}function c(d){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(d),f}function f(d){return d===33?(t.consume(d),p):d===47?(t.consume(d),u=!0,g):d===63?(t.consume(d),i=3,r.interrupt?e:m):it(d)?(t.consume(d),a=String.fromCharCode(d),E):n(d)}function p(d){return d===45?(t.consume(d),i=2,h):d===91?(t.consume(d),i=5,l=0,S):it(d)?(t.consume(d),i=4,r.interrupt?e:m):n(d)}function h(d){return d===45?(t.consume(d),r.interrupt?e:m):n(d)}function S(d){const tt="CDATA[";return d===tt.charCodeAt(l++)?(t.consume(d),l===tt.length?r.interrupt?e:T:S):n(d)}function g(d){return it(d)?(t.consume(d),a=String.fromCharCode(d),E):n(d)}function E(d){if(d===null||d===47||d===62||U(d)){const tt=d===47,mt=a.toLowerCase();return!tt&&!u&&qe.includes(mt)?(i=1,r.interrupt?e(d):T(d)):ai.includes(a.toLowerCase())?(i=6,tt?(t.consume(d),w):r.interrupt?e(d):T(d)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(d):u?z(d):A(d))}return d===45||nt(d)?(t.consume(d),a+=String.fromCharCode(d),E):n(d)}function w(d){return d===62?(t.consume(d),r.interrupt?e:T):n(d)}function z(d){return q(d)?(t.consume(d),z):F(d)}function A(d){return d===47?(t.consume(d),F):d===58||d===95||it(d)?(t.consume(d),v):q(d)?(t.consume(d),A):F(d)}function v(d){return d===45||d===46||d===58||d===95||nt(d)?(t.consume(d),v):N(d)}function N(d){return d===61?(t.consume(d),k):q(d)?(t.consume(d),N):A(d)}function k(d){return d===null||d===60||d===61||d===62||d===96?n(d):d===34||d===39?(t.consume(d),s=d,P):q(d)?(t.consume(d),k):M(d)}function P(d){return d===s?(t.consume(d),s=null,b):d===null||_(d)?n(d):(t.consume(d),P)}function M(d){return d===null||d===34||d===39||d===47||d===60||d===61||d===62||d===96||U(d)?N(d):(t.consume(d),M)}function b(d){return d===47||d===62||q(d)?A(d):n(d)}function F(d){return d===62?(t.consume(d),I):n(d)}function I(d){return d===null||_(d)?T(d):q(d)?(t.consume(d),I):n(d)}function T(d){return d===45&&i===2?(t.consume(d),B):d===60&&i===1?(t.consume(d),Q):d===62&&i===4?(t.consume(d),X):d===63&&i===3?(t.consume(d),m):d===93&&i===5?(t.consume(d),at):_(d)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(oi,lt,L)(d)):d===null||_(d)?(t.exit("htmlFlowData"),L(d)):(t.consume(d),T)}function L(d){return t.check(si,j,lt)(d)}function j(d){return t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),x}function x(d){return d===null||_(d)?L(d):(t.enter("htmlFlowData"),T(d))}function B(d){return d===45?(t.consume(d),m):T(d)}function Q(d){return d===47?(t.consume(d),a="",K):T(d)}function K(d){if(d===62){const tt=a.toLowerCase();return qe.includes(tt)?(t.consume(d),X):T(d)}return it(d)&&a.length<8?(t.consume(d),a+=String.fromCharCode(d),K):T(d)}function at(d){return d===93?(t.consume(d),m):T(d)}function m(d){return d===62?(t.consume(d),X):d===45&&i===2?(t.consume(d),m):T(d)}function X(d){return d===null||_(d)?(t.exit("htmlFlowData"),lt(d)):(t.consume(d),X)}function lt(d){return t.exit("htmlFlow"),e(d)}}function fi(t,e,n){const r=this;return i;function i(a){return _(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),u):n(a)}function u(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function pi(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Dt,e,n)}}const mi={name:"htmlText",tokenize:di};function di(t,e,n){const r=this;let i,u,a;return l;function l(m){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(m),s}function s(m){return m===33?(t.consume(m),o):m===47?(t.consume(m),N):m===63?(t.consume(m),A):it(m)?(t.consume(m),M):n(m)}function o(m){return m===45?(t.consume(m),c):m===91?(t.consume(m),u=0,S):it(m)?(t.consume(m),z):n(m)}function c(m){return m===45?(t.consume(m),h):n(m)}function f(m){return m===null?n(m):m===45?(t.consume(m),p):_(m)?(a=f,Q(m)):(t.consume(m),f)}function p(m){return m===45?(t.consume(m),h):f(m)}function h(m){return m===62?B(m):m===45?p(m):f(m)}function S(m){const X="CDATA[";return m===X.charCodeAt(u++)?(t.consume(m),u===X.length?g:S):n(m)}function g(m){return m===null?n(m):m===93?(t.consume(m),E):_(m)?(a=g,Q(m)):(t.consume(m),g)}function E(m){return m===93?(t.consume(m),w):g(m)}function w(m){return m===62?B(m):m===93?(t.consume(m),w):g(m)}function z(m){return m===null||m===62?B(m):_(m)?(a=z,Q(m)):(t.consume(m),z)}function A(m){return m===null?n(m):m===63?(t.consume(m),v):_(m)?(a=A,Q(m)):(t.consume(m),A)}function v(m){return m===62?B(m):A(m)}function N(m){return it(m)?(t.consume(m),k):n(m)}function k(m){return m===45||nt(m)?(t.consume(m),k):P(m)}function P(m){return _(m)?(a=P,Q(m)):q(m)?(t.consume(m),P):B(m)}function M(m){return m===45||nt(m)?(t.consume(m),M):m===47||m===62||U(m)?b(m):n(m)}function b(m){return m===47?(t.consume(m),B):m===58||m===95||it(m)?(t.consume(m),F):_(m)?(a=b,Q(m)):q(m)?(t.consume(m),b):B(m)}function F(m){return m===45||m===46||m===58||m===95||nt(m)?(t.consume(m),F):I(m)}function I(m){return m===61?(t.consume(m),T):_(m)?(a=I,Q(m)):q(m)?(t.consume(m),I):b(m)}function T(m){return m===null||m===60||m===61||m===62||m===96?n(m):m===34||m===39?(t.consume(m),i=m,L):_(m)?(a=T,Q(m)):q(m)?(t.consume(m),T):(t.consume(m),j)}function L(m){return m===i?(t.consume(m),i=void 0,x):m===null?n(m):_(m)?(a=L,Q(m)):(t.consume(m),L)}function j(m){return m===null||m===34||m===39||m===60||m===61||m===96?n(m):m===47||m===62||U(m)?b(m):(t.consume(m),j)}function x(m){return m===47||m===62||U(m)?b(m):n(m)}function B(m){return m===62?(t.consume(m),t.exit("htmlTextData"),t.exit("htmlText"),e):n(m)}function Q(m){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),K}function K(m){return q(m)?R(t,at,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m):at(m)}function at(m){return t.enter("htmlTextData"),a(m)}}const se={name:"labelEnd",resolveAll:ki,resolveTo:bi,tokenize:wi},xi={tokenize:zi},gi={tokenize:Si},yi={tokenize:Ei};function ki(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&ut(t,0,t.length,n),t}function bi(t,e){let n=t.length,r=0,i,u,a,l;for(;n--;)if(i=t[n][1],u){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(u=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const s={type:t[u][1].type==="labelLink"?"link":"image",start:{...t[u][1].start},end:{...t[t.length-1][1].end}},o={type:"label",start:{...t[u][1].start},end:{...t[a][1].end}},c={type:"labelText",start:{...t[u+r+2][1].end},end:{...t[a-2][1].start}};return l=[["enter",s,e],["enter",o,e]],l=J(l,t.slice(u+1,u+r+3)),l=J(l,[["enter",c,e]]),l=J(l,oe(e.parser.constructs.insideSpan.null,t.slice(u+r+4,a-3),e)),l=J(l,[["exit",c,e],t[a-2],t[a-1],["exit",o,e]]),l=J(l,t.slice(a+1)),l=J(l,[["exit",s,e]]),ut(t,u,t.length,l),t}function wi(t,e,n){const r=this;let i=r.events.length,u,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){u=r.events[i][1];break}return l;function l(p){return u?u._inactive?f(p):(a=r.parser.defined.includes(kt(r.sliceSerialize({start:u.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelEnd"),s):n(p)}function s(p){return p===40?t.attempt(xi,c,a?c:f)(p):p===91?t.attempt(gi,c,a?o:f)(p):a?c(p):f(p)}function o(p){return t.attempt(yi,c,f)(p)}function c(p){return e(p)}function f(p){return u._balanced=!0,n(p)}}function zi(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return U(f)?ct(t,u)(f):u(f)}function u(f){return f===41?c(f):ln(t,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return U(f)?ct(t,s)(f):c(f)}function l(f){return n(f)}function s(f){return f===34||f===39||f===40?sn(t,o,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function o(f){return U(f)?ct(t,c)(f):c(f)}function c(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function Si(t,e,n){const r=this;return i;function i(l){return on.call(r,t,u,a,"reference","referenceMarker","referenceString")(l)}function u(l){return r.parser.defined.includes(kt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function a(l){return n(l)}}function Ei(t,e,n){return r;function r(u){return t.enter("reference"),t.enter("referenceMarker"),t.consume(u),t.exit("referenceMarker"),i}function i(u){return u===93?(t.enter("referenceMarker"),t.consume(u),t.exit("referenceMarker"),t.exit("reference"),e):n(u)}}const Ci={name:"labelStartImage",resolveAll:se.resolveAll,tokenize:Ai};function Ai(t,e,n){const r=this;return i;function i(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),u}function u(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),a):n(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const _i={name:"labelStartLink",resolveAll:se.resolveAll,tokenize:Ii};function Ii(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),u}function u(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const Ut={name:"lineEnding",tokenize:Ti};function Ti(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),R(t,e,"linePrefix")}}const Ft={name:"thematicBreak",tokenize:Li};function Li(t,e,n){let r=0,i;return u;function u(o){return t.enter("thematicBreak"),a(o)}function a(o){return i=o,l(o)}function l(o){return o===i?(t.enter("thematicBreakSequence"),s(o)):r>=3&&(o===null||_(o))?(t.exit("thematicBreak"),e(o)):n(o)}function s(o){return o===i?(t.consume(o),r++,s):(t.exit("thematicBreakSequence"),q(o)?R(t,l,"whitespace")(o):l(o))}}const Y={continuation:{tokenize:Di},exit:Mi,name:"list",tokenize:Fi},vi={partial:!0,tokenize:Oi},Pi={partial:!0,tokenize:Ni};function Fi(t,e,n){const r=this,i=r.events[r.events.length-1];let u=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return l;function l(h){const S=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:ue(h)){if(r.containerState.type||(r.containerState.type=S,t.enter(S,{_container:!0})),S==="listUnordered")return t.enter("listItemPrefix"),h===42||h===45?t.check(Ft,n,o)(h):o(h);if(!r.interrupt||h===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),s(h)}return n(h)}function s(h){return ue(h)&&++a<10?(t.consume(h),s):(!r.interrupt||a<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(t.exit("listItemValue"),o(h)):n(h)}function o(h){return t.enter("listItemMarker"),t.consume(h),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,t.check(Dt,r.interrupt?n:c,t.attempt(vi,p,f))}function c(h){return r.containerState.initialBlankLine=!0,u++,p(h)}function f(h){return q(h)?(t.enter("listItemPrefixWhitespace"),t.consume(h),t.exit("listItemPrefixWhitespace"),p):n(h)}function p(h){return r.containerState.size=u+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(h)}}function Di(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Dt,i,u);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,R(t,e,"listItemIndent",r.containerState.size+1)(l)}function u(l){return r.containerState.furtherBlankLines||!q(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Pi,e,a)(l))}function a(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,R(t,t.attempt(Y,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function Ni(t,e,n){const r=this;return R(t,i,"listItemIndent",r.containerState.size+1);function i(u){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(u):n(u)}}function Mi(t){t.exit(this.containerState.type)}function Oi(t,e,n){const r=this;return R(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(u){const a=r.events[r.events.length-1];return!q(u)&&a&&a[1].type==="listItemPrefixWhitespace"?e(u):n(u)}}const je={name:"setextUnderline",resolveTo:Ri,tokenize:Bi};function Ri(t,e){let n=t.length,r,i,u;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!u&&t[n][1].type==="definition"&&(u=n);const a={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",u?(t.splice(i,0,["enter",a,e]),t.splice(u+1,0,["exit",t[r][1],e]),t[r][1].end={...t[u][1].end}):t[r][1]=a,t.push(["exit",a,e]),t}function Bi(t,e,n){const r=this;let i;return u;function u(o){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=o,a(o)):n(o)}function a(o){return t.enter("setextHeadingLineSequence"),l(o)}function l(o){return o===i?(t.consume(o),l):(t.exit("setextHeadingLineSequence"),q(o)?R(t,s,"lineSuffix")(o):s(o))}function s(o){return o===null||_(o)?(t.exit("setextHeadingLine"),e(o)):n(o)}}const Vi={tokenize:qi};function qi(t){const e=this,n=t.attempt(Dt,r,t.attempt(this.parser.constructs.flowInitial,i,R(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Qr,i)),"linePrefix")));return n;function r(u){if(u===null){t.consume(u);return}return t.enter("lineEndingBlank"),t.consume(u),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const ji={resolveAll:hn()},$i=cn("string"),Hi=cn("text");function cn(t){return{resolveAll:hn(t==="text"?Ui:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],u=n.attempt(i,a,l);return a;function a(c){return o(c)?u(c):l(c)}function l(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),s}function s(c){return o(c)?(n.exit("data"),u(c)):(n.consume(c),s)}function o(c){if(c===null)return!0;const f=i[c];let p=-1;if(f)for(;++p<f.length;){const h=f[p];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function hn(t){return e;function e(n,r){let i=-1,u;for(;++i<=n.length;)u===void 0?n[i]&&n[i][1].type==="data"&&(u=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==u+2&&(n[u][1].end=n[i-1][1].end,n.splice(u+2,i-u-2),i=u+2),u=void 0);return t?t(n,r):n}}function Ui(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let u=i.length,a=-1,l=0,s;for(;u--;){const o=i[u];if(typeof o=="string"){for(a=o.length;o.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(o===-2)s=!0,l++;else if(o!==-1){u++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){const o={type:n===t.length||s||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:u?a:r.start._bufferIndex+a,_index:r.start._index+u,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...o.start},r.start.offset===r.end.offset?Object.assign(r,o):(t.splice(n,0,["enter",o,e],["exit",o,e]),n+=2)}n++}return t}const Qi={42:Y,43:Y,45:Y,48:Y,49:Y,50:Y,51:Y,52:Y,53:Y,54:Y,55:Y,56:Y,57:Y,62:nn},Wi={91:Jr},Yi={[-2]:Ht,[-1]:Ht,32:Ht},Zi={35:ri,42:Ft,45:[je,Ft],60:li,61:je,95:Ft,96:Ve,126:Ve},Gi={38:un,92:rn},Ji={[-5]:Ut,[-4]:Ut,[-3]:Ut,33:Ci,38:un,42:ae,60:[_r,mi],91:_i,92:[ei,rn],93:se,95:ae,96:Vr},Ki={null:[ae,ji]},Xi={null:[42,95]},tu={null:[]},eu=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Xi,contentInitial:Wi,disable:tu,document:Qi,flow:Zi,flowInitial:Yi,insideSpan:Ki,string:Gi,text:Ji},Symbol.toStringTag,{value:"Module"}));function nu(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},u=[];let a=[],l=[];const s={attempt:P(N),check:P(k),consume:z,enter:A,exit:v,interrupt:P(k,{interrupt:!0})},o={code:null,containerState:{},defineSkip:g,events:[],now:S,parser:t,previous:null,sliceSerialize:p,sliceStream:h,write:f};let c=e.tokenize.call(o,s);return e.resolveAll&&u.push(e),o;function f(I){return a=J(a,I),E(),a[a.length-1]!==null?[]:(M(e,0),o.events=oe(u,o.events,o),o.events)}function p(I,T){return iu(h(I),T)}function h(I){return ru(a,I)}function S(){const{_bufferIndex:I,_index:T,line:L,column:j,offset:x}=r;return{_bufferIndex:I,_index:T,line:L,column:j,offset:x}}function g(I){i[I.line]=I.column,F()}function E(){let I;for(;r._index<a.length;){const T=a[r._index];if(typeof T=="string")for(I=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===I&&r._bufferIndex<T.length;)w(T.charCodeAt(r._bufferIndex));else w(T)}}function w(I){c=c(I)}function z(I){_(I)?(r.line++,r.column=1,r.offset+=I===-3?2:1,F()):I!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),o.previous=I}function A(I,T){const L=T||{};return L.type=I,L.start=S(),o.events.push(["enter",L,o]),l.push(L),L}function v(I){const T=l.pop();return T.end=S(),o.events.push(["exit",T,o]),T}function N(I,T){M(I,T.from)}function k(I,T){T.restore()}function P(I,T){return L;function L(j,x,B){let Q,K,at,m;return Array.isArray(j)?lt(j):"tokenize"in j?lt([j]):X(j);function X(W){return bt;function bt(ht){const xt=ht!==null&&W[ht],gt=ht!==null&&W.null,Lt=[...Array.isArray(xt)?xt:xt?[xt]:[],...Array.isArray(gt)?gt:gt?[gt]:[]];return lt(Lt)(ht)}}function lt(W){return Q=W,K=0,W.length===0?B:d(W[K])}function d(W){return bt;function bt(ht){return m=b(),at=W,W.partial||(o.currentConstruct=W),W.name&&o.parser.constructs.disable.null.includes(W.name)?mt():W.tokenize.call(T?Object.assign(Object.create(o),T):o,s,tt,mt)(ht)}}function tt(W){return I(at,m),x}function mt(W){return m.restore(),++K<Q.length?d(Q[K]):B}}}function M(I,T){I.resolveAll&&!u.includes(I)&&u.push(I),I.resolve&&ut(o.events,T,o.events.length-T,I.resolve(o.events.slice(T),o)),I.resolveTo&&(o.events=I.resolveTo(o.events,o))}function b(){const I=S(),T=o.previous,L=o.currentConstruct,j=o.events.length,x=Array.from(l);return{from:j,restore:B};function B(){r=I,o.previous=T,o.currentConstruct=L,o.events.length=j,l=x,F()}}function F(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function ru(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,u=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,u)];else{if(a=t.slice(n,i),r>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(r):a.shift()}u>0&&a.push(t[i].slice(0,u))}return a}function iu(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const u=t[n];let a;if(typeof u=="string")a=u;else switch(u){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(u)}i=u===-2,r.push(a)}return r.join("")}function uu(t){const r={constructs:mr([eu,...(t||{}).extensions||[]]),content:i(br),defined:[],document:i(zr),flow:i(Vi),lazy:{},string:i($i),text:i(Hi)};return r;function i(u){return a;function a(l){return nu(r,u,l)}}}function au(t){for(;!an(t););return t}const $e=/[\0\t\n\r]/g;function lu(){let t=1,e="",n=!0,r;return i;function i(u,a,l){const s=[];let o,c,f,p,h;for(u=e+(typeof u=="string"?u.toString():new TextDecoder(a||void 0).decode(u)),f=0,e="",n&&(u.charCodeAt(0)===65279&&f++,n=void 0);f<u.length;){if($e.lastIndex=f,o=$e.exec(u),p=o&&o.index!==void 0?o.index:u.length,h=u.charCodeAt(p),!o){e=u.slice(f);break}if(h===10&&f===p&&r)s.push(-3),r=void 0;else switch(r&&(s.push(-5),r=void 0),f<p&&(s.push(u.slice(f,p)),t+=p-f),h){case 0:{s.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,s.push(-2);t++<c;)s.push(-1);break}case 10:{s.push(-4),t=1;break}default:r=!0,t=1}f=p+1}return l&&(r&&s.push(-5),e&&s.push(e),s.push(null)),s}}const ou=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function su(t){return t.replace(ou,cu)}function cu(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),u=i===120||i===88;return en(n.slice(u?2:1),u?16:10)}return At(n)||t}const fn={}.hasOwnProperty;function hu(t,e,n){return typeof e!="string"&&(n=e,e=void 0),fu(n)(au(uu(n).document().write(lu()(t,e,!0))))}function fu(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(ye),autolinkProtocol:b,autolinkEmail:b,atxHeading:u(de),blockQuote:u(gt),characterEscape:b,characterReference:b,codeFenced:u(Lt),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:u(Lt,a),codeText:u(yn,a),codeTextData:b,data:b,codeFlowValue:b,definition:u(kn),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:u(bn),hardBreakEscape:u(xe),hardBreakTrailing:u(xe),htmlFlow:u(ge,a),htmlFlowData:b,htmlText:u(ge,a),htmlTextData:b,image:u(wn),label:a,link:u(ye),listItem:u(zn),listItemValue:p,listOrdered:u(ke,f),listUnordered:u(ke),paragraph:u(Sn),reference:d,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:u(de),strong:u(En),thematicBreak:u(An)},exit:{atxHeading:s(),atxHeadingSequence:N,autolink:s(),autolinkEmail:xt,autolinkProtocol:ht,blockQuote:s(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:mt,characterReferenceMarkerNumeric:mt,characterReferenceValue:W,characterReference:bt,codeFenced:s(E),codeFencedFence:g,codeFencedFenceInfo:h,codeFencedFenceMeta:S,codeFlowValue:F,codeIndented:s(w),codeText:s(x),codeTextData:F,data:F,definition:s(),definitionDestinationString:v,definitionLabelString:z,definitionTitleString:A,emphasis:s(),hardBreakEscape:s(T),hardBreakTrailing:s(T),htmlFlow:s(L),htmlFlowData:F,htmlText:s(j),htmlTextData:F,image:s(Q),label:at,labelText:K,lineEnding:I,link:s(B),listItem:s(),listOrdered:s(),listUnordered:s(),paragraph:s(),referenceString:tt,resourceDestinationString:m,resourceTitleString:X,resource:lt,setextHeading:s(M),setextHeadingLineSequence:P,setextHeadingText:k,strong:s(),thematicBreak:s()}};pn(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(y){let C={type:"root",children:[]};const D={stack:[C],tokenStack:[],config:e,enter:l,exit:o,buffer:a,resume:c,data:n},V=[];let H=-1;for(;++H<y.length;)if(y[H][1].type==="listOrdered"||y[H][1].type==="listUnordered")if(y[H][0]==="enter")V.push(H);else{const et=V.pop();H=i(y,et,H)}for(H=-1;++H<y.length;){const et=e[y[H][0]];fn.call(et,y[H][1].type)&&et[y[H][1].type].call(Object.assign({sliceSerialize:y[H][2].sliceSerialize},D),y[H][1])}if(D.tokenStack.length>0){const et=D.tokenStack[D.tokenStack.length-1];(et[1]||He).call(D,void 0,et[0])}for(C.position={start:ft(y.length>0?y[0][1].start:{line:1,column:1,offset:0}),end:ft(y.length>0?y[y.length-2][1].end:{line:1,column:1,offset:0})},H=-1;++H<e.transforms.length;)C=e.transforms[H](C)||C;return C}function i(y,C,D){let V=C-1,H=-1,et=!1,dt,ot,wt,zt;for(;++V<=D;){const G=y[V];switch(G[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{G[0]==="enter"?H++:H--,zt=void 0;break}case"lineEndingBlank":{G[0]==="enter"&&(dt&&!zt&&!H&&!wt&&(wt=V),zt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:zt=void 0}if(!H&&G[0]==="enter"&&G[1].type==="listItemPrefix"||H===-1&&G[0]==="exit"&&(G[1].type==="listUnordered"||G[1].type==="listOrdered")){if(dt){let yt=V;for(ot=void 0;yt--;){const st=y[yt];if(st[1].type==="lineEnding"||st[1].type==="lineEndingBlank"){if(st[0]==="exit")continue;ot&&(y[ot][1].type="lineEndingBlank",et=!0),st[1].type="lineEnding",ot=yt}else if(!(st[1].type==="linePrefix"||st[1].type==="blockQuotePrefix"||st[1].type==="blockQuotePrefixWhitespace"||st[1].type==="blockQuoteMarker"||st[1].type==="listItemIndent"))break}wt&&(!ot||wt<ot)&&(dt._spread=!0),dt.end=Object.assign({},ot?y[ot][1].start:G[1].end),y.splice(ot||V,0,["exit",dt,G[2]]),V++,D++}if(G[1].type==="listItemPrefix"){const yt={type:"listItem",_spread:!1,start:Object.assign({},G[1].start),end:void 0};dt=yt,y.splice(V,0,["enter",yt,G[2]]),V++,D++,wt=void 0,zt=!0}}}return y[C][1]._spread=et,D}function u(y,C){return D;function D(V){l.call(this,y(V),V),C&&C.call(this,V)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(y,C,D){this.stack[this.stack.length-1].children.push(y),this.stack.push(y),this.tokenStack.push([C,D||void 0]),y.position={start:ft(C.start),end:void 0}}function s(y){return C;function C(D){y&&y.call(this,D),o.call(this,D)}}function o(y,C){const D=this.stack.pop(),V=this.tokenStack.pop();if(V)V[0].type!==y.type&&(C?C.call(this,y,V[0]):(V[1]||He).call(this,y,V[0]));else throw new Error("Cannot close `"+y.type+"` ("+Ct({start:y.start,end:y.end})+"): itâs not open");D.position.end=ft(y.end)}function c(){return fr(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(y){if(this.data.expectingFirstListItemValue){const C=this.stack[this.stack.length-2];C.start=Number.parseInt(this.sliceSerialize(y),10),this.data.expectingFirstListItemValue=void 0}}function h(){const y=this.resume(),C=this.stack[this.stack.length-1];C.lang=y}function S(){const y=this.resume(),C=this.stack[this.stack.length-1];C.meta=y}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const y=this.resume(),C=this.stack[this.stack.length-1];C.value=y.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const y=this.resume(),C=this.stack[this.stack.length-1];C.value=y.replace(/(\r?\n|\r)$/g,"")}function z(y){const C=this.resume(),D=this.stack[this.stack.length-1];D.label=C,D.identifier=kt(this.sliceSerialize(y)).toLowerCase()}function A(){const y=this.resume(),C=this.stack[this.stack.length-1];C.title=y}function v(){const y=this.resume(),C=this.stack[this.stack.length-1];C.url=y}function N(y){const C=this.stack[this.stack.length-1];if(!C.depth){const D=this.sliceSerialize(y).length;C.depth=D}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function P(y){const C=this.stack[this.stack.length-1];C.depth=this.sliceSerialize(y).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function b(y){const D=this.stack[this.stack.length-1].children;let V=D[D.length-1];(!V||V.type!=="text")&&(V=Cn(),V.position={start:ft(y.start),end:void 0},D.push(V)),this.stack.push(V)}function F(y){const C=this.stack.pop();C.value+=this.sliceSerialize(y),C.position.end=ft(y.end)}function I(y){const C=this.stack[this.stack.length-1];if(this.data.atHardBreak){const D=C.children[C.children.length-1];D.position.end=ft(y.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(C.type)&&(b.call(this,y),F.call(this,y))}function T(){this.data.atHardBreak=!0}function L(){const y=this.resume(),C=this.stack[this.stack.length-1];C.value=y}function j(){const y=this.resume(),C=this.stack[this.stack.length-1];C.value=y}function x(){const y=this.resume(),C=this.stack[this.stack.length-1];C.value=y}function B(){const y=this.stack[this.stack.length-1];if(this.data.inReference){const C=this.data.referenceType||"shortcut";y.type+="Reference",y.referenceType=C,delete y.url,delete y.title}else delete y.identifier,delete y.label;this.data.referenceType=void 0}function Q(){const y=this.stack[this.stack.length-1];if(this.data.inReference){const C=this.data.referenceType||"shortcut";y.type+="Reference",y.referenceType=C,delete y.url,delete y.title}else delete y.identifier,delete y.label;this.data.referenceType=void 0}function K(y){const C=this.sliceSerialize(y),D=this.stack[this.stack.length-2];D.label=su(C),D.identifier=kt(C).toLowerCase()}function at(){const y=this.stack[this.stack.length-1],C=this.resume(),D=this.stack[this.stack.length-1];if(this.data.inReference=!0,D.type==="link"){const V=y.children;D.children=V}else D.alt=C}function m(){const y=this.resume(),C=this.stack[this.stack.length-1];C.url=y}function X(){const y=this.resume(),C=this.stack[this.stack.length-1];C.title=y}function lt(){this.data.inReference=void 0}function d(){this.data.referenceType="collapsed"}function tt(y){const C=this.resume(),D=this.stack[this.stack.length-1];D.label=C,D.identifier=kt(this.sliceSerialize(y)).toLowerCase(),this.data.referenceType="full"}function mt(y){this.data.characterReferenceType=y.type}function W(y){const C=this.sliceSerialize(y),D=this.data.characterReferenceType;let V;D?(V=en(C,D==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):V=At(C);const H=this.stack[this.stack.length-1];H.value+=V}function bt(y){const C=this.stack.pop();C.position.end=ft(y.end)}function ht(y){F.call(this,y);const C=this.stack[this.stack.length-1];C.url=this.sliceSerialize(y)}function xt(y){F.call(this,y);const C=this.stack[this.stack.length-1];C.url="mailto:"+this.sliceSerialize(y)}function gt(){return{type:"blockquote",children:[]}}function Lt(){return{type:"code",lang:null,meta:null,value:""}}function yn(){return{type:"inlineCode",value:""}}function kn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function bn(){return{type:"emphasis",children:[]}}function de(){return{type:"heading",depth:0,children:[]}}function xe(){return{type:"break"}}function ge(){return{type:"html",value:""}}function wn(){return{type:"image",title:null,url:"",alt:null}}function ye(){return{type:"link",title:null,url:"",children:[]}}function ke(y){return{type:"list",ordered:y.type==="listOrdered",start:null,spread:y._spread,children:[]}}function zn(y){return{type:"listItem",spread:y._spread,checked:null,children:[]}}function Sn(){return{type:"paragraph",children:[]}}function En(){return{type:"strong",children:[]}}function Cn(){return{type:"text",value:""}}function An(){return{type:"thematicBreak"}}}function ft(t){return{line:t.line,column:t.column,offset:t.offset}}function pn(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?pn(t,r):pu(t,r)}}function pu(t,e){let n;for(n in e)if(fn.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function He(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Ct({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Ct({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Ct({start:e.start,end:e.end})+") is still open")}function mu(t){const e=this;e.parser=n;function n(r){return hu(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function du(t,e){const n=String(t);let r=n.indexOf(e),i=r,u=0,a=0;for(;r!==-1;)r===i?++u>a&&(a=u):u=1,i=r+e.length,r=n.indexOf(e,i);return a}function xu(){return{enter:{mathFlow:t,mathFlowFenceMeta:e,mathText:u},exit:{mathFlow:i,mathFlowFence:r,mathFlowFenceMeta:n,mathFlowValue:l,mathText:a,mathTextData:l}};function t(s){const o={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[o]}},s)}function e(){this.buffer()}function n(){const s=this.resume(),o=this.stack[this.stack.length-1];o.type,o.meta=s}function r(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function i(s){const o=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),c=this.stack[this.stack.length-1];c.type,this.exit(s),c.value=o;const f=c.data.hChildren[0];f.type,f.tagName,f.children.push({type:"text",value:o}),this.data.mathFlowInside=void 0}function u(s){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},s),this.buffer()}function a(s){const o=this.resume(),c=this.stack[this.stack.length-1];c.type,this.exit(s),c.value=o,c.data.hChildren.push({type:"text",value:o})}function l(s){this.config.enter.data.call(this,s),this.config.exit.data.call(this,s)}}function gu(t){let e=(t||{}).singleDollarTextMath;return e==null&&(e=!0),r.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:e?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:r}};function n(u,a,l,s){const o=u.value||"",c=l.createTracker(s),f="$".repeat(Math.max(du(o,"$")+1,2)),p=l.enter("mathFlow");let h=c.move(f);if(u.meta){const S=l.enter("mathFlowMeta");h+=c.move(l.safe(u.meta,{after:`
`,before:h,encode:["$"],...c.current()})),S()}return h+=c.move(`
`),o&&(h+=c.move(o+`
`)),h+=c.move(f),p(),h}function r(u,a,l){let s=u.value||"",o=1;for(e||o++;new RegExp("(^|[^$])"+"\\$".repeat(o)+"([^$]|$)").test(s);)o++;const c="$".repeat(o);/[^ \r\n]/.test(s)&&(/^[ \r\n]/.test(s)&&/[ \r\n]$/.test(s)||/^\$|\$$/.test(s))&&(s=" "+s+" ");let f=-1;for(;++f<l.unsafe.length;){const p=l.unsafe[f];if(!p.atBreak)continue;const h=l.compilePattern(p);let S;for(;S=h.exec(s);){let g=S.index;s.codePointAt(g)===10&&s.codePointAt(g-1)===13&&g--,s=s.slice(0,g)+" "+s.slice(S.index+1)}}return c+s+c}function i(){return"$"}}const yu={tokenize:ku,concrete:!0,name:"mathFlow"},Ue={tokenize:bu,partial:!0};function ku(t,e,n){const r=this,i=r.events[r.events.length-1],u=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let a=0;return l;function l(z){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),s(z)}function s(z){return z===36?(t.consume(z),a++,s):a<2?n(z):(t.exit("mathFlowFenceSequence"),R(t,o,"whitespace")(z))}function o(z){return z===null||_(z)?f(z):(t.enter("mathFlowFenceMeta"),t.enter("chunkString",{contentType:"string"}),c(z))}function c(z){return z===null||_(z)?(t.exit("chunkString"),t.exit("mathFlowFenceMeta"),f(z)):z===36?n(z):(t.consume(z),c)}function f(z){return t.exit("mathFlowFence"),r.interrupt?e(z):t.attempt(Ue,p,E)(z)}function p(z){return t.attempt({tokenize:w,partial:!0},E,h)(z)}function h(z){return(u?R(t,S,"linePrefix",u+1):S)(z)}function S(z){return z===null?E(z):_(z)?t.attempt(Ue,p,E)(z):(t.enter("mathFlowValue"),g(z))}function g(z){return z===null||_(z)?(t.exit("mathFlowValue"),S(z)):(t.consume(z),g)}function E(z){return t.exit("mathFlow"),e(z)}function w(z,A,v){let N=0;return R(z,k,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function k(b){return z.enter("mathFlowFence"),z.enter("mathFlowFenceSequence"),P(b)}function P(b){return b===36?(N++,z.consume(b),P):N<a?v(b):(z.exit("mathFlowFenceSequence"),R(z,M,"whitespace")(b))}function M(b){return b===null||_(b)?(z.exit("mathFlowFence"),A(b)):v(b)}}}function bu(t,e,n){const r=this;return i;function i(a){return a===null?e(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),u)}function u(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function wu(t){let n=(t||{}).singleDollarTextMath;return n==null&&(n=!0),{tokenize:r,resolve:zu,previous:Su,name:"mathText"};function r(i,u,a){let l=0,s,o;return c;function c(g){return i.enter("mathText"),i.enter("mathTextSequence"),f(g)}function f(g){return g===36?(i.consume(g),l++,f):l<2&&!n?a(g):(i.exit("mathTextSequence"),p(g))}function p(g){return g===null?a(g):g===36?(o=i.enter("mathTextSequence"),s=0,S(g)):g===32?(i.enter("space"),i.consume(g),i.exit("space"),p):_(g)?(i.enter("lineEnding"),i.consume(g),i.exit("lineEnding"),p):(i.enter("mathTextData"),h(g))}function h(g){return g===null||g===32||g===36||_(g)?(i.exit("mathTextData"),p(g)):(i.consume(g),h)}function S(g){return g===36?(i.consume(g),s++,S):s===l?(i.exit("mathTextSequence"),i.exit("mathText"),u(g)):(o.type="mathTextData",h(g))}}}function zu(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="mathTextData"){t[e][1].type="mathTextPadding",t[n][1].type="mathTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="mathTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Su(t){return t!==36||this.events[this.events.length-1][1].type==="characterEscape"}function Eu(t){return{flow:{36:yu},text:{36:wu(t)}}}const Cu={};function Au(t){const e=this,n=t||Cu,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),u=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Eu(n)),u.push(xu()),a.push(gu(n))}function Qe(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}const _u=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],We={0:"ï¿½",128:"â¬",130:"â",131:"Æ",132:"â",133:"â¦",134:"â ",135:"â¡",136:"Ë",137:"â°",138:"Å ",139:"â¹",140:"Å",142:"Å½",145:"â",146:"â",147:"â",148:"â",149:"â¢",150:"â",151:"â",152:"Ë",153:"â¢",154:"Å¡",155:"âº",156:"Å",158:"Å¾",159:"Å¸"};function mn(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=48&&e<=57}function Iu(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=102||e>=65&&e<=70||e>=48&&e<=57}function Tu(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=122||e>=65&&e<=90}function Ye(t){return Tu(t)||mn(t)}const Lu=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function ce(t,e){const n=e||{},r=typeof n.additional=="string"?n.additional.charCodeAt(0):n.additional,i=[];let u=0,a=-1,l="",s,o;n.position&&("start"in n.position||"indent"in n.position?(o=n.position.indent,s=n.position.start):s=n.position);let c=(s?s.line:0)||1,f=(s?s.column:0)||1,p=S(),h;for(u--;++u<=t.length;)if(h===10&&(f=(o?o[a]:0)||1),h=t.charCodeAt(u),h===38){const w=t.charCodeAt(u+1);if(w===9||w===10||w===12||w===32||w===38||w===60||Number.isNaN(w)||r&&w===r){l+=String.fromCharCode(h),f++;continue}const z=u+1;let A=z,v=z,N;if(w===35){v=++A;const L=t.charCodeAt(v);L===88||L===120?(N="hexadecimal",v=++A):N="decimal"}else N="named";let k="",P="",M="";const b=N==="named"?Ye:N==="decimal"?mn:Iu;for(v--;++v<=t.length;){const L=t.charCodeAt(v);if(!b(L))break;M+=String.fromCharCode(L),N==="named"&&_u.includes(M)&&(k=M,P=At(M))}let F=t.charCodeAt(v)===59;if(F){v++;const L=N==="named"?At(M):!1;L&&(k=M,P=L)}let I=1+v-z,T="";if(!(!F&&n.nonTerminated===!1))if(!M)N!=="named"&&g(4,I);else if(N==="named"){if(F&&!P)g(5,1);else if(k!==M&&(v=A+k.length,I=1+v-A,F=!1),!F){const L=k?1:3;if(n.attribute){const j=t.charCodeAt(v);j===61?(g(L,I),P=""):Ye(j)?P="":g(L,I)}else g(L,I)}T=P}else{F||g(2,I);let L=Number.parseInt(M,N==="hexadecimal"?16:10);if(vu(L))g(7,I),T="ï¿½";else if(L in We)g(6,I),T=We[L];else{let j="";Pu(L)&&g(6,I),L>65535&&(L-=65536,j+=String.fromCharCode(L>>>10|55296),L=56320|L&1023),T=j+String.fromCharCode(L)}}if(T){E(),p=S(),u=v-1,f+=v-z+1,i.push(T);const L=S();L.offset++,n.reference&&n.reference.call(n.referenceContext||void 0,T,{start:p,end:L},t.slice(z-1,v)),p=L}else M=t.slice(z-1,v),l+=M,f+=M.length,u=v-1}else h===10&&(c++,a++,f=0),Number.isNaN(h)?E():(l+=String.fromCharCode(h),f++);return i.join("");function S(){return{line:c,column:f,offset:u+((s?s.offset:0)||0)}}function g(w,z){let A;n.warning&&(A=S(),A.column+=z,A.offset+=z,n.warning.call(n.warningContext||void 0,Lu[w],A,w))}function E(){l&&(i.push(l),n.text&&n.text.call(n.textContext||void 0,l,{start:p,end:S()}),l="")}}function vu(t){return t>=55296&&t<=57343||t>1114111}function Pu(t){return t>=1&&t<=8||t===11||t>=13&&t<=31||t>=127&&t<=159||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534}const Fu=/["&'<>`]/g,Du=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Nu=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,Mu=/[|\\{}()[\]^$+*?.]/g,Ze=new WeakMap;function Ou(t,e){if(t=t.replace(e.subset?Ru(e.subset):Fu,r),e.subset||e.escapeOnly)return t;return t.replace(Du,n).replace(Nu,r);function n(i,u,a){return e.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,a.charCodeAt(u+2),e)}function r(i,u,a){return e.format(i.charCodeAt(0),a.charCodeAt(u+1),e)}}function Ru(t){let e=Ze.get(t);return e||(e=Bu(t),Ze.set(t,e)),e}function Bu(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(Mu,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}function Vu(t){return"&#x"+t.toString(16).toUpperCase()+";"}function qu(t,e){return Ou(t,Object.assign({format:Vu},e))}const dn=(function(t){if(t==null)return Uu;if(typeof t=="function")return Nt(t);if(typeof t=="object")return Array.isArray(t)?ju(t):$u(t);if(typeof t=="string")return Hu(t);throw new Error("Expected function, string, or object as test")});function ju(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=dn(t[n]);return Nt(r);function r(...i){let u=-1;for(;++u<e.length;)if(e[u].apply(this,i))return!0;return!1}}function $u(t){const e=t;return Nt(n);function n(r){const i=r;let u;for(u in t)if(i[u]!==e[u])return!1;return!0}}function Hu(t){return Nt(e);function e(n){return n&&n.type===t}}function Nt(t){return e;function e(n,r,i){return!!(Qu(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Uu(){return!0}function Qu(t){return t!==null&&typeof t=="object"&&"type"in t}const xn=[],Wu=!0,Ge=!1,Yu="skip";function gn(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const u=dn(i),a=r?-1:1;l(t,void 0,[])();function l(s,o,c){const f=s&&typeof s=="object"?s:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(s.type+(h?"<"+h+">":""))+")"})}return p;function p(){let h=xn,S,g,E;if((!e||u(s,o,c[c.length-1]||void 0))&&(h=Zu(n(s,c)),h[0]===Ge))return h;if("children"in s&&s.children){const w=s;if(w.children&&h[0]!==Yu)for(g=(r?w.children.length:-1)+a,E=c.concat(w);g>-1&&g<w.children.length;){const z=w.children[g];if(S=l(z,g,E)(),S[0]===Ge)return S;g=typeof S[1]=="number"?S[1]:g+a}}return h}}}function Zu(t){return Array.isArray(t)?t:typeof t=="number"?[Wu,t]:t==null?xn:[t]}const Gu={}.hasOwnProperty,Ju={},Je=/^[^\t\n\r "#'.<=>`}]+$/,Ku=/^[^\t\n\r "'<=>`}]+$/;function Xu(){return{canContainEols:["textDirective"],enter:{directiveContainer:ea,directiveContainerAttributes:Wt,directiveContainerLabel:ia,directiveLeaf:na,directiveLeafAttributes:Wt,directiveText:ra,directiveTextAttributes:Wt},exit:{directiveContainer:Xt,directiveContainerAttributeClassValue:Zt,directiveContainerAttributeIdValue:Yt,directiveContainerAttributeName:Jt,directiveContainerAttributeValue:Gt,directiveContainerAttributes:Kt,directiveContainerLabel:ua,directiveContainerName:Qt,directiveLeaf:Xt,directiveLeafAttributeClassValue:Zt,directiveLeafAttributeIdValue:Yt,directiveLeafAttributeName:Jt,directiveLeafAttributeValue:Gt,directiveLeafAttributes:Kt,directiveLeafName:Qt,directiveText:Xt,directiveTextAttributeClassValue:Zt,directiveTextAttributeIdValue:Yt,directiveTextAttributeName:Jt,directiveTextAttributeValue:Gt,directiveTextAttributes:Kt,directiveTextName:Qt}}}function ta(t){const e=Ju;if(e.quote!=='"'&&e.quote!=="'"&&e.quote!==null&&e.quote!==void 0)throw new Error("Invalid quote `"+e.quote+"`, expected `'` or `\"`");return n.peek=aa,{handlers:{containerDirective:n,leafDirective:n,textDirective:n},unsafe:[{character:"\r",inConstruct:["leafDirectiveLabel","containerDirectiveLabel"]},{character:`
`,inConstruct:["leafDirectiveLabel","containerDirectiveLabel"]},{before:"[^:]",character:":",after:"[A-Za-z]",inConstruct:["phrasing"]},{atBreak:!0,character:":",after:":"}]};function n(u,a,l,s){const o=l.createTracker(s),c=la(u),f=l.enter(u.type);let p=o.move(c+(u.name||"")),h;if(u.type==="containerDirective"){const S=(u.children||[])[0];h=Ke(S)?S:void 0}else h=u;if(h&&h.children&&h.children.length>0){const S=l.enter("label"),g=`${u.type}Label`,E=l.enter(g);p+=o.move("["),p+=o.move(l.containerPhrasing(h,{...o.current(),before:p,after:"]"})),p+=o.move("]"),E(),S()}if(p+=o.move(r(u,l)),u.type==="containerDirective"){const S=(u.children||[])[0];let g=u;Ke(S)&&(g=Object.assign({},u,{children:u.children.slice(1)})),g&&g.children&&g.children.length>0&&(p+=o.move(`
`),p+=o.move(l.containerFlow(g,o.current()))),p+=o.move(`
`+c)}return f(),p}function r(u,a){const l=u.attributes||{},s=[];let o,c,f,p;for(p in l)if(Gu.call(l,p)&&l[p]!==void 0&&l[p]!==null){const h=String(l[p]);if(p==="id")f=e.preferShortcut!==!1&&Je.test(h)?"#"+h:i("id",h,u,a);else if(p==="class"){const S=h.split(/[\t\n\r ]+/g),g=[],E=[];let w=-1;for(;++w<S.length;)(e.preferShortcut!==!1&&Je.test(S[w])?E:g).push(S[w]);o=g.length>0?i("class",g.join(" "),u,a):"",c=E.length>0?"."+E.join("."):""}else s.push(i(p,h,u,a))}return o&&s.unshift(o),c&&s.unshift(c),f&&s.unshift(f),s.length>0?"{"+s.join(" ")+"}":""}function i(u,a,l,s){if(e.collapseEmptyAttributes!==!1&&!a)return u;if(e.preferUnquoted&&Ku.test(a))return u+"="+a;const o=e.quote||s.options.quote||'"',c=o==='"'?"'":'"',f=e.quoteSmart&&Qe(a,o)>Qe(a,c)?c:o,p=l.type==="textDirective"?[f]:[f,`
`,"\r"];return u+"="+f+qu(a,{subset:p})+f}}function ea(t){he.call(this,"containerDirective",t)}function na(t){he.call(this,"leafDirective",t)}function ra(t){he.call(this,"textDirective",t)}function he(t,e){this.enter({type:t,name:"",attributes:{},children:[]},e)}function Qt(t){const e=this.stack[this.stack.length-1];e.type==="containerDirective"||e.type==="leafDirective"||e.type,e.name=this.sliceSerialize(t)}function ia(t){this.enter({type:"paragraph",data:{directiveLabel:!0},children:[]},t)}function ua(t){this.exit(t)}function Wt(){this.data.directiveAttributes=[],this.buffer()}function Yt(t){this.data.directiveAttributes.push(["id",ce(this.sliceSerialize(t),{attribute:!0})])}function Zt(t){this.data.directiveAttributes.push(["class",ce(this.sliceSerialize(t),{attribute:!0})])}function Gt(t){const e=this.data.directiveAttributes;e[e.length-1][1]=ce(this.sliceSerialize(t),{attribute:!0})}function Jt(t){this.data.directiveAttributes.push([this.sliceSerialize(t),""])}function Kt(){const t=this.data.directiveAttributes,e={};let n=-1;for(;++n<t.length;){const i=t[n];i[0]==="class"&&e.class?e.class+=" "+i[1]:e[i[0]]=i[1]}this.data.directiveAttributes=void 0,this.resume();const r=this.stack[this.stack.length-1];r.type==="containerDirective"||r.type==="leafDirective"||r.type,r.attributes=e}function Xt(t){this.exit(t)}function aa(){return":"}function Ke(t){return!!(t&&t.type==="paragraph"&&t.data&&t.data.directiveLabel)}function la(t){let e=0;return t.type==="containerDirective"?(gn(t,function(n,r){if(n.type==="containerDirective"){let i=r.length,u=0;for(;i--;)r[i].type==="containerDirective"&&u++;u>e&&(e=u)}}),e+=3):t.type==="leafDirective"?e=2:e=1,":".repeat(e)}function fe(t,e,n,r,i,u,a,l,s,o,c,f,p,h,S){let g,E;return w;function w(x){return t.enter(r),t.enter(i),t.consume(x),t.exit(i),z}function z(x){return x===35?(g=a,A(x)):x===46?(g=l,A(x)):S&&q(x)?R(t,z,"whitespace")(x):!S&&U(x)?ct(t,z)(x):x===null||_(x)||It(x)||_t(x)&&x!==45&&x!==95?j(x):(t.enter(u),t.enter(s),t.consume(x),k)}function A(x){const B=g+"Marker";return t.enter(u),t.enter(g),t.enter(B),t.consume(x),t.exit(B),v}function v(x){if(x===null||x===34||x===35||x===39||x===46||x===60||x===61||x===62||x===96||x===125||U(x))return n(x);const B=g+"Value";return t.enter(B),t.consume(x),N}function N(x){if(x===null||x===34||x===39||x===60||x===61||x===62||x===96)return n(x);if(x===35||x===46||x===125||U(x)){const B=g+"Value";return t.exit(B),t.exit(g),t.exit(u),z(x)}return t.consume(x),N}function k(x){return x===null||_(x)||It(x)||_t(x)&&x!==45&&x!==46&&x!==58&&x!==95?(t.exit(s),S&&q(x)?R(t,P,"whitespace")(x):!S&&U(x)?ct(t,P)(x):P(x)):(t.consume(x),k)}function P(x){return x===61?(t.enter(o),t.consume(x),t.exit(o),M):(t.exit(u),z(x))}function M(x){return x===null||x===60||x===61||x===62||x===96||x===125||S&&_(x)?n(x):x===34||x===39?(t.enter(c),t.enter(p),t.consume(x),t.exit(p),E=x,F):S&&q(x)?R(t,M,"whitespace")(x):!S&&U(x)?ct(t,M)(x):(t.enter(f),t.enter(h),t.consume(x),E=void 0,b)}function b(x){return x===null||x===34||x===39||x===60||x===61||x===62||x===96?n(x):x===125||U(x)?(t.exit(h),t.exit(f),t.exit(u),z(x)):(t.consume(x),b)}function F(x){return x===E?(t.enter(p),t.consume(x),t.exit(p),t.exit(c),t.exit(u),L):(t.enter(f),I(x))}function I(x){return x===E?(t.exit(f),F(x)):x===null?n(x):_(x)?S?n(x):ct(t,I)(x):(t.enter(h),t.consume(x),T)}function T(x){return x===E||x===null||_(x)?(t.exit(h),I(x)):(t.consume(x),T)}function L(x){return x===125||U(x)?z(x):j(x)}function j(x){return x===125?(t.enter(i),t.consume(x),t.exit(i),t.exit(r),e):n(x)}}function pe(t,e,n,r,i,u,a){let l=0,s=0,o;return c;function c(E){return t.enter(r),t.enter(i),t.consume(E),t.exit(i),f}function f(E){return E===93?(t.enter(i),t.consume(E),t.exit(i),t.exit(r),e):(t.enter(u),p(E))}function p(E){if(E===93&&!s)return g(E);const w=t.enter("chunkText",{_contentTypeTextTrailing:!0,contentType:"text",previous:o});return o&&(o.next=w),o=w,h(E)}function h(E){return E===null||l>999||E===91&&++s>32?n(E):E===93&&!s--?(t.exit("chunkText"),g(E)):_(E)?a?n(E):(t.consume(E),t.exit("chunkText"),p):(t.consume(E),E===92?S:h)}function S(E){return E===91||E===92||E===93?(t.consume(E),l++,h):h(E)}function g(E){return t.exit(u),t.enter(i),t.consume(E),t.exit(i),t.exit(r),e}}function me(t,e,n,r){const i=this;return u;function u(l){return l===null||_(l)||_t(l)||It(l)?n(l):(t.enter(r),t.consume(l),a)}function a(l){return l===null||_(l)||It(l)||_t(l)&&l!==45&&l!==95?(t.exit(r),i.previous===45||i.previous===95?n(l):e(l)):(t.consume(l),a)}}const oa={tokenize:ha,concrete:!0},sa={tokenize:fa,partial:!0},ca={tokenize:pa,partial:!0},Pt={tokenize:ma,partial:!0};function ha(t,e,n){const r=this,i=r.events[r.events.length-1],u=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let a=0,l;return s;function s(b){return t.enter("directiveContainer"),t.enter("directiveContainerFence"),t.enter("directiveContainerSequence"),o(b)}function o(b){return b===58?(t.consume(b),a++,o):a<3?n(b):(t.exit("directiveContainerSequence"),me.call(r,t,c,n,"directiveContainerName")(b))}function c(b){return b===91?t.attempt(sa,f,f)(b):f(b)}function f(b){return b===123?t.attempt(ca,p,p)(b):p(b)}function p(b){return R(t,h,"whitespace")(b)}function h(b){return t.exit("directiveContainerFence"),b===null?P(b):_(b)?r.interrupt?e(b):t.attempt(Pt,S,P)(b):n(b)}function S(b){return b===null?P(b):_(b)?t.check(Pt,A,P)(b):(t.enter("directiveContainerContent"),g(b))}function g(b){return t.attempt({tokenize:M,partial:!0},k,u?R(t,E,"linePrefix",u+1):E)(b)}function E(b){return b===null?k(b):_(b)?t.check(Pt,z,k)(b):z(b)}function w(b){if(b===null){const F=t.exit("chunkDocument");return r.parser.lazy[F.start.line]=!1,k(b)}return _(b)?t.check(Pt,v,N)(b):(t.consume(b),w)}function z(b){const F=t.enter("chunkDocument",{contentType:"document",previous:l});return l&&(l.next=F),l=F,w(b)}function A(b){return t.enter("directiveContainerContent"),g(b)}function v(b){t.consume(b);const F=t.exit("chunkDocument");return r.parser.lazy[F.start.line]=!1,g}function N(b){const F=t.exit("chunkDocument");return r.parser.lazy[F.start.line]=!1,k(b)}function k(b){return t.exit("directiveContainerContent"),P(b)}function P(b){return t.exit("directiveContainer"),e(b)}function M(b,F,I){let T=0;return R(b,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function L(B){return b.enter("directiveContainerFence"),b.enter("directiveContainerSequence"),j(B)}function j(B){return B===58?(b.consume(B),T++,j):T<a?I(B):(b.exit("directiveContainerSequence"),R(b,x,"whitespace")(B))}function x(B){return B===null||_(B)?(b.exit("directiveContainerFence"),F(B)):I(B)}}}function fa(t,e,n){return pe(t,e,n,"directiveContainerLabel","directiveContainerLabelMarker","directiveContainerLabelString",!0)}function pa(t,e,n){return fe(t,e,n,"directiveContainerAttributes","directiveContainerAttributesMarker","directiveContainerAttribute","directiveContainerAttributeId","directiveContainerAttributeClass","directiveContainerAttributeName","directiveContainerAttributeInitializerMarker","directiveContainerAttributeValueLiteral","directiveContainerAttributeValue","directiveContainerAttributeValueMarker","directiveContainerAttributeValueData",!0)}function ma(t,e,n){const r=this;return i;function i(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),u}function u(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const da={tokenize:ya},xa={tokenize:ka,partial:!0},ga={tokenize:ba,partial:!0};function ya(t,e,n){const r=this;return i;function i(c){return t.enter("directiveLeaf"),t.enter("directiveLeafSequence"),t.consume(c),u}function u(c){return c===58?(t.consume(c),t.exit("directiveLeafSequence"),me.call(r,t,a,n,"directiveLeafName")):n(c)}function a(c){return c===91?t.attempt(xa,l,l)(c):l(c)}function l(c){return c===123?t.attempt(ga,s,s)(c):s(c)}function s(c){return R(t,o,"whitespace")(c)}function o(c){return c===null||_(c)?(t.exit("directiveLeaf"),e(c)):n(c)}}function ka(t,e,n){return pe(t,e,n,"directiveLeafLabel","directiveLeafLabelMarker","directiveLeafLabelString",!0)}function ba(t,e,n){return fe(t,e,n,"directiveLeafAttributes","directiveLeafAttributesMarker","directiveLeafAttribute","directiveLeafAttributeId","directiveLeafAttributeClass","directiveLeafAttributeName","directiveLeafAttributeInitializerMarker","directiveLeafAttributeValueLiteral","directiveLeafAttributeValue","directiveLeafAttributeValueMarker","directiveLeafAttributeValueData",!0)}const wa={tokenize:Ca,previous:Ea},za={tokenize:Aa,partial:!0},Sa={tokenize:_a,partial:!0};function Ea(t){return t!==58||this.events[this.events.length-1][1].type==="characterEscape"}function Ca(t,e,n){const r=this;return i;function i(s){return t.enter("directiveText"),t.enter("directiveTextMarker"),t.consume(s),t.exit("directiveTextMarker"),me.call(r,t,u,n,"directiveTextName")}function u(s){return s===58?n(s):s===91?t.attempt(za,a,a)(s):a(s)}function a(s){return s===123?t.attempt(Sa,l,l)(s):l(s)}function l(s){return t.exit("directiveText"),e(s)}}function Aa(t,e,n){return pe(t,e,n,"directiveTextLabel","directiveTextLabelMarker","directiveTextLabelString")}function _a(t,e,n){return fe(t,e,n,"directiveTextAttributes","directiveTextAttributesMarker","directiveTextAttribute","directiveTextAttributeId","directiveTextAttributeClass","directiveTextAttributeName","directiveTextAttributeInitializerMarker","directiveTextAttributeValueLiteral","directiveTextAttributeValue","directiveTextAttributeValueMarker","directiveTextAttributeValueData")}function Ia(){return{text:{58:wa},flow:{58:[oa,da]}}}function Ta(){const e=this.data(),n=e.micromarkExtensions||(e.micromarkExtensions=[]),r=e.fromMarkdownExtensions||(e.fromMarkdownExtensions=[]),i=e.toMarkdownExtensions||(e.toMarkdownExtensions=[]);n.push(Ia()),r.push(Xu()),i.push(ta())}function La(t,e,n,r){let i,u,a;typeof e=="function"&&typeof n!="function"?(u=void 0,a=e,i=n):(u=e,a=n,i=r),gn(t,u,l,i);function l(s,o){const c=o[o.length-1],f=c?c.children.indexOf(s):void 0;return a(s,f,c)}}function va(t,e={}){const{maxLength:n=160,stopAtHint:r=!0,stopAtSolution:i=!0}=e;if(!t||t.trim().length===0)return"";try{const u=lr().use(mu).use(Au).use(Ta).parse(t);let a="",l=!1;return La(u,s=>{if(!l){if(s.type==="containerDirective"||s.type==="leafDirective"||s.type==="textDirective"){const o=s;if(r&&o.name==="hint"||i&&o.name==="solution"){l=!0;return}}s.type==="text"&&(a+=s.value+" "),s.type==="inlineMath"&&(a+=s.value+" "),s.type==="math"&&(a+=`[Math: ${s.value}] `)}}),a=a.replace(/\s+/g," ").trim(),a.length===0?"":Pa(a,n)}catch(u){return console.error("Error extracting text from puzzle markdown:",u),""}}function Pa(t,e){if(t.length<=e)return t;const n=t.substring(0,e),r=n.lastIndexOf(" ");return r>0?n.substring(0,r)+"...":n+"..."}const Va=({data:t})=>{if(!t?.slug||!t?.puzzle)return[{title:"Puzzle - Puzzlestone Peak"},{name:"description",content:"Explore logic puzzles and problem-solving challenges."}];const e=t.puzzle,n=`${e.metadata.title} - Puzzlestone Peak`,i=(e.rawContent?va(e.rawContent,{maxLength:160}):"")||e.metadata.websitePreview||e.metadata.preview||"A logic puzzle from Puzzlestone Peak.",u=e.metadata.concepts?.length?[...e.metadata.concepts,e.metadata.difficulty,"logic puzzle"].join(", "):"",a=[{title:n},{name:"description",content:i},{property:"og:title",content:n},{property:"og:description",content:i},{property:"og:type",content:"article"},{name:"twitter:card",content:"summary"},{name:"twitter:title",content:n},{name:"twitter:description",content:i}];return u&&a.push({name:"keywords",content:u}),a},qa=In(function(){const{slug:e}=Tn(),[n,r]=Et.useState(null),[i,u]=Et.useState(!0),[a,l]=Et.useState(null),s=Ln(ze.PUZZLES),o=n?.metadata?.id;return Dn(o??""),Et.useEffect(()=>{if(!e){l("No puzzle slug provided"),u(!1);return}(async()=>{try{u(!0),l(null);const{puzzleIndex:f}=await $(async()=>{const{puzzleIndex:g}=await import("./puzzleIndex-mVLt7SRB.js");return{puzzleIndex:g}},[]),p=f.find(g=>g.slug===e);if(!p)throw new Error("Puzzle not found in manifest");const S=(await qn(Object.assign({"../../content/puzzles/cryptography/cryptography-caesar.md":()=>$(()=>import("./cryptography-caesar-BI008kTR.js"),[]),"../../content/puzzles/cryptography/cryptography-quantum.md":()=>$(()=>import("./cryptography-quantum-DUEvHVSe.js"),[]),"../../content/puzzles/cryptography/cryptography-rsa.md":()=>$(()=>import("./cryptography-rsa-CZkJgJYD.js"),[]),"../../content/puzzles/developer/dynamic-showcase.md":()=>$(()=>import("./dynamic-showcase-B2C7Kv6o.js"),[]),"../../content/puzzles/graph-theory/graph-coloring-chromatic.md":()=>$(()=>import("./graph-coloring-chromatic-TgZA9EZV.js"),[]),"../../content/puzzles/graph-theory/graph-coloring-four-color.md":()=>$(()=>import("./graph-coloring-four-color-BDKGjlh0.js"),[]),"../../content/puzzles/graph-theory/graph-coloring-intro.md":()=>$(()=>import("./graph-coloring-intro-B9a4pwcB.js"),[]),"../../content/puzzles/logic/busy-beaver.md":()=>$(()=>import("./busy-beaver-Be_kayuz.js"),[]),"../../content/puzzles/logic/chess-number.md":()=>$(()=>import("./chess-number-BpBw0bAl.js"),[]),"../../content/puzzles/logic/logic-paradox-barber.md":()=>$(()=>import("./logic-paradox-barber-9ngmI4il.js"),[]),"../../content/puzzles/logic/logic-paradox-intro.md":()=>$(()=>import("./logic-paradox-intro-Dhm7iNt7.js"),[]),"../../content/puzzles/logic/logic-paradox-liar.md":()=>$(()=>import("./logic-paradox-liar-DtCHQJ2Z.js"),[]),"../../content/puzzles/logic/monty-hall.md":()=>$(()=>import("./monty-hall-sx6OxteS.js"),[]),"../../content/puzzles/logic/nim-game-basics.md":()=>$(()=>import("./nim-game-basics-7rydiQ5u.js"),[]),"../../content/puzzles/logic/nim-game-strategy.md":()=>$(()=>import("./nim-game-strategy-BggCOXEJ.js"),[]),"../../content/puzzles/logic/nim-game-variations.md":()=>$(()=>import("./nim-game-variations-Pr3E7stH.js"),[]),"../../content/puzzles/logic/prisoners-switch.md":()=>$(()=>import("./prisoners-switch-nqY1FOH1.js"),[]),"../../content/puzzles/logic/ramsey-theory.md":()=>$(()=>import("./ramsey-theory-CYnI2tP3.js"),[]),"../../content/puzzles/logic/river-crossing.md":()=>$(()=>import("./river-crossing-CRcMGogJ.js"),[]),"../../content/puzzles/logic/tower-of-hanoi.md":()=>$(()=>import("./tower-of-hanoi-Bc-RBob0.js"),[]),"../../content/puzzles/logic/two-doors.md":()=>$(()=>import("./two-doors-Ceocq1jG.js"),[]),"../../content/puzzles/number-theory/collatz-conjecture.md":()=>$(()=>import("./collatz-conjecture-BEXWDypv.js"),[]),"../../content/puzzles/number-theory/continuum-hypothesis.md":()=>$(()=>import("./continuum-hypothesis-BHofM7Fi.js"),[]),"../../content/puzzles/number-theory/goldbach.md":()=>$(()=>import("./goldbach-D4FHyGnA.js"),[]),"../../content/puzzles/number-theory/perfect-numbers.md":()=>$(()=>import("./perfect-numbers-B5EKmNqA.js"),[]),"../../content/puzzles/number-theory/prime-distribution.md":()=>$(()=>import("./prime-distribution-CsMNm5Q_.js"),[]),"../../content/puzzles/number-theory/prime-gaps.md":()=>$(()=>import("./prime-gaps-C4co9ZJc.js"),[]),"../../content/puzzles/number-theory/prime-twins.md":()=>$(()=>import("./prime-twins-Dw81nMDa.js"),[]),"../../content/puzzles/number-theory/riemann-hypothesis.md":()=>$(()=>import("./riemann-hypothesis-DBeWiISH.js"),[]),"../../content/puzzles/number-theory/sum-of-squares.md":()=>$(()=>import("./sum-of-squares-BsGm84LX.js"),[]),"../../content/puzzles/number-theory/twin-primes-unsolved.md":()=>$(()=>import("./twin-primes-unsolved-DWAfBw7G.js"),[])}),`../../content/puzzles/${p._path}/${e}.md`,6)).default;r(S)}catch(f){console.error("Failed to load puzzle:",f),l("Puzzle not found")}finally{u(!1)}})()},[e]),i?O.jsx("div",{className:"container mx-auto px-4 py-6",children:O.jsx("div",{className:"max-w-4xl mx-auto",children:O.jsxs("div",{className:"animate-pulse",children:[O.jsx("div",{className:"h-8 bg-muted rounded w-3/4 mb-4"}),O.jsx("div",{className:"h-4 bg-muted rounded w-1/2 mb-8"}),O.jsxs("div",{className:"space-y-3",children:[O.jsx("div",{className:"h-4 bg-muted rounded"}),O.jsx("div",{className:"h-4 bg-muted rounded"}),O.jsx("div",{className:"h-4 bg-muted rounded w-5/6"})]})]})})}):a||!n?O.jsx("div",{className:"container mx-auto px-4 py-6",children:O.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[O.jsx("h1",{className:"text-3xl font-bold text-foreground mb-4",children:"Puzzle Not Found"}),O.jsx("p",{className:"text-muted-foreground mb-8",children:"The puzzle you're looking for doesn't exist or has been moved."}),O.jsx(be,{to:ze.PUZZLES,className:"inline-block px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Back to Puzzle Library"})]})}):O.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[O.jsx(be,{...s,className:"inline-flex items-center text-link hover:text-link-hover hover:underline mb-6 cursor-pointer",children:"â Back"}),O.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-4",children:[O.jsx("h1",{className:"text-4xl font-bold text-foreground sm:flex-1",children:n.metadata.title}),O.jsx(we,{type:"puzzle",id:n.metadata.id})]}),O.jsx(jn,{metadata:n.metadata}),O.jsx(Ce,{type:"previous",puzzleSlug:n.metadata.previousPuzzle}),O.jsx(vn,{content:n.content,dynamicBlocks:n.dynamicBlocks}),O.jsx("div",{className:"flex justify-center my-8",children:O.jsx(we,{type:"puzzle",id:n.metadata.id})}),O.jsx(Ce,{type:"next",puzzleSlug:n.metadata.nextPuzzle}),O.jsx(Rn,{currentPuzzleId:n.metadata.id})]})});export{qa as default,Va as meta};
