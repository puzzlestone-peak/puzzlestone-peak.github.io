import{t as e,L as i,b as o,w as u,x as h,A as g,i as f}from"./index-DIth0oIc.js";import{L as y}from"./Logo-BRp-LhsU.js";import{D as x,R as l,B as p,C as b,o as j,p as v,n as z,q as w,s as d}from"./card-CeispfCi.js";import{u as L,I as k}from"./ItemCardList-DC-u4o5t.js";import{g as m,r as N,E as P}from"./ErrorBoundary-Ch767kHG.js";import{puzzleIndex as E}from"./puzzleIndex-CvT980ad.js";function C(){return e.jsxs("svg",{className:"h-full w-full",viewBox:"0 0 1400 500",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid slice",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"skyGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",style:{stopColor:"oklch(0.60 0.070 220)",stopOpacity:1}}),e.jsx("stop",{offset:"50%",style:{stopColor:"oklch(0.72 0.055 220)",stopOpacity:1}}),e.jsx("stop",{offset:"100%",style:{stopColor:"oklch(0.80 0.045 220)",stopOpacity:1}})]})}),e.jsx("rect",{width:"1400",height:"500",fill:"url(#skyGradient)"}),e.jsx("path",{d:"M 0 350 L 240 220 L 420 290 L 620 200 L 840 270 L 1060 230 L 1280 300 L 1400 260 L 1400 500 L 0 500 Z",fill:"oklch(0.45 0.080 220)",opacity:"0.25"}),e.jsx("path",{d:"M 0 380 L 280 260 L 480 340 L 700 240 L 920 310 L 1140 270 L 1400 330 L 1400 500 L 0 500 Z",fill:"oklch(0.49 0.100 155)",opacity:"0.5"}),e.jsx("path",{d:"M 0 420 L 220 320 L 420 390 L 640 300 L 860 370 L 1080 320 L 1280 380 L 1400 350 L 1400 500 L 0 500 Z",fill:"oklch(0.41 0.095 155)"}),e.jsx("path",{d:"M 580 200 L 700 80 L 820 240 Z",fill:"oklch(0.60 0.090 95)"}),e.jsx("path",{d:"M 260 260 L 340 190 L 420 280 Z",fill:"oklch(0.68 0.080 95)",opacity:"0.7"})]})}function S(){return e.jsxs("section",{className:"relative h-[500px] w-full overflow-hidden md:h-[500px] sm:h-[350px]",children:[e.jsx(C,{}),e.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gradient-to-b from-transparent to-black/15",children:e.jsxs("div",{className:"mb-4 flex items-center gap-4 sm:gap-6",children:[e.jsx(y,{className:"h-[72px] w-[72px] text-white drop-shadow-[0_2px_12px_rgba(0,0,0,0.3)] md:h-[72px] md:w-[72px] sm:h-[52px] sm:w-[52px]"}),e.jsx("h1",{className:"text-[1.5rem] font-bold leading-none text-white drop-shadow-[0_2px_12px_rgba(0,0,0,0.3)] sm:text-[2rem] md:text-[3.5rem]",children:"Puzzlestone Peak"})]})})]})}const _=[{label:"Starter",slug:"starter"},...x.map(r=>({label:r.charAt(0).toUpperCase()+r.slice(1),slug:r})),{label:"All",slug:"all"}];function I(){return e.jsxs("section",{className:"rounded-md border border-border bg-card py-3 px-4",children:[e.jsx("h2",{className:"mb-3 text-[0.75rem] text-center font-semibold uppercase tracking-wider text-primary",children:"Quick Links"}),e.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-[4fr_1fr] sm:gap-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-[0.7rem] font-semibold uppercase tracking-wider text-primary",children:"Puzzles by Difficulty"}),e.jsx("div",{className:"grid gap-2 grid-cols-2 sm:grid-cols-4",children:_.map(({label:r,slug:t})=>e.jsx(i,{to:`${l.PUZZLES}/${t}`,className:"block rounded-sm border border-border bg-muted px-2 py-1.5 text-center text-[0.7rem] font-medium text-foreground no-underline transition-all hover:border-primary hover:bg-primary hover:text-white",children:r},t))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-[0.7rem] font-semibold uppercase tracking-wider text-primary",children:"Expeditions"}),e.jsx("div",{className:"grid grid-cols-1 gap-1",children:e.jsx(i,{to:l.EXPEDITIONS,className:"block rounded-sm border border-border bg-muted px-2 py-1.5 text-center text-[0.7rem] font-medium text-foreground no-underline transition-all hover:border-primary hover:bg-primary hover:text-white",children:"View All"})})]})]})]})}function R(){return e.jsxs("section",{className:"mx-auto max-w-[800px] py-12",children:[e.jsx("h2",{className:"mb-6 text-center text-[2rem] font-bold text-foreground [text-wrap:balance]",children:"Puzzlestone Peak"}),e.jsxs("div",{className:"space-y-5 text-xl leading-8 text-muted-foreground",children:[e.jsx("p",{children:"Greetings climber, and welcome to Puzzlestone Peak."}),e.jsx("p",{children:"Here, every puzzle takes you another step closer to the summit. Honing your puzzle-solving skills on our carefully curated puzzles, and you'll be an expert mountaineer in no time. If you're ever looking to level-up your skills, check out our expeditions: learning modules to teach you concepts that will be used to tackle some of the more challenging puzzles."}),e.jsx("p",{children:"Climb alone to hone your solo skills, or alongside friends and scale the mountain together. Then track your journey on the progress page! Whether you're here to enjoy the scenery or to conquer every obstacle on the mountain, Puzzlestone Peak has something for you."})]})]})}function B(r){return{count:5,filters:[{type:"exclude",excludeList:r?.excludeList??[]},{type:"completion",status:"undone"},{type:"publication",mode:"auto"}],fallbacks:[{type:"difficulty",strategy:"balanced",balanceConstraint:{type:"max-min-diff",maxDiff:1},excludeFullyCompletedDifficulties:!0},{type:"completion",allowCompleted:!0}],selectionStrategy:{type:"random-by-difficulty",mode:"one-per-difficulty",difficulties:[...x]},balancingStrategy:{type:"difficulty-balance",maxDiff:1,excludeFullyCompleted:!0}}}function D(){const r=L(),[t,n]=o.useState(void 0);o.useEffect(()=>{n(m(`homepage-${Date.now()}`))},[]);const c=o.useMemo(()=>{if(t===void 0)return[];try{const s=B({excludeList:[]});return N(s,{allPuzzles:E,userProgress:r,environment:"production",seed:t})}catch(s){return console.error("Failed to generate homepage recommendations:",s),[]}},[t,r]),a=o.useCallback(()=>{n(m(`homepage-${Date.now()}`))},[]);return{recommendations:c,refresh:a,isReady:t!==void 0}}function T(){const{recommendations:r,refresh:t}=D();return e.jsxs("section",{className:"my-16 rounded-2xl bg-gradient-to-br from-[var(--gradient-recommendation-start)] to-[var(--gradient-recommendation-end)] px-8 py-12 text-white",children:[e.jsx("h2",{className:"mb-4 text-center text-[2rem] font-semibold [text-wrap:balance]",children:"Recommended Puzzles"}),e.jsx("div",{className:"mx-auto max-w-[900px]",children:e.jsx(k,{type:"puzzle",items:r,variant:"compact"})}),t&&e.jsx("div",{className:"flex justify-center",children:e.jsx(p,{size:"lg",onClick:t,className:"mx-auto mt-8 bg-card text-card-foreground hover:bg-card/90 hover:translate-y-0.5 hover:translate-x-0.5 hover:shadow-[0_4px_12px_rgba(0,0,0,0.2)] transition-all disabled:opacity-50",children:"Show More"})})]})}function M(){return e.jsxs("section",{className:"my-16 grid grid-cols-1 sm:grid-cols-2 gap-0 overflow-hidden rounded-2xl shadow-[0_4px_24px_rgba(0,0,0,0.15)] dark:shadow-[0_4px_24px_rgba(255,255,255,0.1)]",children:[e.jsx("div",{className:"overflow-hidden",children:e.jsxs(i,{to:l.PUZZLES,className:"flex flex-col items-center justify-center px-12 py-16 text-center text-white no-underline transition-transform duration-600 bg-navy-600 dark:bg-navy-600 hover:scale-105",children:[e.jsx("div",{className:"mb-4 text-[2rem] font-bold",children:"Explore Puzzles"}),e.jsx("div",{className:"text-[1.1rem] opacity-95",children:"Browse our complete puzzle library"})]})}),e.jsx("div",{className:"overflow-hidden",children:e.jsxs(i,{to:l.EXPEDITIONS,className:"flex flex-col items-center justify-center px-12 py-16 text-center text-white no-underline transition-transform duration-600 bg-evergreen-600 dark:bg-evergreen-600 hover:scale-105",children:[e.jsx("div",{className:"mb-4 text-[2rem] font-bold",children:"Start an Expedition"}),e.jsx("div",{className:"text-[1.1rem] opacity-95",children:"Begin a guided learning journey"})]})})]})}const G=()=>[{title:"Puzzlestone Peak - Logic Puzzles and Problem Solving"},{name:"description",content:"Practice logic puzzles and learn puzzle-solving skills through interactive challenges and guided expeditions."},{property:"og:site_name",content:"Puzzlestone Peak"},{property:"og:title",content:"Puzzlestone Peak"},{property:"og:description",content:"Practice logic puzzles and learn puzzle-solving skills through interactive challenges and guided expeditions."},{property:"og:type",content:"website"}],Y=u(function(){return e.jsxs("div",{className:"flex flex-col",children:[e.jsx(S,{}),e.jsxs("div",{className:"container mx-auto max-w-[1200px] px-6 py-12",children:[e.jsx(I,{}),e.jsx(R,{}),e.jsx(P,{context:"recommendations",children:e.jsx(T,{})}),e.jsx(M,{})]})]})}),q=h(function(){const t=g(),[n,c]=o.useState(!1);let a="Homepage Error",s="An unexpected error occurred while loading the homepage.";return f(t)?(a=`Error ${t.status}`,s="An error occurred while loading the homepage.",t.data?.message||t.statusText):t instanceof Error&&t.message,e.jsx("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:e.jsxs(b,{className:"border-destructive/50",children:[e.jsx(j,{children:e.jsxs(v,{className:"flex items-center gap-3",children:[e.jsx(z,{className:"text-destructive size-8"}),a]})}),e.jsxs(w,{className:"space-y-6",children:[e.jsx("p",{className:"text-muted-foreground",children:s}),e.jsx("p",{className:"text-sm text-foreground",children:"Please try reloading the page. If the problem persists, you can still access puzzles and expeditions directly."}),e.jsxs("div",{className:"flex gap-3 flex-wrap",children:[e.jsx(p,{variant:"contained",color:"primary",onClick:()=>window.location.reload(),children:"Reload Page"}),e.jsx(d,{to:"/puzzles",variant:"outlined",children:"Browse Puzzles"}),e.jsx(d,{to:"/expeditions",variant:"outlined",children:"Browse Expeditions"})]}),!1]})]})})});export{q as ErrorBoundary,Y as default,G as meta};
