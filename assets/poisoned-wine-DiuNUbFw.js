const e={slug:"poisoned-wine",metadata:{id:"puzzle-52",title:"Poisoned Wine",difficulty:{concepts:"medium",reasoning:"medium"},concepts:["binary","encoding"],tags:["has-solution"],nextPuzzle:"poisoned-wine-extension",credit:"Classic puzzle. Question and solution written by Puzzlestone Peak.",dateCreated:"2026-02-03",lastUpdated:"2026-02-03",preview:"To celebrate a decade of his rule, the king is holding an extravagant feast, accompanied with 1000 bottles of wine. However, the day before the feast, he...",websitePreview:"To celebrate a decade of his rule, the king is holding an extravagant feast, accompanied with 1000 bottles of wine. However, the day before the feast, he..."},content:`<p>To celebrate a decade of his rule, the king is holding an extravagant feast, accompanied with 1000 bottles of wine. However, the day before the feast, he receives a report that an unknown infiltrator had poisoned a bottle of wine with Gravedew: a deadly poison. If a person ingests even a single drop of it, they’ll drop dead in 24 hours. Gravedew is colourless, odourless, and tasteless; the only way to find out if a bottle has been poisoned is for someone to drink the wine and see if they die in 24 hours.</p>
<p>The king realises he could administer the wine to the prisoners on death row to test for the poison. If 1000 prisoners each drank a small cup of wine from each bottle, they could determine which is the poisoned wine bottle.</p>
<p>But he didn’t have 1000 prisoners on death row. How else can he administer the wine to the prisoners so that he can determine the poisoned bottle of wine in 24 hours? And what is the minimum number of prisoners needed to do so?</p>
<details class="content-block hint-block" data-type="hint"><summary class="hint-label">Hint</summary><div class="hint-content markdown-content prose max-w-none px-4 py-4 space-y-4"><p>If the king had 999 prisoners, he could serve 1 bottle to each prisoner, leaving the 1000th bottle alone. If nobody dies after 24 hours, then the 1000th bottle is the poisoned one. However, you can do better than 999.</p></div></details>
<details class="content-block hint-block" data-type="hint"><summary class="hint-label">Hint</summary><div class="hint-content markdown-content prose max-w-none px-4 py-4 space-y-4"><p>Consider representing each bottle as a binary number.</p></div></details>
<details class="content-block solution-block" data-type="solution"><summary class="solution-label">Solution</summary><div class="solution-content markdown-content prose max-w-none px-4 py-4 space-y-4"><p><strong>Answer</strong>: 10 prisoners</p><p>We only need 10 prisoners to find the poisoned bottle.</p><p>Number the bottles of wine from 1 to 1000, and the prisoners 1 to 10. For each bottle, convert its number into a 10-digit binary number. For instance, the 700th bottle would be 1010111100. The first digit is 1, so we feed it to the first prisoner. The second digit is 0, so we don’t feed it to the second prisoner. The third digit is 1, so we feed it to the third prisoner, and so on. We do this for all the wine bottles.</p><p>The next day, we observe the dead prisoners. For example, if the 1st, 5th, 7th, and 8th prisoners die, we convert that into the binary number 1000101100 (where the 1s are in the 1st, 5th, 7th, and 8th position). Converting that into a decimal number, we get 556, indicating that the 556th bottle is poisoned. This is because we fed the 556th bottle to the 1st, 5th, 7th, and 8th prisoners, and no other bottles were fed to this exact set of prisoners.</p><p>If you’re confused, let’s consider a simpler example with 3 wine bottles and 2 prisoners.</p><p>Bottle 1 = 01 in binary, so we feed it to the 2nd prisoner.<br>
Bottle 2 = 10 in binary, so we feed it to the 1st prisoner.<br>
Bottle 3 = 11 in binary, so we feed it to the 1st and 2nd prisoner.</p><p>The next day, if the 1st prisoner dies, we know that bottle 2 is poisoned. If the 2nd prisoner dies, we know that bottle 1 is poisoned. If both prisoners die, we know that bottle 3 is poisoned.</p><p>Every combination of dead prisoners is unique to a bottle because the binary representation of any 2 distinct numbers will be different.</p><details class="content-block note-block note-note" data-type="note" data-note-type="note"><summary class="note-label note-note-label">Proof of Optimality</summary><div class="note-content markdown-content prose max-w-none px-4 py-4 space-y-4"><p>We can also show that for 1000 bottles, we cannot find the bottle with fewer than 10 prisoners. Since each prisoner either lives or dies, with 9 prisoners there would be <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mn>9</mn></msup><mo>=</mo><mn>512</mn></mrow><annotation>2^9 = 512</annotation></semantics></math></span><span class="katex-html"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">512</span></span></span></span> different combinations of outcomes — not enough to distinguish the 1000 bottles of wine.</p><p>10 prisoners gives us <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mn>10</mn></msup><mo>=</mo><mn>1024</mn></mrow><annotation>2^{10} = 1024</annotation></semantics></math></span><span class="katex-html"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1024</span></span></span></span> outcomes, allowing us to distinguish up to 1024 bottles of wine. We’d label the bottles from 0 to 1023 to ensure all of them are 10-digit binary numbers (since 1024 is an 11-digit number in binary).</p></div></details></div></details>`,rawContent:`
To celebrate a decade of his rule, the king is holding an extravagant feast, accompanied with 1000 bottles of wine. However, the day before the feast, he receives a report that an unknown infiltrator had poisoned a bottle of wine with Gravedew: a deadly poison. If a person ingests even a single drop of it, they’ll drop dead in 24 hours. Gravedew is colourless, odourless, and tasteless; the only way to find out if a bottle has been poisoned is for someone to drink the wine and see if they die in 24 hours.

The king realises he could administer the wine to the prisoners on death row to test for the poison. If 1000 prisoners each drank a small cup of wine from each bottle, they could determine which is the poisoned wine bottle.

But he didn’t have 1000 prisoners on death row. How else can he administer the wine to the prisoners so that he can determine the poisoned bottle of wine in 24 hours? And what is the minimum number of prisoners needed to do so?

:::hint
If the king had 999 prisoners, he could serve 1 bottle to each prisoner, leaving the 1000th bottle alone. If nobody dies after 24 hours, then the 1000th bottle is the poisoned one. However, you can do better than 999.
:::

:::hint
Consider representing each bottle as a binary number.
:::

:::solution
**Answer**: 10 prisoners

We only need 10 prisoners to find the poisoned bottle.

Number the bottles of wine from 1 to 1000, and the prisoners 1 to 10. For each bottle, convert its number into a 10-digit binary number. For instance, the 700th bottle would be 1010111100. The first digit is 1, so we feed it to the first prisoner. The second digit is 0, so we don’t feed it to the second prisoner. The third digit is 1, so we feed it to the third prisoner, and so on. We do this for all the wine bottles.

The next day, we observe the dead prisoners. For example, if the 1st, 5th, 7th, and 8th prisoners die, we convert that into the binary number 1000101100 (where the 1s are in the 1st, 5th, 7th, and 8th position). Converting that into a decimal number, we get 556, indicating that the 556th bottle is poisoned. This is because we fed the 556th bottle to the 1st, 5th, 7th, and 8th prisoners, and no other bottles were fed to this exact set of prisoners.

If you’re confused, let’s consider a simpler example with 3 wine bottles and 2 prisoners.

Bottle 1 = 01 in binary, so we feed it to the 2nd prisoner.  
Bottle 2 = 10 in binary, so we feed it to the 1st prisoner.  
Bottle 3 = 11 in binary, so we feed it to the 1st and 2nd prisoner.

The next day, if the 1st prisoner dies, we know that bottle 2 is poisoned. If the 2nd prisoner dies, we know that bottle 1 is poisoned. If both prisoners die, we know that bottle 3 is poisoned.

Every combination of dead prisoners is unique to a bottle because the binary representation of any 2 distinct numbers will be different.

:::note[Proof of Optimality]{collapsible}
We can also show that for 1000 bottles, we cannot find the bottle with fewer than 10 prisoners. Since each prisoner either lives or dies, with 9 prisoners there would be $2^9 = 512$ different combinations of outcomes — not enough to distinguish the 1000 bottles of wine.

10 prisoners gives us $2^{10} = 1024$ outcomes, allowing us to distinguish up to 1024 bottles of wine. We’d label the bottles from 0 to 1023 to ensure all of them are 10-digit binary numbers (since 1024 is an 11-digit number in binary).
:::
`,dynamicBlocks:[],inlineComponents:{}};export{e as default};
