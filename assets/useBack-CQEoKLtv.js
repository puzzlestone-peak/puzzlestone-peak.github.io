import{p as d,a as p,q as v,z as k}from"./chunk-OIYGIGL5-B3h4I76-.js";import{B as g}from"./Button-BGSe_H6B.js";import{a as E,c as w}from"./context-B3gb7suB.js";import{C as x}from"./index-DtD29yFG.js";import{a as S}from"./index-DOJqmghs.js";import{D as L}from"./DynamicBlock-DU4kjaS8.js";function D({type:e,slug:r,label:l}){const c=E(e,r),i=w(e,r),t=c?e==="puzzle"?"Solved":"Completed":l||(e==="puzzle"?"Mark as Solved":"Mark as Complete"),m=c?`Mark ${e} as ${e==="puzzle"?"unsolved":"incomplete"}`:`Mark ${e} as ${e==="puzzle"?"solved":"complete"}`;return d.jsxs(g,{variant:c?"contained":"outlined",color:"completed",onClick:i,"aria-label":m,className:"gap-2 w-40",children:[c&&d.jsx(x,{className:"h-4 w-4"}),t]})}const M="modulepreload",z=function(e){return"/"+e},h={},q=function(r,l,c){let i=Promise.resolve();if(l&&l.length>0){let m=function(o){return Promise.all(o.map(s=>Promise.resolve(s).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),t=n?.nonce||n?.getAttribute("nonce");i=m(l.map(o=>{if(o=z(o),o in h)return;h[o]=!0;const s=o.endsWith(".css"),f=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${f}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":M,s||(u.as="script"),u.crossOrigin="",u.href=o,t&&u.setAttribute("nonce",t),document.head.appendChild(u),s)return new Promise((C,b)=>{u.addEventListener("load",C),u.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${o}`)))})}))}function a(n){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=n,window.dispatchEvent(t),!t.defaultPrevented)throw n}return i.then(n=>{for(const t of n||[])t.status==="rejected"&&a(t.reason);return r().catch(a)})};function R({content:e,dynamicBlocks:r=[]}){const[l,c]=p.useState(new Map),i=p.useCallback(a=>{if(!a||(a.innerHTML=e,r.length===0))return;const n=a.querySelectorAll(".dynamic-block-placeholder"),t=new Map;n.forEach(m=>{const o=parseInt(m.getAttribute("data-dynamic-block-id")||"-1",10);if(o>=0&&o<r.length){const s=document.createElement("div");s.setAttribute("data-dynamic-block-react",o.toString()),s.className="dynamic-block-container",m.replaceWith(s),t.set(o,s)}}),c(t)},[e,r]);return d.jsxs(d.Fragment,{children:[d.jsx("div",{ref:i,className:"markdown-content prose max-w-none space-y-4"}),Array.from(l.entries()).map(([a,n])=>{const t=r[a];return t?S.createPortal(d.jsx(L,{blockId:a,blockData:t},a),n):null})]})}function T(e){const r=v(),l=k();return r.key!=="default"?{to:e,onClick:i=>{i.preventDefault(),l(-1)}}:{to:e}}export{D as C,R as M,q as _,T as u};
