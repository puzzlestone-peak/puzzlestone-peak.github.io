import{b as u,t as e,w as x,x as p,A as g,i as f,L as z}from"./index-DIth0oIc.js";import{puzzleIndex as a}from"./puzzleIndex-ckSbsijI.js";import{P as m}from"./difficulty-types-Yz_I7Ggm.js";import{q as i,D as h,C as y,m as b,n as j,l as C,o as P,p as E,R as w,B as N}from"./card-fxtljBLB.js";import{C as d}from"./CardContainer-DpRkS-A3.js";import{u as v,I as L}from"./ItemCardList-C-RxMh7h.js";import{r as I,g as R,E as k}from"./ErrorBoundary-B5mn_yui.js";function B(l){return{count:5,filters:[{type:"exclude",excludeList:l?.excludeList??[]},{type:"completion",status:"undone"},{type:"publication",mode:"auto"}],fallbacks:[{type:"difficulty",strategy:"balanced",balanceConstraint:{type:"max-min-diff",maxDiff:1},excludeFullyCompletedDifficulties:!0},{type:"completion",allowCompleted:!0}],selectionStrategy:{type:"random-by-difficulty",mode:"one-per-difficulty",difficulties:[...m]},balancingStrategy:{type:"difficulty-balance",maxDiff:1,excludeFullyCompleted:!0}}}function D(){const l=v(),t=u.useMemo(()=>{const s=B({excludeList:[]});return I(s,{allPuzzles:a,userProgress:l,environment:"production",seed:R("puzzle-categories")})},[l]);return t.length===0?null:e.jsxs("section",{className:"mt-12",children:[e.jsx("h2",{className:"mb-4 text-xl font-bold text-foreground lg:text-2xl",children:"Recommended Puzzles"}),e.jsx(L,{type:"puzzle",items:t,variant:"regular"})]})}const M=()=>[{title:"All Puzzles - Puzzlestone Peak"},{name:"description",content:"Browse all logic puzzles organized by difficulty: Easy, Medium, Hard, Expert, and Open problems."},{property:"og:title",content:"All Puzzles - Puzzlestone Peak"},{property:"og:description",content:"Browse all logic puzzles organized by difficulty: Easy, Medium, Hard, Expert, and Open problems."},{property:"og:type",content:"website"}];function c({title:l,description:t,count:s,href:n}){return e.jsxs(z,{to:n,className:"block p-5 lg:p-8 border-b border-divider last:border-b-0 transition-colors hover:bg-muted no-underline",children:[e.jsxs("div",{className:"flex items-baseline justify-between mb-2",children:[e.jsx("h3",{className:"text-lg lg:text-2xl font-semibold text-foreground hover:text-primary transition-colors",children:l}),e.jsxs("span",{className:"text-sm lg:text-base font-medium text-link ml-4",children:[s," ",s===1?"puzzle":"puzzles"]})]}),e.jsx("p",{className:"text-muted-foreground text-sm lg:text-[0.95rem] leading-relaxed max-w-[800px]",children:t})]})}const Z=x(function(){const t=Object.fromEntries(m.map(r=>[r,a.filter(o=>o.difficulty===r).length])),s=a.filter(r=>r.tags?.includes("starter")).length;return a.filter(r=>r.tags?.includes("developer")).length,e.jsxs("div",{className:"container mx-auto px-4 lg:px-8 py-6 lg:py-12 max-w-container",children:[e.jsxs("div",{className:"mb-6 lg:mb-8",children:[e.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-2 text-foreground tracking-tight",children:"Puzzle Library"}),e.jsx("p",{className:"text-muted-foreground text-base lg:text-lg",children:"Browse our hand-curated puzzles"})]}),e.jsxs(d,{className:"mb-6 lg:mb-8",children:[e.jsx(c,{title:"All Puzzles",description:"Browse every puzzle in the library",count:a.length,href:i("all")}),s>0&&e.jsx(c,{title:"Starter Puzzles",description:"Puzzles for new hikers starting out!",count:s,href:i("starter")}),!1]}),e.jsx("h2",{className:"text-xl lg:text-2xl font-semibold mb-4 text-foreground",children:"Puzzles By Difficulty"}),e.jsx(d,{children:Object.keys(t).map(r=>e.jsx(c,{title:r.charAt(0).toUpperCase()+r.slice(1),description:h[r],count:t[r],href:i(r)},r))}),e.jsx(k,{context:"recommendations",children:e.jsx(D,{})})]})}),_=p(function(){const t=g(),[s,n]=u.useState(!1);let r="Unable to Load Puzzle Categories",o="An error occurred while loading puzzle categories.";return f(t)?(r=`Error ${t.status}`,o="An error occurred while loading puzzle categories.",t.data?.message||t.statusText):t instanceof Error&&(t.message.includes("index")||t.message.includes("Index")?(r="Puzzle Index Error",o="Failed to load the puzzle index. This may be a temporary issue."):(t.message.includes("category")||t.message.includes("filter"))&&(r="Category Loading Error",o="There was a problem loading puzzle categories."),t.message),e.jsx("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:e.jsxs(y,{className:"border-destructive/50",children:[e.jsx(b,{children:e.jsxs(j,{className:"flex items-center gap-3",children:[e.jsx(C,{className:"text-destructive size-8"}),r]})}),e.jsxs(P,{className:"space-y-6",children:[e.jsx("p",{className:"text-muted-foreground",children:o}),e.jsxs("div",{className:"flex gap-3 flex-wrap",children:[e.jsx(E,{to:w.HOME,variant:"contained",color:"primary",children:"Return Home"}),e.jsx(N,{variant:"outlined",onClick:()=>window.location.reload(),children:"Reload Page"})]}),!1]})]})})});export{_ as ErrorBoundary,Z as default,M as meta};
