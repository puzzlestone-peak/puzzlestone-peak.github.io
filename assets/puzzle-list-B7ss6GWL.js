import{b as r,t as e,R as ne,f as $e,w as Vt,z as Ht,A as Ut,B as Wt,L as Kt}from"./index-BdwX92X6.js";import{puzzleIndex as $t}from"./puzzleIndex-mVLt7SRB.js";import{k as Oe,c as V,u as L,m as Pe,D as Gt,n as Z,R as Ue}from"./createLucideIcon-DsSOLlez.js";import{c as ze,a as Ge,A as Zt,P as A,b as E,d as J,e as qt,f as Le,g as Yt,D as Xt,C as Jt,h as Te,R as Qt,V as eo,i as to,j as Ze,k as oo,l as no,m as ro,I as so}from"./ItemCardList-DvmhThDx.js";import{h as ao,u as lo,R as co,F as io}from"./index-B45mOPFH.js";import{C as We}from"./CardContainer-CLfv6Cxm.js";/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Be=Oe("chevron-down",uo);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],qe=Oe("chevron-up",po);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],mo=Oe("search",fo),Re=r.forwardRef(({className:n,type:t,...o},l)=>e.jsx("input",{type:t,className:V("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:l,...o}));Re.displayName="Input";function Ke(n,[t,o]){return Math.min(o,Math.max(t,n))}function ho(n){const t=n+"CollectionProvider",[o,l]=ze(t),[a,d]=o(t,{collectionRef:{current:null},itemMap:new Map}),s=f=>{const{scope:m,children:g}=f,p=ne.useRef(null),v=ne.useRef(new Map).current;return e.jsx(a,{scope:m,itemMap:v,collectionRef:p,children:g})};s.displayName=t;const i=n+"CollectionSlot",c=Pe(i),h=ne.forwardRef((f,m)=>{const{scope:g,children:p}=f,v=d(i,g),j=L(m,v.collectionRef);return e.jsx(c,{ref:j,children:p})});h.displayName=i;const x=n+"CollectionItemSlot",C="data-radix-collection-item",b=Pe(x),N=ne.forwardRef((f,m)=>{const{scope:g,children:p,...v}=f,j=ne.useRef(null),R=L(m,j),M=d(x,g);return ne.useEffect(()=>(M.itemMap.set(j,{ref:j,...v}),()=>void M.itemMap.delete(j))),e.jsx(b,{[C]:"",ref:R,children:p})});N.displayName=x;function w(f){const m=d(n+"CollectionConsumer",f);return ne.useCallback(()=>{const p=m.collectionRef.current;if(!p)return[];const v=Array.from(p.querySelectorAll(`[${C}]`));return Array.from(m.itemMap.values()).sort((M,T)=>v.indexOf(M.ref.current)-v.indexOf(T.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:s,Slot:h,ItemSlot:N},w,l]}var xo=r.createContext(void 0);function go(n){const t=r.useContext(xo);return n||t||"ltr"}function Ye(n){const t=r.useRef({value:n,previous:n});return r.useMemo(()=>(t.current.value!==n&&(t.current.previous=t.current.value,t.current.value=n),t.current.previous),[n])}var vo=[" ","Enter","ArrowUp","ArrowDown"],So=[" ","Enter"],re="Select",[ge,ve,Co]=ho(re),[le]=ze(re,[Co,Ge]),Se=Ge(),[wo,Q]=le(re),[yo,bo]=le(re),Xe=n=>{const{__scopeSelect:t,children:o,open:l,defaultOpen:a,onOpenChange:d,value:s,defaultValue:i,onValueChange:c,dir:h,name:x,autoComplete:C,disabled:b,required:N,form:w}=n,f=Se(t),[m,g]=r.useState(null),[p,v]=r.useState(null),[j,R]=r.useState(!1),M=go(h),[T,u]=Te({prop:l,defaultProp:a??!1,onChange:d,caller:re}),[y,O]=Te({prop:s,defaultProp:i,onChange:c,caller:re}),U=r.useRef(null),W=m?w||!!m.closest("form"):!0,[q,K]=r.useState(new Set),$=Array.from(q).map(z=>z.props.value).join(";");return e.jsx(Qt,{...f,children:e.jsxs(wo,{required:N,scope:t,trigger:m,onTriggerChange:g,valueNode:p,onValueNodeChange:v,valueNodeHasChildren:j,onValueNodeHasChildrenChange:R,contentId:Le(),value:y,onValueChange:O,open:T,onOpenChange:u,dir:M,triggerPointerDownPosRef:U,disabled:b,children:[e.jsx(ge.Provider,{scope:t,children:e.jsx(yo,{scope:n.__scopeSelect,onNativeOptionAdd:r.useCallback(z=>{K(H=>new Set(H).add(z))},[]),onNativeOptionRemove:r.useCallback(z=>{K(H=>{const G=new Set(H);return G.delete(z),G})},[]),children:o})}),W?e.jsxs(wt,{"aria-hidden":!0,required:N,tabIndex:-1,name:x,autoComplete:C,value:y,onChange:z=>O(z.target.value),disabled:b,form:w,children:[y===void 0?e.jsx("option",{value:""}):null,Array.from(q)]},$):null]})})};Xe.displayName=re;var Je="SelectTrigger",Qe=r.forwardRef((n,t)=>{const{__scopeSelect:o,disabled:l=!1,...a}=n,d=Se(o),s=Q(Je,o),i=s.disabled||l,c=L(t,s.onTriggerChange),h=ve(o),x=r.useRef("touch"),[C,b,N]=bt(f=>{const m=h().filter(v=>!v.disabled),g=m.find(v=>v.value===s.value),p=Nt(m,f,g);p!==void 0&&s.onValueChange(p.value)}),w=f=>{i||(s.onOpenChange(!0),N()),f&&(s.triggerPointerDownPosRef.current={x:Math.round(f.pageX),y:Math.round(f.pageY)})};return e.jsx(Zt,{asChild:!0,...d,children:e.jsx(A.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":yt(s.value)?"":void 0,...a,ref:c,onClick:E(a.onClick,f=>{f.currentTarget.focus(),x.current!=="mouse"&&w(f)}),onPointerDown:E(a.onPointerDown,f=>{x.current=f.pointerType;const m=f.target;m.hasPointerCapture(f.pointerId)&&m.releasePointerCapture(f.pointerId),f.button===0&&f.ctrlKey===!1&&f.pointerType==="mouse"&&(w(f),f.preventDefault())}),onKeyDown:E(a.onKeyDown,f=>{const m=C.current!=="";!(f.ctrlKey||f.altKey||f.metaKey)&&f.key.length===1&&b(f.key),!(m&&f.key===" ")&&vo.includes(f.key)&&(w(),f.preventDefault())})})})});Qe.displayName=Je;var et="SelectValue",tt=r.forwardRef((n,t)=>{const{__scopeSelect:o,className:l,style:a,children:d,placeholder:s="",...i}=n,c=Q(et,o),{onValueNodeHasChildrenChange:h}=c,x=d!==void 0,C=L(t,c.onValueNodeChange);return J(()=>{h(x)},[h,x]),e.jsx(A.span,{...i,ref:C,style:{pointerEvents:"none"},children:yt(c.value)?e.jsx(e.Fragment,{children:s}):d})});tt.displayName=et;var No="SelectIcon",ot=r.forwardRef((n,t)=>{const{__scopeSelect:o,children:l,...a}=n;return e.jsx(A.span,{"aria-hidden":!0,...a,ref:t,children:l||"▼"})});ot.displayName=No;var jo="SelectPortal",nt=n=>e.jsx(qt,{asChild:!0,...n});nt.displayName=jo;var se="SelectContent",rt=r.forwardRef((n,t)=>{const o=Q(se,n.__scopeSelect),[l,a]=r.useState();if(J(()=>{a(new DocumentFragment)},[]),!o.open){const d=l;return d?$e.createPortal(e.jsx(st,{scope:n.__scopeSelect,children:e.jsx(ge.Slot,{scope:n.__scopeSelect,children:e.jsx("div",{children:n.children})})}),d):null}return e.jsx(at,{...n,ref:t})});rt.displayName=se;var F=10,[st,ee]=le(se),Io="SelectContentImpl",Po=Pe("SelectContent.RemoveScroll"),at=r.forwardRef((n,t)=>{const{__scopeSelect:o,position:l="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:d,onPointerDownOutside:s,side:i,sideOffset:c,align:h,alignOffset:x,arrowPadding:C,collisionBoundary:b,collisionPadding:N,sticky:w,hideWhenDetached:f,avoidCollisions:m,...g}=n,p=Q(se,o),[v,j]=r.useState(null),[R,M]=r.useState(null),T=L(t,S=>j(S)),[u,y]=r.useState(null),[O,U]=r.useState(null),W=ve(o),[q,K]=r.useState(!1),$=r.useRef(!1);r.useEffect(()=>{if(v)return ao(v)},[v]),lo();const z=r.useCallback(S=>{const[k,...B]=W().map(_=>_.ref.current),[I]=B.slice(-1),P=document.activeElement;for(const _ of S)if(_===P||(_?.scrollIntoView({block:"nearest"}),_===k&&R&&(R.scrollTop=0),_===I&&R&&(R.scrollTop=R.scrollHeight),_?.focus(),document.activeElement!==P))return},[W,R]),H=r.useCallback(()=>z([u,v]),[z,u,v]);r.useEffect(()=>{q&&H()},[q,H]);const{onOpenChange:G,triggerPointerDownPosRef:Y}=p;r.useEffect(()=>{if(v){let S={x:0,y:0};const k=I=>{S={x:Math.abs(Math.round(I.pageX)-(Y.current?.x??0)),y:Math.abs(Math.round(I.pageY)-(Y.current?.y??0))}},B=I=>{S.x<=10&&S.y<=10?I.preventDefault():v.contains(I.target)||G(!1),document.removeEventListener("pointermove",k),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",k),document.addEventListener("pointerup",B,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",B,{capture:!0})}}},[v,G,Y]),r.useEffect(()=>{const S=()=>G(!1);return window.addEventListener("blur",S),window.addEventListener("resize",S),()=>{window.removeEventListener("blur",S),window.removeEventListener("resize",S)}},[G]);const[we,pe]=bt(S=>{const k=W().filter(P=>!P.disabled),B=k.find(P=>P.ref.current===document.activeElement),I=Nt(k,S,B);I&&setTimeout(()=>I.ref.current.focus())}),ye=r.useCallback((S,k,B)=>{const I=!$.current&&!B;(p.value!==void 0&&p.value===k||I)&&(y(S),I&&($.current=!0))},[p.value]),be=r.useCallback(()=>v?.focus(),[v]),ae=r.useCallback((S,k,B)=>{const I=!$.current&&!B;(p.value!==void 0&&p.value===k||I)&&U(S)},[p.value]),fe=l==="popper"?ke:lt,ce=fe===ke?{side:i,sideOffset:c,align:h,alignOffset:x,arrowPadding:C,collisionBoundary:b,collisionPadding:N,sticky:w,hideWhenDetached:f,avoidCollisions:m}:{};return e.jsx(st,{scope:o,content:v,viewport:R,onViewportChange:M,itemRefCallback:ye,selectedItem:u,onItemLeave:be,itemTextRefCallback:ae,focusSelectedItem:H,selectedItemText:O,position:l,isPositioned:q,searchRef:we,children:e.jsx(co,{as:Po,allowPinchZoom:!0,children:e.jsx(io,{asChild:!0,trapped:p.open,onMountAutoFocus:S=>{S.preventDefault()},onUnmountAutoFocus:E(a,S=>{p.trigger?.focus({preventScroll:!0}),S.preventDefault()}),children:e.jsx(Xt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:s,onFocusOutside:S=>S.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:e.jsx(fe,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:S=>S.preventDefault(),...g,...ce,onPlaced:()=>K(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:E(g.onKeyDown,S=>{const k=S.ctrlKey||S.altKey||S.metaKey;if(S.key==="Tab"&&S.preventDefault(),!k&&S.key.length===1&&pe(S.key),["ArrowUp","ArrowDown","Home","End"].includes(S.key)){let I=W().filter(P=>!P.disabled).map(P=>P.ref.current);if(["ArrowUp","End"].includes(S.key)&&(I=I.slice().reverse()),["ArrowUp","ArrowDown"].includes(S.key)){const P=S.target,_=I.indexOf(P);I=I.slice(_+1)}setTimeout(()=>z(I)),S.preventDefault()}})})})})})})});at.displayName=Io;var To="SelectItemAlignedPosition",lt=r.forwardRef((n,t)=>{const{__scopeSelect:o,onPlaced:l,...a}=n,d=Q(se,o),s=ee(se,o),[i,c]=r.useState(null),[h,x]=r.useState(null),C=L(t,T=>x(T)),b=ve(o),N=r.useRef(!1),w=r.useRef(!0),{viewport:f,selectedItem:m,selectedItemText:g,focusSelectedItem:p}=s,v=r.useCallback(()=>{if(d.trigger&&d.valueNode&&i&&h&&f&&m&&g){const T=d.trigger.getBoundingClientRect(),u=h.getBoundingClientRect(),y=d.valueNode.getBoundingClientRect(),O=g.getBoundingClientRect();if(d.dir!=="rtl"){const P=O.left-u.left,_=y.left-P,te=T.left-_,oe=T.width+te,Ne=Math.max(oe,u.width),je=window.innerWidth-F,Ie=Ke(_,[F,Math.max(F,je-Ne)]);i.style.minWidth=oe+"px",i.style.left=Ie+"px"}else{const P=u.right-O.right,_=window.innerWidth-y.right-P,te=window.innerWidth-T.right-_,oe=T.width+te,Ne=Math.max(oe,u.width),je=window.innerWidth-F,Ie=Ke(_,[F,Math.max(F,je-Ne)]);i.style.minWidth=oe+"px",i.style.right=Ie+"px"}const U=b(),W=window.innerHeight-F*2,q=f.scrollHeight,K=window.getComputedStyle(h),$=parseInt(K.borderTopWidth,10),z=parseInt(K.paddingTop,10),H=parseInt(K.borderBottomWidth,10),G=parseInt(K.paddingBottom,10),Y=$+z+q+G+H,we=Math.min(m.offsetHeight*5,Y),pe=window.getComputedStyle(f),ye=parseInt(pe.paddingTop,10),be=parseInt(pe.paddingBottom,10),ae=T.top+T.height/2-F,fe=W-ae,ce=m.offsetHeight/2,S=m.offsetTop+ce,k=$+z+S,B=Y-k;if(k<=ae){const P=U.length>0&&m===U[U.length-1].ref.current;i.style.bottom="0px";const _=h.clientHeight-f.offsetTop-f.offsetHeight,te=Math.max(fe,ce+(P?be:0)+_+H),oe=k+te;i.style.height=oe+"px"}else{const P=U.length>0&&m===U[0].ref.current;i.style.top="0px";const te=Math.max(ae,$+f.offsetTop+(P?ye:0)+ce)+B;i.style.height=te+"px",f.scrollTop=k-ae+f.offsetTop}i.style.margin=`${F}px 0`,i.style.minHeight=we+"px",i.style.maxHeight=W+"px",l?.(),requestAnimationFrame(()=>N.current=!0)}},[b,d.trigger,d.valueNode,i,h,f,m,g,d.dir,l]);J(()=>v(),[v]);const[j,R]=r.useState();J(()=>{h&&R(window.getComputedStyle(h).zIndex)},[h]);const M=r.useCallback(T=>{T&&w.current===!0&&(v(),p?.(),w.current=!1)},[v,p]);return e.jsx(ko,{scope:o,contentWrapper:i,shouldExpandOnScrollRef:N,onScrollButtonChange:M,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:e.jsx(A.div,{...a,ref:C,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});lt.displayName=To;var Ro="SelectPopperPosition",ke=r.forwardRef((n,t)=>{const{__scopeSelect:o,align:l="start",collisionPadding:a=F,...d}=n,s=Se(o);return e.jsx(Jt,{...s,...d,ref:t,align:l,collisionPadding:a,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ke.displayName=Ro;var[ko,Fe]=le(se,{}),Ee="SelectViewport",ct=r.forwardRef((n,t)=>{const{__scopeSelect:o,nonce:l,...a}=n,d=ee(Ee,o),s=Fe(Ee,o),i=L(t,d.onViewportChange),c=r.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),e.jsx(ge.Slot,{scope:o,children:e.jsx(A.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:E(a.onScroll,h=>{const x=h.currentTarget,{contentWrapper:C,shouldExpandOnScrollRef:b}=s;if(b?.current&&C){const N=Math.abs(c.current-x.scrollTop);if(N>0){const w=window.innerHeight-F*2,f=parseFloat(C.style.minHeight),m=parseFloat(C.style.height),g=Math.max(f,m);if(g<w){const p=g+N,v=Math.min(w,p),j=p-v;C.style.height=v+"px",C.style.bottom==="0px"&&(x.scrollTop=j>0?j:0,C.style.justifyContent="flex-end")}}}c.current=x.scrollTop})})})]})});ct.displayName=Ee;var it="SelectGroup",[Eo,_o]=le(it),Ao=r.forwardRef((n,t)=>{const{__scopeSelect:o,...l}=n,a=Le();return e.jsx(Eo,{scope:o,id:a,children:e.jsx(A.div,{role:"group","aria-labelledby":a,...l,ref:t})})});Ao.displayName=it;var dt="SelectLabel",ut=r.forwardRef((n,t)=>{const{__scopeSelect:o,...l}=n,a=_o(dt,o);return e.jsx(A.div,{id:a.id,...l,ref:t})});ut.displayName=dt;var xe="SelectItem",[Mo,pt]=le(xe),ft=r.forwardRef((n,t)=>{const{__scopeSelect:o,value:l,disabled:a=!1,textValue:d,...s}=n,i=Q(xe,o),c=ee(xe,o),h=i.value===l,[x,C]=r.useState(d??""),[b,N]=r.useState(!1),w=L(t,p=>c.itemRefCallback?.(p,l,a)),f=Le(),m=r.useRef("touch"),g=()=>{a||(i.onValueChange(l),i.onOpenChange(!1))};if(l==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Mo,{scope:o,value:l,disabled:a,textId:f,isSelected:h,onItemTextChange:r.useCallback(p=>{C(v=>v||(p?.textContent??"").trim())},[]),children:e.jsx(ge.ItemSlot,{scope:o,value:l,disabled:a,textValue:x,children:e.jsx(A.div,{role:"option","aria-labelledby":f,"data-highlighted":b?"":void 0,"aria-selected":h&&b,"data-state":h?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...s,ref:w,onFocus:E(s.onFocus,()=>N(!0)),onBlur:E(s.onBlur,()=>N(!1)),onClick:E(s.onClick,()=>{m.current!=="mouse"&&g()}),onPointerUp:E(s.onPointerUp,()=>{m.current==="mouse"&&g()}),onPointerDown:E(s.onPointerDown,p=>{m.current=p.pointerType}),onPointerMove:E(s.onPointerMove,p=>{m.current=p.pointerType,a?c.onItemLeave?.():m.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:E(s.onPointerLeave,p=>{p.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:E(s.onKeyDown,p=>{c.searchRef?.current!==""&&p.key===" "||(So.includes(p.key)&&g(),p.key===" "&&p.preventDefault())})})})})});ft.displayName=xe;var ie="SelectItemText",mt=r.forwardRef((n,t)=>{const{__scopeSelect:o,className:l,style:a,...d}=n,s=Q(ie,o),i=ee(ie,o),c=pt(ie,o),h=bo(ie,o),[x,C]=r.useState(null),b=L(t,g=>C(g),c.onItemTextChange,g=>i.itemTextRefCallback?.(g,c.value,c.disabled)),N=x?.textContent,w=r.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:N},c.value),[c.disabled,c.value,N]),{onNativeOptionAdd:f,onNativeOptionRemove:m}=h;return J(()=>(f(w),()=>m(w)),[f,m,w]),e.jsxs(e.Fragment,{children:[e.jsx(A.span,{id:c.textId,...d,ref:b}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?$e.createPortal(d.children,s.valueNode):null]})});mt.displayName=ie;var ht="SelectItemIndicator",xt=r.forwardRef((n,t)=>{const{__scopeSelect:o,...l}=n;return pt(ht,o).isSelected?e.jsx(A.span,{"aria-hidden":!0,...l,ref:t}):null});xt.displayName=ht;var _e="SelectScrollUpButton",gt=r.forwardRef((n,t)=>{const o=ee(_e,n.__scopeSelect),l=Fe(_e,n.__scopeSelect),[a,d]=r.useState(!1),s=L(t,l.onScrollButtonChange);return J(()=>{if(o.viewport&&o.isPositioned){let i=function(){const h=c.scrollTop>0;d(h)};const c=o.viewport;return i(),c.addEventListener("scroll",i),()=>c.removeEventListener("scroll",i)}},[o.viewport,o.isPositioned]),a?e.jsx(St,{...n,ref:s,onAutoScroll:()=>{const{viewport:i,selectedItem:c}=o;i&&c&&(i.scrollTop=i.scrollTop-c.offsetHeight)}}):null});gt.displayName=_e;var Ae="SelectScrollDownButton",vt=r.forwardRef((n,t)=>{const o=ee(Ae,n.__scopeSelect),l=Fe(Ae,n.__scopeSelect),[a,d]=r.useState(!1),s=L(t,l.onScrollButtonChange);return J(()=>{if(o.viewport&&o.isPositioned){let i=function(){const h=c.scrollHeight-c.clientHeight,x=Math.ceil(c.scrollTop)<h;d(x)};const c=o.viewport;return i(),c.addEventListener("scroll",i),()=>c.removeEventListener("scroll",i)}},[o.viewport,o.isPositioned]),a?e.jsx(St,{...n,ref:s,onAutoScroll:()=>{const{viewport:i,selectedItem:c}=o;i&&c&&(i.scrollTop=i.scrollTop+c.offsetHeight)}}):null});vt.displayName=Ae;var St=r.forwardRef((n,t)=>{const{__scopeSelect:o,onAutoScroll:l,...a}=n,d=ee("SelectScrollButton",o),s=r.useRef(null),i=ve(o),c=r.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return r.useEffect(()=>()=>c(),[c]),J(()=>{i().find(x=>x.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[i]),e.jsx(A.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:E(a.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(l,50))}),onPointerMove:E(a.onPointerMove,()=>{d.onItemLeave?.(),s.current===null&&(s.current=window.setInterval(l,50))}),onPointerLeave:E(a.onPointerLeave,()=>{c()})})}),Do="SelectSeparator",Ct=r.forwardRef((n,t)=>{const{__scopeSelect:o,...l}=n;return e.jsx(A.div,{"aria-hidden":!0,...l,ref:t})});Ct.displayName=Do;var Me="SelectArrow",Oo=r.forwardRef((n,t)=>{const{__scopeSelect:o,...l}=n,a=Se(o),d=Q(Me,o),s=ee(Me,o);return d.open&&s.position==="popper"?e.jsx(to,{...a,...l,ref:t}):null});Oo.displayName=Me;var zo="SelectBubbleInput",wt=r.forwardRef(({__scopeSelect:n,value:t,...o},l)=>{const a=r.useRef(null),d=L(l,a),s=Ye(t);return r.useEffect(()=>{const i=a.current;if(!i)return;const c=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==t&&x){const C=new Event("change",{bubbles:!0});x.call(i,t),i.dispatchEvent(C)}},[s,t]),e.jsx(A.select,{...o,style:{...eo,...o.style},ref:d,defaultValue:t})});wt.displayName=zo;function yt(n){return n===""||n===void 0}function bt(n){const t=Yt(n),o=r.useRef(""),l=r.useRef(0),a=r.useCallback(s=>{const i=o.current+s;t(i),(function c(h){o.current=h,window.clearTimeout(l.current),h!==""&&(l.current=window.setTimeout(()=>c(""),1e3))})(i)},[t]),d=r.useCallback(()=>{o.current="",window.clearTimeout(l.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(l.current),[]),[o,a,d]}function Nt(n,t,o){const a=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,d=o?n.indexOf(o):-1;let s=Lo(n,Math.max(d,0));a.length===1&&(s=s.filter(h=>h!==o));const c=s.find(h=>h.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==o?c:void 0}function Lo(n,t){return n.map((o,l)=>n[(t+l)%n.length])}var Bo=Xe,jt=Qe,Fo=tt,Vo=ot,Ho=nt,It=rt,Uo=ct,Pt=ut,Tt=ft,Wo=mt,Ko=xt,Rt=gt,kt=vt,Et=Ct;const me=Bo,he=Fo,de=r.forwardRef(({className:n,children:t,...o},l)=>e.jsxs(jt,{ref:l,className:V("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...o,children:[t,e.jsx(Vo,{asChild:!0,children:e.jsx(Be,{className:"h-4 w-4 opacity-50"})})]}));de.displayName=jt.displayName;const _t=r.forwardRef(({className:n,...t},o)=>e.jsx(Rt,{ref:o,className:V("flex cursor-default items-center justify-center py-1",n),...t,children:e.jsx(qe,{className:"h-4 w-4"})}));_t.displayName=Rt.displayName;const At=r.forwardRef(({className:n,...t},o)=>e.jsx(kt,{ref:o,className:V("flex cursor-default items-center justify-center py-1",n),...t,children:e.jsx(Be,{className:"h-4 w-4"})}));At.displayName=kt.displayName;const ue=r.forwardRef(({className:n,children:t,position:o="popper",...l},a)=>e.jsx(Ho,{children:e.jsxs(It,{ref:a,className:V("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border border-input bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",o==="popper"&&"w-[var(--radix-select-trigger-width)] data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:o,...l,children:[e.jsx(_t,{}),e.jsx(Uo,{className:V("p-1",o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(At,{})]})}));ue.displayName=It.displayName;const $o=r.forwardRef(({className:n,...t},o)=>e.jsx(Pt,{ref:o,className:V("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...t}));$o.displayName=Pt.displayName;const D=r.forwardRef(({className:n,children:t,...o},l)=>e.jsxs(Tt,{ref:l,className:V("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-select-hover focus:text-select-hover-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ko,{children:e.jsx(Ze,{className:"h-4 w-4"})})}),e.jsx(Wo,{children:t})]}));D.displayName=Tt.displayName;const Go=r.forwardRef(({className:n,...t},o)=>e.jsx(Et,{ref:o,className:V("-mx-1 my-1 h-px bg-muted",n),...t}));Go.displayName=Et.displayName;var Ce="Checkbox",[Zo]=ze(Ce),[qo,Ve]=Zo(Ce);function Yo(n){const{__scopeCheckbox:t,checked:o,children:l,defaultChecked:a,disabled:d,form:s,name:i,onCheckedChange:c,required:h,value:x="on",internal_do_not_use_render:C}=n,[b,N]=Te({prop:o,defaultProp:a??!1,onChange:c,caller:Ce}),[w,f]=r.useState(null),[m,g]=r.useState(null),p=r.useRef(!1),v=w?!!s||!!w.closest("form"):!0,j={checked:b,disabled:d,setChecked:N,control:w,setControl:f,name:i,form:s,value:x,hasConsumerStoppedPropagationRef:p,required:h,defaultChecked:X(a)?!1:a,isFormControl:v,bubbleInput:m,setBubbleInput:g};return e.jsx(qo,{scope:t,...j,children:Xo(C)?C(j):l})}var Mt="CheckboxTrigger",Dt=r.forwardRef(({__scopeCheckbox:n,onKeyDown:t,onClick:o,...l},a)=>{const{control:d,value:s,disabled:i,checked:c,required:h,setControl:x,setChecked:C,hasConsumerStoppedPropagationRef:b,isFormControl:N,bubbleInput:w}=Ve(Mt,n),f=L(a,x),m=r.useRef(c);return r.useEffect(()=>{const g=d?.form;if(g){const p=()=>C(m.current);return g.addEventListener("reset",p),()=>g.removeEventListener("reset",p)}},[d,C]),e.jsx(A.button,{type:"button",role:"checkbox","aria-checked":X(c)?"mixed":c,"aria-required":h,"data-state":Ft(c),"data-disabled":i?"":void 0,disabled:i,value:s,...l,ref:f,onKeyDown:E(t,g=>{g.key==="Enter"&&g.preventDefault()}),onClick:E(o,g=>{C(p=>X(p)?!0:!p),w&&N&&(b.current=g.isPropagationStopped(),b.current||g.stopPropagation())})})});Dt.displayName=Mt;var He=r.forwardRef((n,t)=>{const{__scopeCheckbox:o,name:l,checked:a,defaultChecked:d,required:s,disabled:i,value:c,onCheckedChange:h,form:x,...C}=n;return e.jsx(Yo,{__scopeCheckbox:o,checked:a,defaultChecked:d,disabled:i,required:s,onCheckedChange:h,name:l,form:x,value:c,internal_do_not_use_render:({isFormControl:b})=>e.jsxs(e.Fragment,{children:[e.jsx(Dt,{...C,ref:t,__scopeCheckbox:o}),b&&e.jsx(Bt,{__scopeCheckbox:o})]})})});He.displayName=Ce;var Ot="CheckboxIndicator",zt=r.forwardRef((n,t)=>{const{__scopeCheckbox:o,forceMount:l,...a}=n,d=Ve(Ot,o);return e.jsx(oo,{present:l||X(d.checked)||d.checked===!0,children:e.jsx(A.span,{"data-state":Ft(d.checked),"data-disabled":d.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...n.style}})})});zt.displayName=Ot;var Lt="CheckboxBubbleInput",Bt=r.forwardRef(({__scopeCheckbox:n,...t},o)=>{const{control:l,hasConsumerStoppedPropagationRef:a,checked:d,defaultChecked:s,required:i,disabled:c,name:h,value:x,form:C,bubbleInput:b,setBubbleInput:N}=Ve(Lt,n),w=L(o,N),f=Ye(d),m=no(l);r.useEffect(()=>{const p=b;if(!p)return;const v=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(v,"checked").set,M=!a.current;if(f!==d&&R){const T=new Event("click",{bubbles:M});p.indeterminate=X(d),R.call(p,X(d)?!1:d),p.dispatchEvent(T)}},[b,f,d,a]);const g=r.useRef(X(d)?!1:d);return e.jsx(A.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??g.current,required:i,disabled:c,name:h,value:x,form:C,...t,tabIndex:-1,ref:w,style:{...t.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Bt.displayName=Lt;function Xo(n){return typeof n=="function"}function X(n){return n==="indeterminate"}function Ft(n){return X(n)?"indeterminate":n?"checked":"unchecked"}const De=r.forwardRef(({className:n,...t},o)=>e.jsx(He,{ref:o,className:V("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-checkbox-checked data-[state=checked]:text-checkbox-checked-foreground",n),...t,children:e.jsx(zt,{className:V("grid place-content-center text-current"),children:e.jsx(Ze,{className:"h-4 w-4"})})}));De.displayName=He.displayName;function Jo(n){const t=n.get("difficulties");if(!t)return new Set(Z);const o=t.split(",").filter(l=>Z.includes(l));return o.length>0?new Set(o):new Set(Z)}function Qo(n){const t=n.get("sort");return t==="name-asc"||t==="name-desc"||t==="date-created-desc"||t==="date-created-asc"?t:"date-created-desc"}function en(n){const t=n.get("status");return t==="done"||t==="undone"?t:"all"}const tn={all:"Browse every puzzle in the library",starter:"Puzzles for new hikers starting out!",developer:"Development and testing puzzles (dev mode only)",...Gt},cn=({data:n})=>{if(!n?.category)return[{title:"Puzzles - Puzzlestone Peak"},{name:"description",content:"Browse all logic puzzles organized by difficulty and category."}];const{category:t}=n,o=t==="all"?"All Puzzles":t==="starter"?"Starter Puzzles":t==="developer"?"Developer":t.charAt(0).toUpperCase()+t.slice(1),l=tn[t]||"Browse logic puzzles in this category";return[{title:`${o} - Puzzlestone Peak`},{name:"description",content:l},{property:"og:title",content:`${o} - Puzzlestone Peak`},{property:"og:description",content:l},{property:"og:type",content:"website"}]},dn=Vt(function(){const{category:t}=Ht(),[o,l]=Ut(),[a,d]=r.useState(()=>Qo(o)),[s,i]=r.useState(()=>Jo(o)),[c,h]=r.useState(()=>en(o)),[x,C]=r.useState(()=>o.get("search")||""),[b,N]=r.useState(!1),w=ro("puzzle"),m=!(t&&Z.includes(t)),g=u=>!u||u==="all"?"All Puzzles":u==="starter"?"Starter Puzzles":u==="developer"?"Developer":u.charAt(0).toUpperCase()+u.slice(1),p=r.useMemo(()=>{let u=[...$t];if(t&&t!=="all"&&(t==="starter"?u=u.filter(y=>y.tags?.includes("starter")):t==="developer"?u=u.filter(y=>y.tags?.includes("developer")):u=u.filter(y=>y.difficulty===t)),m&&s.size>0&&(u=u.filter(y=>s.has(y.difficulty))),x.trim()){const y=x.toLowerCase();u=u.filter(O=>O.title.toLowerCase().includes(y))}return c!=="all"&&(c==="done"?u=u.filter(y=>w.has(y.id)):u=u.filter(y=>!w.has(y.id))),u.sort((y,O)=>{switch(a){case"name-asc":return y.title.localeCompare(O.title);case"name-desc":return O.title.localeCompare(y.title);case"date-created-desc":return new Date(O.dateCreated).getTime()-new Date(y.dateCreated).getTime();case"date-created-asc":return new Date(y.dateCreated).getTime()-new Date(O.dateCreated).getTime();default:return 0}}),u},[t,a,s,c,x,m,w]);if(t&&!["all","starter",...Z].includes(t))return e.jsx(Wt,{to:Ue.PUZZLES,replace:!0});const v=p.length,j=p.filter(u=>w.has(u.id)).length,R=v-j,M=u=>{const y=new Set(s);y.has(u)?y.delete(u):y.add(u),i(y)};r.useEffect(()=>{const u=new URLSearchParams;if(a!=="date-created-desc"&&u.set("sort",a),x.trim()&&u.set("search",x),c!=="all"&&u.set("status",c),m&&s.size<Z.length){const y=Array.from(s).sort().join(",");u.set("difficulties",y)}l(u,{replace:!0})},[a,x,c,s,m,l]);const T=Z.length-s.size;return e.jsxs("div",{className:"container mx-auto px-4 lg:px-8 py-6 max-w-container",children:[e.jsxs("div",{className:"mb-6 lg:mb-8",children:[e.jsx(Kt,{to:Ue.PUZZLES,className:"inline-flex items-center gap-2 text-link hover:text-link-hover hover:underline mb-4 text-sm",children:"← Back to categories"}),e.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-2 text-foreground tracking-tight",children:g(t)}),e.jsx("p",{className:"text-muted-foreground text-base lg:text-lg",children:"Clean, focused interface for deep thinking"})]}),e.jsxs("div",{className:"lg:hidden grid grid-cols-3 gap-4 p-4 bg-muted rounded-lg mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"block font-bold text-primary text-2xl",children:v}),e.jsx("span",{className:"block text-muted-foreground text-xs mt-1",children:"Total"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"block font-bold text-primary text-2xl",children:j}),e.jsx("span",{className:"block text-muted-foreground text-xs mt-1",children:"Done"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"block font-bold text-primary text-2xl",children:R}),e.jsx("span",{className:"block text-muted-foreground text-xs mt-1",children:"Left"})]})]}),e.jsxs(We,{className:"lg:hidden mb-6",children:[e.jsxs("button",{onClick:()=>N(!b),className:"w-full px-4 py-3.5 flex items-center justify-between font-semibold text-primary cursor-pointer hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(mo,{className:"h-4 w-4"}),e.jsx("span",{children:"Filters & Search"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[T>0&&e.jsx("span",{className:"bg-primary text-primary-foreground px-2 py-0.5 rounded-full text-xs font-bold",children:T}),b?e.jsx(qe,{className:"h-4 w-4"}):e.jsx(Be,{className:"h-4 w-4"})]})]}),b&&e.jsxs("div",{className:"px-5 pb-5 pt-3 space-y-6 border-t border-divider",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Search"}),e.jsx(Re,{type:"search",placeholder:"Find puzzles...",value:x,onChange:u=>C(u.target.value),className:"text-sm"})]}),m&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Difficulty"}),e.jsx("div",{className:"space-y-3",children:Z.map(u=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm",children:[e.jsx(De,{checked:s.has(u),onCheckedChange:()=>M(u)}),e.jsx("span",{className:"capitalize",children:u})]},u))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Status"}),e.jsxs(me,{value:c,onValueChange:u=>h(u),children:[e.jsx(de,{className:"text-sm",children:e.jsx(he,{})}),e.jsxs(ue,{children:[e.jsx(D,{value:"all",children:"All Puzzles"}),e.jsx(D,{value:"done",children:"Completed"}),e.jsx(D,{value:"undone",children:"Not Completed"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Sort By"}),e.jsxs(me,{value:a,onValueChange:u=>d(u),children:[e.jsx(de,{className:"text-sm",children:e.jsx(he,{})}),e.jsxs(ue,{children:[e.jsx(D,{value:"date-created-desc",children:"Newest First"}),e.jsx(D,{value:"date-created-asc",children:"Oldest First"}),e.jsx(D,{value:"name-asc",children:"Name (A-Z)"}),e.jsx(D,{value:"name-desc",children:"Name (Z-A)"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[280px_1fr] gap-4 items-start",children:[e.jsx("aside",{className:"hidden lg:block lg:order-1 lg:sticky lg:top-8",children:e.jsxs(We,{className:"p-5 lg:p-6 space-y-6 lg:space-y-8 mb-6 lg:mb-0",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Search"}),e.jsx(Re,{type:"search",placeholder:"Find puzzles...",value:x,onChange:u=>C(u.target.value),className:"text-sm"})]}),m&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Difficulty"}),e.jsx("div",{className:"space-y-3",children:Z.map(u=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm",children:[e.jsx(De,{checked:s.has(u),onCheckedChange:()=>M(u)}),e.jsx("span",{className:"capitalize",children:u})]},u))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Status"}),e.jsxs(me,{value:c,onValueChange:u=>h(u),children:[e.jsx(de,{className:"text-sm",children:e.jsx(he,{})}),e.jsxs(ue,{children:[e.jsx(D,{value:"all",children:"All Puzzles"}),e.jsx(D,{value:"done",children:"Completed"}),e.jsx(D,{value:"undone",children:"Not Completed"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Sort By"}),e.jsxs(me,{value:a,onValueChange:u=>d(u),children:[e.jsx(de,{className:"text-sm",children:e.jsx(he,{})}),e.jsxs(ue,{children:[e.jsx(D,{value:"date-created-desc",children:"Newest First"}),e.jsx(D,{value:"date-created-asc",children:"Oldest First"}),e.jsx(D,{value:"name-asc",children:"Name (A-Z)"}),e.jsx(D,{value:"name-desc",children:"Name (Z-A)"})]})]})]}),e.jsxs("div",{className:"hidden lg:block pt-6 border-t border-divider space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Total"}),e.jsx("span",{className:"text-xl font-bold text-primary",children:v})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Completed"}),e.jsx("span",{className:"text-xl font-bold text-primary",children:j})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Remaining"}),e.jsx("span",{className:"text-xl font-bold text-primary",children:R})]})]})]})}),e.jsx("main",{className:"lg:order-2 min-w-0",children:p.length===0?e.jsx("div",{className:"text-center py-12 bg-card border border-border rounded-xl",children:e.jsx("p",{className:"text-muted-foreground",children:"No puzzles found matching your filters."})}):e.jsx(so,{type:"puzzle",items:p,variant:"regular"})})]})]})});export{dn as default,cn as meta};
