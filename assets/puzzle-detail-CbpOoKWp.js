import{u as f,C as _,M as y,_ as t}from"./useBack-CQEoKLtv.js";import{p as e,q as b,L as c,w as P,x as j,a}from"./chunk-OIYGIGL5-B3h4I76-.js";import{D}from"./DifficultyTag-Ck7ByvLY.js";import{puzzleIndex as L}from"./puzzleIndex-D1R-zNHD.js";import"./Button-BGSe_H6B.js";import{a as T,b as I}from"./context-B3gb7suB.js";import{b as R}from"./CompletionBadge-BctUExFk.js";import{c as N}from"./classname-utils-CBfrqCZ4.js";import{R as z}from"./routes-0K9ZwDUK.js";import"./index-DtD29yFG.js";import"./index-DOJqmghs.js";import"./DynamicBlock-DU4kjaS8.js";import"./use-dark-mode-B7Ql0dg3.js";const O=(o,r,s)=>{const n=o[r];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((l,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+r+(r.split("/").length!==s?". Note that variables only represent file names one level deep.":""))))})};function x(o){return new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function A({metadata:o}){return e.jsxs("div",{className:"space-y-4 border-b border-divider pb-6 mb-6",children:[e.jsx("div",{children:e.jsx(D,{difficulty:o.difficulty})}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Created: ",x(o.dateCreated)]}),o.lastUpdated!==o.dateCreated&&e.jsxs("span",{className:"ml-4",children:["Updated: ",x(o.lastUpdated)]})]}),o.credits&&e.jsx("div",{className:"text-sm text-muted-foreground prose prose-sm dark:prose-invert",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:o.credits}})})]})}function V({puzzle:o}){const r=b(),s=T("puzzle",o.slug);return e.jsxs(c,{to:`/puzzle/${o.slug}`,state:{from:r.pathname},className:N("relative block p-4 border rounded-lg hover:shadow-md transition-shadow",s?"border-completed bg-completed/5":"border-divider"),children:[e.jsx(R,{type:"puzzle",slug:o.slug,variant:"card"}),e.jsx("div",{className:"flex items-start gap-3",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base font-semibold text-foreground mb-1 pr-8",children:o.title}),e.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2 mb-2 pr-8",children:o.questionPreview})]})})]})}function h({type:o,puzzleSlug:r}){if(!r)return null;const s=L.find(l=>l.slug===r);if(!s)return null;const n=o==="previous"?"Previous puzzle in this series:":"Next puzzle in this series:";return e.jsxs("div",{className:"my-6",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:n}),e.jsx(V,{puzzle:s})]})}const Q=({data:o})=>o?.slug?[{title:`${o.slug} - Puzzlestone Peak`},{name:"description",content:"A challenging logic puzzle to test your problem-solving skills."}]:[{title:"Puzzle - Puzzlestone Peak"},{name:"description",content:"Explore logic puzzles and problem-solving challenges."}],W=P(function(){const{slug:r}=j(),[s,n]=a.useState(null),[l,i]=a.useState(!0),[g,u]=a.useState(null),v=f(z.PUZZLES);return I(r||""),a.useEffect(()=>{if(!r){u("No puzzle slug provided"),i(!1);return}(async()=>{try{i(!0),u(null);const{puzzleIndex:d}=await t(async()=>{const{puzzleIndex:m}=await import("./puzzleIndex-D1R-zNHD.js");return{puzzleIndex:m}},[]),p=d.find(m=>m.slug===r);if(!p)throw new Error("Puzzle not found in manifest");const E=(await O(Object.assign({"../../content/puzzles/cryptography/cryptography-caesar.md":()=>t(()=>import("./cryptography-caesar-CffKniTG.js"),[]),"../../content/puzzles/cryptography/cryptography-quantum.md":()=>t(()=>import("./cryptography-quantum-BL4nNZTT.js"),[]),"../../content/puzzles/cryptography/cryptography-rsa.md":()=>t(()=>import("./cryptography-rsa-tKbspMHB.js"),[]),"../../content/puzzles/developer/dynamic-showcase.md":()=>t(()=>import("./dynamic-showcase-DZpNkgIg.js"),[]),"../../content/puzzles/graph-theory/graph-coloring-chromatic.md":()=>t(()=>import("./graph-coloring-chromatic-B_1uaoPd.js"),[]),"../../content/puzzles/graph-theory/graph-coloring-four-color.md":()=>t(()=>import("./graph-coloring-four-color-CH8GBzly.js"),[]),"../../content/puzzles/graph-theory/graph-coloring-intro.md":()=>t(()=>import("./graph-coloring-intro-BJL5AOi3.js"),[]),"../../content/puzzles/logic/busy-beaver.md":()=>t(()=>import("./busy-beaver-DCTOS5D7.js"),[]),"../../content/puzzles/logic/chess-number.md":()=>t(()=>import("./chess-number-DNlW9cJs.js"),[]),"../../content/puzzles/logic/logic-paradox-barber.md":()=>t(()=>import("./logic-paradox-barber-l_ZqP3xA.js"),[]),"../../content/puzzles/logic/logic-paradox-intro.md":()=>t(()=>import("./logic-paradox-intro-Cex9nmNs.js"),[]),"../../content/puzzles/logic/logic-paradox-liar.md":()=>t(()=>import("./logic-paradox-liar-CQWq6-hN.js"),[]),"../../content/puzzles/logic/monty-hall.md":()=>t(()=>import("./monty-hall-ExgMPSUX.js"),[]),"../../content/puzzles/logic/nim-game-basics.md":()=>t(()=>import("./nim-game-basics-pPaFTmWy.js"),[]),"../../content/puzzles/logic/nim-game-strategy.md":()=>t(()=>import("./nim-game-strategy-DRFa_78L.js"),[]),"../../content/puzzles/logic/nim-game-variations.md":()=>t(()=>import("./nim-game-variations-By0vZtBZ.js"),[]),"../../content/puzzles/logic/prisoners-switch.md":()=>t(()=>import("./prisoners-switch-EW1JeNLO.js"),[]),"../../content/puzzles/logic/ramsey-theory.md":()=>t(()=>import("./ramsey-theory-DsVsgDCE.js"),[]),"../../content/puzzles/logic/river-crossing.md":()=>t(()=>import("./river-crossing-IUE3MfNF.js"),[]),"../../content/puzzles/logic/tower-of-hanoi.md":()=>t(()=>import("./tower-of-hanoi-7FBV71CO.js"),[]),"../../content/puzzles/logic/two-doors.md":()=>t(()=>import("./two-doors-qZ0dLBeQ.js"),[]),"../../content/puzzles/number-theory/collatz-conjecture.md":()=>t(()=>import("./collatz-conjecture-CoCBqrnt.js"),[]),"../../content/puzzles/number-theory/continuum-hypothesis.md":()=>t(()=>import("./continuum-hypothesis-ClfGEg3Q.js"),[]),"../../content/puzzles/number-theory/goldbach.md":()=>t(()=>import("./goldbach-C7-U47d_.js"),[]),"../../content/puzzles/number-theory/perfect-numbers.md":()=>t(()=>import("./perfect-numbers-BorhFcM2.js"),[]),"../../content/puzzles/number-theory/prime-distribution.md":()=>t(()=>import("./prime-distribution-DTAhE9sK.js"),[]),"../../content/puzzles/number-theory/prime-gaps.md":()=>t(()=>import("./prime-gaps-PG6VTjm0.js"),[]),"../../content/puzzles/number-theory/prime-twins.md":()=>t(()=>import("./prime-twins-nmZmfe_W.js"),[]),"../../content/puzzles/number-theory/riemann-hypothesis.md":()=>t(()=>import("./riemann-hypothesis-DPD4tWba.js"),[]),"../../content/puzzles/number-theory/sum-of-squares.md":()=>t(()=>import("./sum-of-squares-zTcabRlE.js"),[]),"../../content/puzzles/number-theory/twin-primes-unsolved.md":()=>t(()=>import("./twin-primes-unsolved-Ck7yopsj.js"),[])}),`../../content/puzzles/${p._path}/${r}.md`,6)).default;n(E)}catch(d){console.error("Failed to load puzzle:",d),u("Puzzle not found")}finally{i(!1)}})()},[r]),l?e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-muted rounded w-3/4 mb-4"}),e.jsx("div",{className:"h-4 bg-muted rounded w-1/2 mb-8"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 bg-muted rounded"}),e.jsx("div",{className:"h-4 bg-muted rounded"}),e.jsx("div",{className:"h-4 bg-muted rounded w-5/6"})]})]})})}):g||!s?e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-4",children:"Puzzle Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"The puzzle you're looking for doesn't exist or has been moved."}),e.jsx(c,{to:z.PUZZLES,className:"inline-block px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Back to Puzzle Library"})]})}):e.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[e.jsx(c,{...v,className:"inline-flex items-center text-link hover:text-link-hover hover:underline mb-6 cursor-pointer",children:"‚Üê Back"}),e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[e.jsx("h1",{className:"text-4xl font-bold text-foreground flex-1",children:s.metadata.title}),e.jsx(_,{type:"puzzle",slug:r})]}),e.jsx(A,{metadata:s.metadata}),e.jsx(h,{type:"previous",puzzleSlug:s.metadata.previousPuzzle}),e.jsx(y,{content:s.content,dynamicBlocks:s.dynamicBlocks}),e.jsx("div",{className:"flex justify-center my-8",children:e.jsx(_,{type:"puzzle",slug:r})}),e.jsx(h,{type:"next",puzzleSlug:s.metadata.nextPuzzle})]})});export{W as default,Q as meta};
